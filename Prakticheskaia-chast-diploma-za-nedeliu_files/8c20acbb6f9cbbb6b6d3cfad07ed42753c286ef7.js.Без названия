!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},i=Array.prototype,u=Object.prototype,a=Function.prototype,c=i.push,o=i.slice,l=i.concat,f=u.toString,s=u.hasOwnProperty,p=i.forEach,h=i.map,v=i.reduce,y=i.reduceRight,d=i.filter,g=i.every,m=i.some,b=i.indexOf,_=i.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var i=0,u=n.length;i<u;i++)if(t.call(r,n[i],i,n)===e)return}else for(var a=A.keys(n),i=0,u=a.length;i<u;i++)if(t.call(r,n[a[i]],a[i],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:h&&n.map===h?n.map(t,r):(E(n,function(n,i,u){e.push(t.call(r,n,i,u))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=A.bind(t,e)),i?n.reduce(t,r):n.reduce(t);if(E(n,function(n,u,a){i?r=t.call(e,r,n,u,a):(r=n,i=!0)}),!i)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var i=arguments.length>2;if(null==n&&(n=[]),y&&n.reduceRight===y)return e&&(t=A.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t);var u=n.length;if(!O(n)){var a=A.keys(n);u=a.length}if(E(n,function(c,o,l){o=a?a[--u]:--u,i?r=t.call(e,r,n[o],o,l):(r=n[o],i=!0)}),!i)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,i,u){if(t.call(r,n,i,u))return e=n,!0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(E(n,function(n,i,u){t.call(r,n,i,u)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,i){return!t.call(r,n,e,i)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var i=!0;return null==n?i:g&&n.every===g?n.every(t,r):(E(n,function(n,u,a){if(!(i=i&&t.call(r,n,u,a)))return e}),!!i)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var i=!1;return null==n?i:m&&n.some===m?n.some(t,r):(E(n,function(n,u,a){if(i||(i=t.call(r,n,u,a)))return e}),!!i)};A.contains=A.include=function(n,t){return null!=n&&(b&&n.indexOf===b?n.indexOf(t)!=-1:M(n,function(n){return n===t}))},A.invoke=function(n,t){var r=o.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,i,u){var a=t?t.call(r,n,i,u):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,i){return{value:n,index:t,criteria:e.call(r,n,t,i)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var i={},u=null==r?A.identity:R(r);return E(t,function(r,a){var c=u.call(e,r,a,t);n(i,c,r)}),i}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var i=r.call(e,t),u=0,a=n.length;u<a;){var c=u+a>>>1;r.call(e,n[c])<i?u=c+1:a=c}return u},A.toArray=function(n){return n?A.isArray(n)?o.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:o.call(n,0,t)},A.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?c.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,o.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var i=r?A.map(n,r,e):n,u=[],a=[];return E(i,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),u.push(n[e]))}),u},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=o.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(i,o.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;r<n;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,i=n.length;e<i;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,i=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=r<0?Math.max(0,i+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;e<i;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var i=e?r:n.length;i--;)if(n[i]===t)return i;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),i=0,u=new Array(e);i<e;)u[i++]=n,n+=r;return u};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,o.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));T.prototype=n.prototype;var i=new T;T.prototype=null;var u=n.apply(i,r.concat(o.call(arguments)));return Object(u)===u?u:i}},A.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},A.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(o.call(arguments,1)))},A.throttle=function(n,t,r){var e,i,u,a=null,c=0;r||(r={});var o=function(){c=r.leading===!1?0:new Date,a=null,u=n.apply(e,i)};return function(){var l=new Date;c||r.leading!==!1||(c=l);var f=t-(l-c);return e=this,i=arguments,f<=0?(clearTimeout(a),a=null,c=l,u=n.apply(e,i)):a||r.trailing===!1||(a=setTimeout(o,f)),u}},A.debounce=function(n,t,r){var e,i,u,a,c;return function(){u=this,i=arguments,a=new Date;var o=function(){var l=new Date-a;l<t?e=setTimeout(o,t-l):(e=null,r||(c=n.apply(u,i)))},l=r&&!e;return e||(e=setTimeout(o,t)),l&&(c=n.apply(u,i)),c}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return c.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=n[t[i]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),i=0;i<r;i++)e[i]=[t[i],n[t[i]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,i=r.length;e<i;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(i,o.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(i,o.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var i=f.call(n);if(i!=f.call(t))return!1;switch(i){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var u=r.length;u--;)if(r[u]==n)return e[u]==t;var a=n.constructor,c=t.constructor;if(a!==c&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(c)&&c instanceof c))return!1;r.push(n),e.push(t);var o=0,l=!0;if("[object Array]"==i){if(o=n.length,l=o==t.length)for(;o--&&(l=N(n[o],t[o],r,e)););}else{for(var s in n)if(A.has(n,s)&&(o++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!o--)break;l=!o}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),i=0;i<n;i++)e[i]=t.call(r,i);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null!=n){var r=n[t];return A.isFunction(r)?r.call(n):r}},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var i=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,r,e,i,c){return a+=n.slice(u,c).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),u=c+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(n){throw n.source=a,n}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=i[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var r in t)r in n||(n[r]=t[r])}(Package.underscore={},{_:t})}();

!function(){var t=Package.underscore._,e,n,r;(function(){e=this}).call(this),function(){n=__meteor_runtime_config__.meteorEnv,r={isProduction:"production"===n.NODE_ENV,isDevelopment:"production"!==n.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(r.settings={public:__meteor_runtime_config__.PUBLIC_SETTINGS})}.call(this),function(){function e(t){if(t)return r._debug("Exception in callback of async function",t.stack?t.stack:t)}if(r.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(r.release=__meteor_runtime_config__.meteorRelease),t.extend(r,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var a=i||this,s=t.toArray(arguments),u,c=s.length-1;c>=0;--c){var l=s[c],f=typeof l;if("undefined"!==f){"function"===f&&(u=l);break}}if(!u){if(r.isClient)u=e;else{var p=new n;u=p.resolver()}++c}s[c]=r.bindEnvironment(u);var _=o.apply(a,s);return p?p.wait():_}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;r._wrapAsync=function(t,e){return o||(r._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),r.wrapAsync.apply(r,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function e(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,s)){var n=e.data.substring(s.length);try{a[n]&&a[n]()}finally{delete a[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,a={},s="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var u=function(t){++i,a[i]=t,o.postMessage(s+i,"*")};return u.implementation="postMessage",u}function n(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;r._setImmediate=t()||e()||n()}.call(this),function(){var e=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},n=function(t,n){return r.bindEnvironment(e(n),t)};t.extend(r,{setTimeout:function(t,e){return setTimeout(n("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(n("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){r._setImmediate(n("defer callback",t))}})}.call(this),function(){r.makeErrorType=function(t,e){var n=function(){Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return r._inherits(n,Error),n},r.Error=r.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),r.Error.prototype.clone=function(){var t=this;return new r.Error(t.error,t.reason,t.details)}}.call(this),function(){r._noYieldsAllowed=function(t){return t()},r._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(r._SynchronousQueue.prototype,{runTask:function(e){var n=this;if(!n.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");n._tasks.push(e);var o=n._tasks;n._tasks=[],n._running=!0,n._runTimeout&&(clearTimeout(n._runTimeout),n._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(e){if(t.isEmpty(o))throw e;r._debug("Exception in queued task: "+(e.stack||e))}}}finally{n._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],e=!1,n=!1,o=0,i=function(){o++},a=function(){o--,s()},s=function(){if(!(n||!e||o>0)){for(n=!0;t.length;)t.shift()();r.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,s())};r.isCordova&&(i(),document.addEventListener("deviceready",a,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()}),window.attachEvent("load",u)),r.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(t){return void setTimeout(function(){r.startup(e)},50)}e()}else n?e():t.push(e)}}.call(this),function(){var t=0;r._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},r._suppress_log=function(e){t+=e},r._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){r._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=r.isClient?n.TEST_METADATA:process.env.TEST_METADATA;var e=JSON.parse(t||"{}"),o=e.driverPackage;r.isTest=!!e.isTest,r.isAppTest=!!e.isAppTest,r.isPackageTest=!!o&&!r.isTest&&!r.isAppTest,"string"==typeof o&&r.startup(function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(r.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()})}.call(this),function(){var e=0,n=[];r.EnvironmentVariable=function(){this.slot=e++},t.extend(r.EnvironmentVariable.prototype,{get:function(){return n[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var r=n[this.slot];try{n[this.slot]=t;var o=e()}finally{n[this.slot]=r}return o}}),r.bindEnvironment=function(e,o,i){var a=t.clone(n);if(!o||"string"==typeof o){var s=o||"callback of async function";o=function(t){r._debug("Exception in "+s+":",t&&t.stack||t)}}return function(){var r=n;try{n=a;var s=e.apply(i,t.toArray(arguments))}catch(t){o(t)}finally{n=r}return s}},r._nodeCodeMustBeInFiber=function(){}}.call(this),function(){r.absoluteUrl=function(e,n){n||"object"!=typeof e||(n=e,e=void 0),n=t.extend({},r.absoluteUrl.defaultOptions,n||{});var o=n.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),e&&(o+=e),n.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),n.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},r.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(r.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),r._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.meteor={},{Meteor:r,global:e,meteorEnv:n})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["wilddeer:stylus-autoprefixer"]={}}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,o,r;(function(){o={},o.active=!1,o.currentComputation=null;var t=function(n){o.currentComputation=n,o.active=!!n},e=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},r=function(t){"undefined"!=typeof n&&n._suppressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(l)throw t;var o=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(i<0||i>t.name.length+2){var a=t.name+": "+t.message;o.push(a)}}o.push(t.stack),r(o.length);for(var u=0;u<o.length;u++)e()(o[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],p=!1,s=!1,f=!1,l=!1,d=[],h=function(){p||("undefined"!=typeof n?n._setImmediate(o._runFlush):setTimeout(o._runFlush,0),p=!0)},v=!1;o.Computation=function(n,t,e){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._onStopCallbacks=[],o._parent=t,o._func=n,o._onError=e,o._recomputing=!1;var r=!0;try{o._compute(),r=!1}finally{o.firstRun=!1,r&&o.stop()}},o.Computation.prototype.onInvalidate=function(n){var t=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");t.invalidated?o.nonreactive(function(){a(n)(t)}):t._onInvalidateCallbacks.push(n)},o.Computation.prototype.onStop=function(n){var t=this;if("function"!=typeof n)throw new Error("onStop requires a function");t.stopped?o.nonreactive(function(){a(n)(t)}):t._onStopCallbacks.push(n)},o.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var t=0,e;e=n._onInvalidateCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onInvalidateCallbacks=[]}},o.Computation.prototype.stop=function(){var n=this;if(!n.stopped){n.stopped=!0,n.invalidate();for(var t=0,e;e=n._onStopCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onStopCallbacks=[]}},o.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var e=o.currentComputation;t(n);var r=f;f=!0;try{a(n._func)(n)}finally{t(e),f=r}},o.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},o.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},o.Computation.prototype.flush=function(){var n=this;n._recomputing||n._recompute()},o.Computation.prototype.run=function(){var n=this;n.invalidate(),n.flush()},o.Dependency=function(){this._dependentsById={}},o.Dependency.prototype.depend=function(n){if(!n){if(!o.active)return!1;n=o.currentComputation}var t=this,e=n._id;return!(e in t._dependentsById)&&(t._dependentsById[e]=n,n.onInvalidate(function(){delete t._dependentsById[e]}),!0)},o.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},o.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},o.flush=function(n){o._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},o._runFlush=function(n){if(s)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");n=n||{},s=!0,p=!0,l=!!n.throwFirstError;var t=0,e=!1;try{for(;c.length||d.length;){for(;c.length;){var r=c.shift();if(r._recompute(),r._needsRecompute()&&c.unshift(r),!n.finishSynchronously&&++t>1e3)return void(e=!0)}if(d.length){var a=d.shift();try{a()}catch(n){i("afterFlush",n)}}}e=!0}finally{if(e||(s=!1,o._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),p=!1,s=!1,c.length||d.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},o.autorun=function(n,t){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");t=t||{},v=!0;var e=new o.Computation(n,o.currentComputation,t.onError);return o.active&&o.onInvalidate(function(){e.stop()}),e},o.nonreactive=function(n){var e=o.currentComputation;t(null);try{return n()}finally{t(e)}},o.onInvalidate=function(n){if(!o.active)throw new Error("Tracker.onInvalidate requires a currentComputation");o.currentComputation.onInvalidate(n)},o.afterFlush=function(n){d.push(n),h()}}).call(this),function(){n.flush=o.flush,n.autorun=o.autorun,n.autosubscribe=o.autorun,o.depend=function(n){return n.depend()},r=o}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var e in t)e in n||(n[e]=t[e])}(Package.tracker={},{Tracker:o,Deps:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,i;(function(){i=function(e,t){return this instanceof i?(this.curValue=e,this.equalsFunc=t,void(this.dep=new a.Dependency)):new i(e,t)},i._isEqual=function(e,t){var n=e,a=t;return n===a&&(!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n)},i.prototype.get=function(){return a.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-var"]={},{ReactiveVar:i})}();

!function(){var n=Package.meteor.Meteor,r=Package.meteor.global,e=Package.meteor.meteorEnv,a;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},e=0;e<n.length;e++)r[n.charAt(e)]=e;a={},a.encode=function(n){if("string"==typeof n){var r=n;n=a.newBinary(r.length);for(var e=0;e<r.length;e++){var l=r.charCodeAt(e);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[e]=l}}for(var u=[],i=null,o=null,c=null,f=null,e=0;e<n.length;e++)switch(e%3){case 0:i=n[e]>>2&63,o=(3&n[e])<<4;break;case 1:o|=n[e]>>4&15,c=(15&n[e])<<2;break;case 2:c|=n[e]>>6&3,f=63&n[e],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(f)),i=null,o=null,c=null,f=null}return null!=i&&(u.push(t(i)),u.push(t(o)),null==c?u.push("="):u.push(t(c)),null==f&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:r[n]};a.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;e<n;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},a.decode=function(n){var r=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(r--,"="==n.charAt(n.length-2)&&r--);for(var e=a.newBinary(r),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var f=n.charAt(c),s=l(f);switch(c%4){case 0:if(s<0)throw new Error("invalid base64 string");t=s<<2;break;case 1:if(s<0)throw new Error("invalid base64 string");t|=s>>4,e[o++]=t,u=(15&s)<<4;break;case 2:s>=0&&(u|=s>>2,e[o++]=u,i=(3&s)<<6);break;case 3:s>=0&&(e[o++]=i|s)}}return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,r){for(var e in r)e in n||(n[e]=r[e])}(Package.base64={},{Base64:a})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,u=Package.base64.Base64,a,i;(function(){a={},i={};var e={};a.addType=function(n,t){if(r.has(e,n))throw new Error("Type "+n+" already present");e[n]=t};var t=function(n){return r.isNaN(n)||n===1/0||n===-(1/0)},o=[{matchJSONValue:function(n){return r.has(n,"$date")&&1===r.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return r.has(n,"$InfNaN")&&1===r.size(n)},matchObject:t,toJSONValue:function(n){var e;return e=r.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return r.has(n,"$binary")&&1===r.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&r.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:u.encode(n)}},fromJSONValue:function(n){return u.decode(n.$binary)}},{matchJSONValue:function(n){return r.has(n,"$escape")&&1===r.size(n)},matchObject:function(n){return!(r.isEmpty(n)||r.size(n)>2)&&r.any(o,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return r.each(n,function(n,t){e[t]=a.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return r.each(n.$escape,function(n,t){e[t]=a.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return r.has(n,"$type")&&r.has(n,"$value")&&2===r.size(n)},matchObject:function(n){return a._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(t){var u=t.$type;if(!r.has(e,u))throw new Error("Custom EJSON type "+u+" is not defined");var a=e[u];return n._noYieldsAllowed(function(){return a(t.$value)})}}];a._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&r.has(e,n.typeName())},a._getTypes=function(){return e},a._getConverters=function(){return o};var f=a._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=c(n);return void 0!==e?e:"object"!=typeof n?n:(r.each(n,function(e,r){if("object"==typeof e||void 0===e||t(e)){var u=c(e);return u?void(n[r]=u):void f(e)}}),n)},c=function(n){for(var e=0;e<o.length;e++){var t=o[e];if(t.matchObject(n))return t.toJSONValue(n)}};a.toJSONValue=function(n){var e=c(n);return void 0!==e?e:("object"==typeof n&&(n=a.clone(n),f(n)),n)};var l=a._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=s(n);return e!==n?e:"object"!=typeof n?n:(r.each(n,function(e,t){if("object"==typeof e){var r=s(e);if(e!==r)return void(n[t]=r);l(e)}}),n)},s=function(n){if("object"==typeof n&&null!==n&&r.size(n)<=2&&r.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<o.length;e++){var t=o[e];if(t.matchJSONValue(n))return t.fromJSONValue(n)}return n};a.fromJSONValue=function(n){var e=s(n);return e===n&&"object"==typeof n?(n=a.clone(n),l(n),n):e},a.stringify=function(n,e){var t=a.toJSONValue(n);return e&&(e.canonical||e.indent)?a._canonicalStringify(t,e):JSON.stringify(t)},a.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(n))},a.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},a.equals=function(n,e,t){var u,i=!(!t||!t.keyOrderSensitive);if(n===e)return!0;if(r.isNaN(n)&&r.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(a.isBinary(n)&&a.isBinary(e)){if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==e[u])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,t);if("function"==typeof e.equals)return e.equals(n,t);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(!a.equals(n[u],e[u],t))return!1;return!0}switch(a._isCustomType(n)+a._isCustomType(e)){case 1:return!1;case 2:return a.equals(a.toJSONValue(n),a.toJSONValue(e))}var o;if(i){var f=[];return r.each(e,function(n,e){f.push(e)}),u=0,o=r.all(n,function(n,r){return!(u>=f.length)&&(r===f[u]&&(!!a.equals(n,e[f[u]],t)&&(u++,!0)))}),o&&u===f.length}return u=0,o=r.all(n,function(n,i){return!!r.has(e,i)&&(!!a.equals(n,e[i],t)&&(u++,!0))}),o&&r.size(e)===u},a.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(a.isBinary(n)){e=a.newBinary(n.length);for(var t=0;t<n.length;t++)e[t]=n[t];return e}if(r.isArray(n)||r.isArguments(n)){for(e=[],t=0;t<n.length;t++)e[t]=a.clone(n[t]);return e}return"function"==typeof n.clone?n.clone():a._isCustomType(n)?a.fromJSONValue(a.clone(a.toJSONValue(n)),!0):(e={},r.each(n,function(n,t){e[t]=a.clone(n)}),e)},a.newBinary=u.newBinary}).call(this),function(){function n(n){return JSON.stringify(n)}var e=function(t,u,a,i,o){var f,c,l,s,y=i,h,N=u[t];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],r.isArray(N)||r.isArguments(N)){for(s=N.length,f=0;f<s;f+=1)h[f]=e(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=r.keys(N);return o&&(p=p.sort()),r.each(p,function(t){l=e(t,N,a,y,o),l&&h.push(n(t)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};a._canonicalStringify=function(n,t){if(t=r.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var u="",a=0;a<t.indent;a++)u+=" ";t.indent=u}return e("",{"":n},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.ejson={},{EJSON:a,EJSONTest:i})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t,o;t=function(e){function r(e,r){return o(e)&&(l(b,e,r),i(k)&&k(j)),j}function n(e){this.id=e,this.children=[]}function t(e,r){return x.call(e,r)&&e[r]}function o(e){return e&&"object"==typeof e}function i(e){return"function"==typeof e}function u(e){return"string"==typeof e}function f(e){function r(r){var n=m(e,r);if(n)return a(n,e.m);var t=new Error("Cannot find module '"+r+"'");if(i(g))return g(r,e.m.id,t);throw t}return r.resolve=function(r){var n=m(e,r);if(n)return n.m.id;var t=new Error("Cannot find module '"+r+"'");if(g&&i(g.resolve))return g.resolve(r,e.m.id,t);throw t},r}function c(e,r){var t=this;t.p=r=r||null,t.m=new n(e)}function a(e,r){var n=e&&e.c,t=e.m;if(!x.call(t,"exports")){if(r){t.parent=r;var o=r.children;Array.isArray(o)&&o.push(t)}i(t.useNode)&&t.useNode()||n(t.require=t.require||f(e),t.exports={},t,e.m.id,e.p.m.id),t.loaded=!0}return i(t.runModuleSetters)&&t.runModuleSetters(),t.exports}function s(e){return e&&o(e.c)}function l(e,r,n){if(Array.isArray(r)){var f=[];r.forEach(function(e){u(e)?f.push(e):i(e)&&(r=e)}),i(r)?r.d=f:r=null}else i(r)?r.d=r.d||[]:u(r)||o(r)||(r=null);r&&(e.c=e.c||(o(r)?{}:r),o(r)&&s(e)&&Object.keys(r).forEach(function(o){if(".."===o)i=e.p;else{var i=t(e.c,o);i||(i=e.c[o]=new c(e.m.id.replace(/\/*$/,"/")+o,e),i.o=n)}l(i,r[o],n)}))}function d(e){return e.o&&e.o.extensions||y}function p(e,r,n){for(;e&&!s(e);)e=e.p;if(!e||!r||"."===r)return e;if(".."===r)return e.p;var o=t(e.c,r);if(n&&(!o||s(o)))for(var i=0;i<n.length;++i){var u=t(e.c,r+n[i]);if(u)return u}return o}function v(e,r,n){var t=r.split("/");return t.every(function(r,o){return e=o<t.length-1?p(e,r):p(e,r,n)}),e}function m(e,r,n){var t=d(e);for(e="/"===r.charAt(0)?v(b,r,t):"."===r.charAt(0)?v(e,r,t):h(e,r,t);s(e);){if(n=n||[],n.indexOf(e)<0){n.push(e);var o=p(e,"package.json"),i=o&&a(o).main;if(u(i)&&(e=v(e,i,t)||m(e,i,n)))continue}e=p(e,"index.js")}return e&&u(e.c)&&(e=m(e,e.c,n)),e}function h(e,r,n){if(i(w)&&(r=w(r,e.m.id)),u(r)){for(var t;e&&!t;e=e.p)t=s(e)&&v(e,"node_modules/"+r,n);return t}}e=e||{};var y=e.extensions||[".js",".json"],k=e.onInstall,w=e.override,g=e.fallback,x={}.hasOwnProperty,b=new c("/",new c("/..")),j=f(b);return n.prototype.resolve=function(e){return this.require.resolve(e)},r.Module=n,r},"object"==typeof exports&&(exports.makeInstaller=t),function(){var r={},n=r.hasOwnProperty,i=/^[^.\/]/;r.fallback=function(e,r,n){if(i.test(e)&&"object"==typeof Npm&&"function"==typeof Npm.require)return Npm.require(e);throw n},r.fallback.resolve=function(r,n,t){if(e.isServer&&i.test(r))return r;throw t},o=t(r);var u=o.Module.prototype;e.isServer&&(u.useNode=function(){if("function"!=typeof npmRequire)return!1;var e=this.id.split("/"),r=0;if(""===e[r]&&++r,"node_modules"===e[r]&&"meteor"===e[r+1]&&(r+=2),e.indexOf("node_modules",r)<0)return!1;try{npmRequire.resolve(this.id)}catch(e){return!1}return this.exports=npmRequire(this.id),!0})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package["modules-runtime"]={},{meteorInstall:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,o=Package["modules-runtime"].meteorInstall,s,i,u=o({node_modules:{meteor:{modules:{"client.js":["./install-packages.js","./stubs.js","./buffer.js","./process.js","reify/lib/runtime","./css",function(e,t,r){e("./install-packages.js"),e("./stubs.js"),e("./buffer.js"),e("./process.js"),e("reify/lib/runtime").enable(r.constructor),t.addStyles=e("./css").addStyles}],"buffer.js":["buffer",function(e){try{s=t.Buffer||e("buffer").Buffer}catch(e){}}],"css.js":function(e,t){var r=document,n=r.getElementsByTagName("head").item(0);t.addStyles=function(e){var t=r.createElement("style");t.setAttribute("type","text/css");var o=t.sheet||t.styleSheet;return o?o.cssText=e:t.appendChild(r.createTextNode(e)),n.appendChild(t)}},"install-packages.js":function(e,t,r){function n(e,t){var r={};t?r[e+".js"]=[t,function(e,r,n){n.exports=e(t)}]:r[e+".js"]=function(t,r,n){n.exports=Package[e]},o({node_modules:{meteor:r}})}n("underscore"),n("meteor"),n("wilddeer:stylus-autoprefixer"),n("tracker"),n("reactive-var"),n("base64"),n("ejson"),n("modules-runtime"),n("modules","meteor/modules/client.js"),n("promise","meteor/promise/client.js"),n("ecmascript-runtime","meteor/ecmascript-runtime/runtime.js"),n("babel-compiler"),n("ecmascript"),n("id-map"),n("ordered-dict"),n("babel-runtime"),n("random"),n("mongo-id"),n("diff-sequence"),n("geojson-utils","meteor/geojson-utils/main.js"),n("minimongo"),n("check","meteor/check/match.js"),n("retry"),n("ddp-common"),n("reload"),n("ddp-client"),n("ddp"),n("ddp-server"),n("allow-deny"),n("mongo"),n("reactive-dict"),n("froatsnook:sleep"),n("email"),n("artpolikarpov:kadira-server-only"),n("url"),n("http"),n("meteor-base"),n("blaze-html-templates"),n("session"),n("jquery","meteor/jquery/main.js"),n("logging"),n("deps"),n("htmljs"),n("observe-sequence"),n("blaze"),n("spacebars"),n("artpolikarpov:safe-update"),n("chatra:redpubsub"),n("ddp-rate-limiter"),n("standard-minifier-css"),n("standard-minifier-js"),n("shell-server"),n("chatra:meteors"),n("webapp"),n("livedata"),n("hot-code-push"),n("ui"),n("templating"),n("autoupdate")},"process.js":["process",function(s,u,a){try{i=t.process||s("process")}catch(e){i={}}e.isServer?o({node_modules:{"process.js":function(e,t,r){r.exports=i}}}):(i.platform="browser",i.nextTick=i.nextTick||e._setImmediate),"object"!=typeof i.env&&(i.env={}),n.extend(i.env,r)}],"stubs.js":["meteor-node-stubs",function(e){try{e("meteor-node-stubs")}catch(e){}}],node_modules:{reify:{lib:{"runtime.js":["./entry.js","./utils.js",function(e,t,r){var n=e("./entry.js").Entry,o=e("./utils.js");t.enable=function(t){function r(e){var t=e.exports;t&&"object"==typeof t&&(t.__esModule=!0)}var s=t.prototype;return"function"==typeof s.import&&"function"==typeof s.export?t:(s.resolve=s.resolve||function e(t){throw new Error("Module.prototype.resolve not implemented")},s.runModuleSetters=function e(t){var r=n.get(this.id);return r&&r.runModuleSetters(this),t},s.import=function(t,o){var i=this;r(i);var u=i.resolve(t);if(o&&"object"==typeof o){var a=n.getOrCreate(u);a.addSetters(i,o)}var c=a&&a.runCount,l="function"==typeof i.require?i.require(u):e(u);a&&a.runCount===c&&a.runModuleSetters({id:u,exports:l,getExportByName:s.getExportByName})},s.export=function(e){var t=this;r(t),o.isPlainObject(e)&&n.getOrCreate(t.id).addGetters(e),t.loaded&&t.runModuleSetters()},s.getExportByName=function(e){var t=this.exports;return"*"===e?t:"default"!==e||t&&"object"==typeof t&&t.__esModule&&"default"in t?t&&t[e]:t},t)}}],"entry.js":["./utils.js",function(e,t,r){function n(e){this.id=e,this.runCount=0,this.setters=Object.create(null),this.getters=Object.create(null)}function o(e){var t=u[e.id];t&&t.runModuleSetters(e)}function s(e){var t=u[e.id];return t?t.runModuleGetters(e):0}var i=Object.prototype.hasOwnProperty,u=Object.create(null),a=e("./utils.js"),c=n.prototype;n.get=function(e){return u[e]||null},n.getOrCreate=function(e){return u[e]=u[e]||new n(e)},c.addSetters=function(e,t){var r=this;Object.keys(t).forEach(function(n){var o=t[n];"function"==typeof o&&"__esModule"!==n&&(o.parent=e,(r.setters[n]=r.setters[n]||[]).push(o))})},c.addGetters=function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r];"function"==typeof n&&"__esModule"!==r&&(t.getters[r]=n)})},c.runModuleGetters=function(e){var t=this,r=0;return Object.keys(t.getters).forEach(function(n){t.runGetter(e,n)&&++r}),r},c.runGetter=function(e,t){if(!i.call(this.getters,t))return!1;var r=this.getters[t];try{var n=r.call(e)}catch(e){}var o=e.exports;return(!i.call(o,t)||o[t]!==n)&&(o[t]=n,!0)},c.runModuleSetters=function(e){function t(t,o){function s(e,r,n){if("__esModule"!==n)return e.last=e.last||Object.create(null),i.call(e.last,n)&&e.last[n]===r?void 0:t.apply(o,arguments)}n.forEach(function(t){r.setters[t].forEach(function(r){var n=e.getExportByName(t);"*"===t?Object.keys(n).forEach(function(e){s(r,n[e],e)}):s(r,n,t)})})}var r=this,n=Object.keys(r.setters);r.runModuleGetters(e);var u=[],c,l;t(function(e,t,r){var n=e.parent;l=l||Object.create(null),i.call(l,n.id)||(c=c||Object.create(null),c[n.id]=n,a.isPlainObject(n.exports)?l[n.id]=a.assign({},n.exports):l[n.id]=n.exports),u.push(e,t,r)});for(var f=0;f<u.length;f+=3){var d=u[f],p=u[f+1],m=u[f+2];d.call(e,d.last[m]=p,m)}++r.runCount,c&&Object.keys(c).forEach(function(e){var t=c[e];if(s(t)>0)return o(t);var r=t.exports,n=l[t.id];a.shallowObjEqual(r,n)||o(t)})},t.Entry=n}],"utils.js":function(e,t){function r(e){return o.call(e)===s}var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=o.call({});t.isPlainObject=r,t.assign=Object.assign||function(e){for(var t=arguments.length,r=1;r<t;++r){var n=arguments[r];if(n&&"object"==typeof n)for(var o=Object.keys(n),s=0;s<o.length;++s){var i=o[s];e[i]=n[i]}}return e},t.shallowObjEqual=function(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every(function(r){return n.call(t,r)&&e[r]===t[r]})}}}}}}},punycode:{"package.json":function(e,t){t.name="punycode",t.version="1.4.1",t.main="punycode.js"},"punycode.js":function(e,r,n){!function(e){function o(e){throw new RangeError(B[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function i(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(q,".");var o=e.split("."),i=s(o,t).join(".");return n+i}function u(e){for(var t=[],r=0,n=e.length,o,s;r<n;)o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<n?(s=e.charCodeAt(r++),56320==(64512&s)?t.push(((1023&o)<<10)+(1023&s)+65536):(t.push(o),r--)):t.push(o);return t}function a(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=G(e>>>10&1023|55296),e=56320|1023&e),t+=G(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function l(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,r){var n=0;for(e=r?A(e/E):e>>1,e+=A(e/t);e>I*k>>1;n+=x)e=A(e/I);return A(n+(I+1)*e/(e+w))}function d(e){var t=[],r=e.length,n,s=0,i=M,u=C,l,d,p,m,v,j,h,y,b;for(l=e.lastIndexOf(_),l<0&&(l=0),d=0;d<l;++d)e.charCodeAt(d)>=128&&o("not-basic"),t.push(e.charCodeAt(d));for(p=l>0?l+1:0;p<r;){for(m=s,v=1,j=x;p>=r&&o("invalid-input"),h=c(e.charCodeAt(p++)),(h>=x||h>A((g-s)/v))&&o("overflow"),s+=h*v,y=j<=u?O:j>=u+k?k:j-u,!(h<y);j+=x)b=x-y,v>A(g/b)&&o("overflow"),v*=b;n=t.length+1,u=f(s-m,n,0==m),A(s/n)>g-i&&o("overflow"),i+=A(s/n),s%=n,t.splice(s++,0,i)}return a(t)}function p(e){var t,r,n,s,i,a,c,d,p,m,v,j=[],h,y,b,w;for(e=u(e),h=e.length,t=M,r=0,i=C,a=0;a<h;++a)v=e[a],v<128&&j.push(G(v));for(n=s=j.length,s&&j.push(_);n<h;){for(c=g,a=0;a<h;++a)v=e[a],v>=t&&v<c&&(c=v);for(y=n+1,c-t>A((g-r)/y)&&o("overflow"),r+=(c-t)*y,t=c,a=0;a<h;++a)if(v=e[a],v<t&&++r>g&&o("overflow"),v==t){for(d=r,p=x;m=p<=i?O:p>=i+k?k:p-i,!(d<m);p+=x)w=d-m,b=x-m,j.push(G(l(m+w%b,0))),d=A(w/b);j.push(G(l(d,0))),i=f(r,y,n==s),r=0,++n}++r,++t}return j.join("")}function m(e){return i(e,function(e){return S.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return i(e,function(e){return P.test(e)?"xn--"+p(e):e})}var j="object"==typeof r&&r&&!r.nodeType&&r,h="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof t&&t;y.global!==y&&y.window!==y&&y.self!==y||(e=y);var b,g=2147483647,x=36,O=1,k=26,w=38,E=700,C=72,M=128,_="-",S=/^xn--/,P=/[^\x20-\x7E]/,q=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=x-O,A=Math.floor,G=String.fromCharCode,T;if(b={version:"1.4.1",ucs2:{decode:u,encode:a},decode:d,encode:p,toASCII:v,toUnicode:m},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return b});else if(j&&h)if(n.exports==j)h.exports=b;else for(T in b)b.hasOwnProperty(T)&&(j[T]=b[T]);else e.punycode=b}(this)}}}},{extensions:[".js",".json"]}),a=u("./node_modules/meteor/modules/client.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.modules=a,{meteorInstall:o,Buffer:s,process:i})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,i=Package.modules.Buffer,r=Package.modules.process,u,c=o({node_modules:{meteor:{promise:{"client.js":["meteor-promise","./common.js",function(n,e){n("meteor-promise").makeCompatible(e.Promise=n("./common.js").Promise)}],"common.js":["promise/lib/es6-extensions",function(e,t){var o=this;"function"==typeof o.Promise?t.Promise=o.Promise:t.Promise=e("promise/lib/es6-extensions"),t.Promise.prototype.done=function(e,t){var o=this;arguments.length>0&&(o=this.then.apply(this,arguments)),o.then(null,function(e){n._setImmediate(function(){throw e})})}}],node_modules:{"meteor-promise":{"package.json":function(n,e){e.name="meteor-promise",e.version="0.7.2",e.main="promise_client.js"},"promise_client.js":function(e,t){function o(n){throw n}t.makeCompatible=function(e){var t=e.prototype.then;e.prototype.then=function(e,i){return"object"==typeof n&&"function"==typeof n.bindEnvironment?t.call(this,e&&n.bindEnvironment(e,o),i&&n.bindEnvironment(i,o)):t.call(this,e,i)}}}},promise:{lib:{"es6-extensions.js":["./core.js",function(n,e,t){"use strict";function o(n){var e=new i(i._61);return e._81=1,e._65=n,e}var i=n("./core.js");t.exports=i;var r=o(!0),u=o(!1),c=o(null),f=o(void 0),s=o(0),a=o("");i.resolve=function(n){if(n instanceof i)return n;if(null===n)return c;if(void 0===n)return f;if(n===!0)return r;if(n===!1)return u;if(0===n)return s;if(""===n)return a;if("object"==typeof n||"function"==typeof n)try{var e=n.then;if("function"==typeof e)return new i(e.bind(n))}catch(n){return new i(function(e,t){t(n)})}return o(n)},i.all=function(n){var e=Array.prototype.slice.call(n);return new i(function(n,t){function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof i&&c.then===i.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?o(u,c._65):(2===c._81&&t(c._65),void c.then(function(n){o(u,n)},t))}var f=c.then;if("function"==typeof f){var s=new i(f.bind(c));return void s.then(function(n){o(u,n)},t)}}e[u]=c,0===--r&&n(e)}if(0===e.length)return n([]);for(var r=e.length,u=0;u<e.length;u++)o(u,e[u])})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(n){return new i(function(e,t){n.forEach(function(n){i.resolve(n).then(e,t)})})},i.prototype.catch=function(n){return this.then(null,n)}}],"core.js":["asap/raw",function(n,e,t){"use strict";function o(){}function i(n){try{return n.then}catch(n){return d=n,y}}function r(n,e){try{return n(e)}catch(n){return d=n,y}}function u(n,e,t){try{n(e,t)}catch(n){return d=n,y}}function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,n!==o&&_(n,this)}function f(n,e,t){return new n.constructor(function(i,r){var u=new c(o);u.then(i,r),s(n,new h(e,t,u))})}function s(n,e){for(;3===n._81;)n=n._65;return c._10&&c._10(n),0===n._81?0===n._45?(n._45=1,void(n._54=e)):1===n._45?(n._45=2,void(n._54=[n._54,e])):void n._54.push(e):void a(n,e)}function a(n,e){v(function(){var t=1===n._81?e.onFulfilled:e.onRejected;if(null===t)return void(1===n._81?l(e.promise,n._65):m(e.promise,n._65));var o=r(t,n._65);o===y?m(e.promise,d):l(e.promise,o)})}function l(n,e){if(e===n)return m(n,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var t=i(e);if(t===y)return m(n,d);if(t===n.then&&e instanceof c)return n._81=3,n._65=e,void p(n);if("function"==typeof t)return void _(t.bind(e),n)}n._81=1,n._65=e,p(n)}function m(n,e){n._81=2,n._65=e,c._97&&c._97(n,e),p(n)}function p(n){if(1===n._45&&(s(n,n._54),n._54=null),2===n._45){for(var e=0;e<n._54.length;e++)s(n,n._54[e]);n._54=null}}function h(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function _(n,e){var t=!1,o=u(n,function(n){t||(t=!0,l(e,n))},function(n){t||(t=!0,m(e,n))});t||o!==y||(t=!0,m(e,d))}var v=n("asap/raw"),d=null,y={};t.exports=c,c._10=null,c._97=null,c._61=o,c.prototype.then=function(n,e){if(this.constructor!==c)return f(this,n,e);var t=new c(o);return s(this,new h(n,e,t)),t}}]},node_modules:{asap:{"raw.js":["domain",function(n,e,t){"use strict";function o(n){s.length||(u(),a=!0),s[s.length]=n}function i(){for(;l<s.length;){var n=l;if(l+=1,s[n].call(),l>m){for(var e=0,t=s.length-l;e<t;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function u(){var e=r.domain;e&&(c||(c=n("domain")),c.active=r.domain=null),a&&f?setImmediate(i):r.nextTick(i),e&&(c.active=r.domain=e)}var c,f="function"==typeof setImmediate;t.exports=o;var s=[],a=!1,l=0,m=1024;o.requestFlush=u}]}}}}}}}},{extensions:[".js",".json"]}),f=c("./node_modules/meteor/promise/client.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.promise=f,{Promise:u})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,n=Package.modules.Buffer,s=Package.modules.process,i=Package.promise.Promise,c,u,a,_,f,l=o({node_modules:{meteor:{"ecmascript-runtime":{"runtime.js":["meteor-ecmascript-runtime",function(t,e,r){r.exports=t("meteor-ecmascript-runtime")}],node_modules:{"meteor-ecmascript-runtime":{"package.json":function(t,e){e.name="meteor-ecmascript-runtime",e.version="0.2.9",e.main="index.js"},"index.js":["core-js/es6/object","core-js/es6/array","core-js/es6/string","core-js/es6/function","core-js/fn/array/includes","core-js/fn/object/values","core-js/fn/object/entries","core-js/fn/object/get-own-property-descriptors","core-js/fn/string/pad-start","core-js/fn/string/pad-end","core-js/fn/string/trim-start","core-js/fn/string/trim-end","core-js/es6/symbol","core-js/es6/map","core-js/es6/set",function(t,r){t("core-js/es6/object"),t("core-js/es6/array"),t("core-js/es6/string"),t("core-js/es6/function"),t("core-js/fn/array/includes"),t("core-js/fn/object/values"),t("core-js/fn/object/entries"),t("core-js/fn/object/get-own-property-descriptors"),t("core-js/fn/string/pad-start"),t("core-js/fn/string/pad-end"),t("core-js/fn/string/trim-start"),t("core-js/fn/string/trim-end"),c=r.Symbol=e.Symbol||t("core-js/es6/symbol"),u=r.Map=t("core-js/es6/map"),a=r.Set=t("core-js/es6/set")}]},"core-js":{es6:{"object.js":["../modules/es6.symbol","../modules/es6.object.create","../modules/es6.object.define-property","../modules/es6.object.define-properties","../modules/es6.object.get-own-property-descriptor","../modules/es6.object.get-prototype-of","../modules/es6.object.keys","../modules/es6.object.get-own-property-names","../modules/es6.object.freeze","../modules/es6.object.seal","../modules/es6.object.prevent-extensions","../modules/es6.object.is-frozen","../modules/es6.object.is-sealed","../modules/es6.object.is-extensible","../modules/es6.object.assign","../modules/es6.object.is","../modules/es6.object.set-prototype-of","../modules/es6.object.to-string","../modules/_core",function(t,e,r){t("../modules/es6.symbol"),t("../modules/es6.object.create"),t("../modules/es6.object.define-property"),t("../modules/es6.object.define-properties"),t("../modules/es6.object.get-own-property-descriptor"),t("../modules/es6.object.get-prototype-of"),t("../modules/es6.object.keys"),t("../modules/es6.object.get-own-property-names"),t("../modules/es6.object.freeze"),t("../modules/es6.object.seal"),t("../modules/es6.object.prevent-extensions"),t("../modules/es6.object.is-frozen"),t("../modules/es6.object.is-sealed"),t("../modules/es6.object.is-extensible"),t("../modules/es6.object.assign"),t("../modules/es6.object.is"),t("../modules/es6.object.set-prototype-of"),t("../modules/es6.object.to-string"),r.exports=t("../modules/_core").Object}],"array.js":["../modules/es6.string.iterator","../modules/es6.array.is-array","../modules/es6.array.from","../modules/es6.array.of","../modules/es6.array.join","../modules/es6.array.slice","../modules/es6.array.sort","../modules/es6.array.for-each","../modules/es6.array.map","../modules/es6.array.filter","../modules/es6.array.some","../modules/es6.array.every","../modules/es6.array.reduce","../modules/es6.array.reduce-right","../modules/es6.array.index-of","../modules/es6.array.last-index-of","../modules/es6.array.copy-within","../modules/es6.array.fill","../modules/es6.array.find","../modules/es6.array.find-index","../modules/es6.array.species","../modules/es6.array.iterator","../modules/_core",function(t,e,r){t("../modules/es6.string.iterator"),t("../modules/es6.array.is-array"),t("../modules/es6.array.from"),t("../modules/es6.array.of"),t("../modules/es6.array.join"),t("../modules/es6.array.slice"),t("../modules/es6.array.sort"),t("../modules/es6.array.for-each"),t("../modules/es6.array.map"),t("../modules/es6.array.filter"),t("../modules/es6.array.some"),t("../modules/es6.array.every"),t("../modules/es6.array.reduce"),t("../modules/es6.array.reduce-right"),t("../modules/es6.array.index-of"),t("../modules/es6.array.last-index-of"),t("../modules/es6.array.copy-within"),t("../modules/es6.array.fill"),t("../modules/es6.array.find"),t("../modules/es6.array.find-index"),t("../modules/es6.array.species"),t("../modules/es6.array.iterator"),r.exports=t("../modules/_core").Array}],"string.js":["../modules/es6.string.from-code-point","../modules/es6.string.raw","../modules/es6.string.trim","../modules/es6.string.iterator","../modules/es6.string.code-point-at","../modules/es6.string.ends-with","../modules/es6.string.includes","../modules/es6.string.repeat","../modules/es6.string.starts-with","../modules/es6.string.anchor","../modules/es6.string.big","../modules/es6.string.blink","../modules/es6.string.bold","../modules/es6.string.fixed","../modules/es6.string.fontcolor","../modules/es6.string.fontsize","../modules/es6.string.italics","../modules/es6.string.link","../modules/es6.string.small","../modules/es6.string.strike","../modules/es6.string.sub","../modules/es6.string.sup","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/_core",function(t,e,r){t("../modules/es6.string.from-code-point"),t("../modules/es6.string.raw"),t("../modules/es6.string.trim"),t("../modules/es6.string.iterator"),t("../modules/es6.string.code-point-at"),t("../modules/es6.string.ends-with"),t("../modules/es6.string.includes"),t("../modules/es6.string.repeat"),t("../modules/es6.string.starts-with"),t("../modules/es6.string.anchor"),t("../modules/es6.string.big"),t("../modules/es6.string.blink"),t("../modules/es6.string.bold"),t("../modules/es6.string.fixed"),t("../modules/es6.string.fontcolor"),t("../modules/es6.string.fontsize"),t("../modules/es6.string.italics"),t("../modules/es6.string.link"),t("../modules/es6.string.small"),t("../modules/es6.string.strike"),t("../modules/es6.string.sub"),t("../modules/es6.string.sup"),t("../modules/es6.regexp.match"),t("../modules/es6.regexp.replace"),t("../modules/es6.regexp.search"),t("../modules/es6.regexp.split"),r.exports=t("../modules/_core").String}],"function.js":["../modules/es6.function.bind","../modules/es6.function.name","../modules/es6.function.has-instance","../modules/_core",function(t,e,r){t("../modules/es6.function.bind"),t("../modules/es6.function.name"),t("../modules/es6.function.has-instance"),r.exports=t("../modules/_core").Function}],"symbol.js":["../modules/es6.symbol","../modules/es6.object.to-string","../modules/_core",function(t,e,r){t("../modules/es6.symbol"),t("../modules/es6.object.to-string"),r.exports=t("../modules/_core").Symbol}],"map.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.map","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.map"),r.exports=t("../modules/_core").Map}],"set.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.set","../modules/_core",function(t,e,r){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.set"),r.exports=t("../modules/_core").Set}]},modules:{"es6.symbol.js":["./_global","./_has","./_descriptors","./_export","./_redefine","./_meta","./_fails","./_shared","./_set-to-string-tag","./_uid","./_wks","./_wks-ext","./_wks-define","./_keyof","./_enum-keys","./_is-array","./_an-object","./_to-iobject","./_to-primitive","./_property-desc","./_object-create","./_object-gopn-ext","./_object-gopd","./_object-dp","./_object-keys","./_object-gopn","./_object-pie","./_object-gops","./_library","./_hide",function(t){"use strict";var e=t("./_global"),r=t("./_has"),o=t("./_descriptors"),n=t("./_export"),s=t("./_redefine"),i=t("./_meta").KEY,c=t("./_fails"),u=t("./_shared"),a=t("./_set-to-string-tag"),_=t("./_uid"),f=t("./_wks"),l=t("./_wks-ext"),d=t("./_wks-define"),p=t("./_keyof"),j=t("./_enum-keys"),g=t("./_is-array"),b=t("./_an-object"),m=t("./_to-iobject"),h=t("./_to-primitive"),y=t("./_property-desc"),v=t("./_object-create"),x=t("./_object-gopn-ext"),w=t("./_object-gopd"),k=t("./_object-dp"),S=t("./_object-keys"),O=w.f,P=k.f,E=x.f,A=e.Symbol,F=e.JSON,M=F&&F.stringify,R="prototype",z=f("_hidden"),T=f("toPrimitive"),I={}.propertyIsEnumerable,C=u("symbol-registry"),N=u("symbols"),W=u("op-symbols"),D=Object[R],L="function"==typeof A,K=e.QObject,q=!K||!K[R]||!K[R].findChild,B=o&&c(function(){return 7!=v(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,r){var o=O(D,e);o&&delete D[e],P(t,e,r),o&&t!==D&&P(D,e,o)}:P,G=function(t){var e=N[t]=v(A[R]);return e._k=t,e},J=L&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},U=function t(e,o,n){return e===D&&U(W,o,n),b(e),o=h(o,!0),b(n),r(N,o)?(n.enumerable?(r(e,z)&&e[z][o]&&(e[z][o]=!1),n=v(n,{enumerable:y(0,!1)})):(r(e,z)||P(e,z,y(1,{})),e[z][o]=!0),B(e,o,n)):P(e,o,n)},Y=function t(e,r){b(e);for(var o=j(r=m(r)),n=0,s=o.length,i;s>n;)U(e,i=o[n++],r[i]);return e},$=function t(e,r){return void 0===r?v(e):Y(v(e),r)},Q=function t(e){var o=I.call(this,e=h(e,!0));return!(this===D&&r(N,e)&&!r(W,e))&&(!(o||!r(this,e)||!r(N,e)||r(this,z)&&this[z][e])||o)},H=function t(e,o){if(e=m(e),o=h(o,!0),e!==D||!r(N,o)||r(W,o)){var n=O(e,o);return!n||!r(N,o)||r(e,z)&&e[z][o]||(n.enumerable=!0),n}},V=function t(e){for(var o=E(m(e)),n=[],s=0,c;o.length>s;)r(N,c=o[s++])||c==z||c==i||n.push(c);return n},X=function t(e){for(var o=e===D,n=E(o?W:m(e)),s=[],i=0,c;n.length>i;)!r(N,c=n[i++])||o&&!r(D,c)||s.push(N[c]);return s};L||(A=function t(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),n=function(t){this===D&&n.call(W,t),r(this,z)&&r(this[z],e)&&(this[z][e]=!1),B(this,e,y(1,t))};return o&&q&&B(D,e,{configurable:!0,set:n}),G(e)},s(A[R],"toString",function t(){return this._k}),w.f=H,k.f=U,t("./_object-gopn").f=x.f=V,t("./_object-pie").f=Q,t("./_object-gops").f=X,o&&!t("./_library")&&s(D,"propertyIsEnumerable",Q,!0),l.f=function(t){return G(f(t))}),n(n.G+n.W+n.F*!L,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(var Z=S(f.store),tt=0;Z.length>tt;)d(Z[tt++]);n(n.S+n.F*!L,"Symbol",{for:function(t){return r(C,t+="")?C[t]:C[t]=A(t)},keyFor:function t(e){if(J(e))return p(C,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),n(n.S+n.F*!L,"Object",{create:$,defineProperty:U,defineProperties:Y,getOwnPropertyDescriptor:H,getOwnPropertyNames:V,getOwnPropertySymbols:X}),F&&n(n.S+n.F*(!L||c(function(){var t=A();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function t(e){if(void 0!==e&&!J(e)){for(var r=[e],o=1,n,s;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(s=n),!s&&g(n)||(n=function(t,e){if(s&&(e=s.call(this,t,e)),!J(e))return e}),r[1]=n,M.apply(F,r)}}}),A[R][T]||t("./_hide")(A[R],T,A[R].valueOf),a(A,"Symbol"),a(Math,"Math",!0),a(e.JSON,"JSON",!0)}],"_global.js":function(t,e,r){var o=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof _&&(_=o)},"_has.js":function(t,e,r){var o={}.hasOwnProperty;r.exports=function(t,e){return o.call(t,e)}},"_descriptors.js":["./_fails",function(t,e,r){r.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"_fails.js":function(t,e,r){r.exports=function(t){try{return!!t()}catch(t){return!0}}},"_export.js":["./_global","./_core","./_hide","./_redefine","./_ctx",function(t,e,r){var o=t("./_global"),n=t("./_core"),s=t("./_hide"),i=t("./_redefine"),c=t("./_ctx"),u="prototype",a=function(t,e,r){var _=t&a.F,f=t&a.G,l=t&a.S,d=t&a.P,p=t&a.B,j=f?o:l?o[e]||(o[e]={}):(o[e]||{})[u],g=f?n:n[e]||(n[e]={}),b=g[u]||(g[u]={}),m,h,y,v;f&&(r=e);for(m in r)h=!_&&j&&void 0!==j[m],y=(h?j:r)[m],v=p&&h?c(y,o):d&&"function"==typeof y?c(Function.call,y):y,j&&i(j,m,y,t&a.U),g[m]!=y&&s(g,m,v),d&&b[m]!=y&&(b[m]=y)};o.core=n,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,r.exports=a}],"_core.js":function(t,e,r){var o=r.exports={version:"2.4.0"};"number"==typeof f&&(f=o)},"_hide.js":["./_object-dp","./_property-desc","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_property-desc");r.exports=t("./_descriptors")?function(t,e,r){return o.f(t,e,n(1,r))}:function(t,e,r){return t[e]=r,t}}],"_object-dp.js":["./_an-object","./_ie8-dom-define","./_to-primitive","./_descriptors",function(t,e){var r=t("./_an-object"),o=t("./_ie8-dom-define"),n=t("./_to-primitive"),s=Object.defineProperty;e.f=t("./_descriptors")?Object.defineProperty:function t(e,i,c){if(r(e),i=n(i,!0),r(c),o)try{return s(e,i,c)}catch(t){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[i]=c.value),e}}],"_an-object.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}}],"_is-object.js":function(t,e,r){r.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},"_ie8-dom-define.js":["./_descriptors","./_fails","./_dom-create",function(t,e,r){r.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}],"_dom-create.js":["./_is-object","./_global",function(t,e,r){var o=t("./_is-object"),n=t("./_global").document,s=o(n)&&o(n.createElement);r.exports=function(t){return s?n.createElement(t):{}}}],"_to-primitive.js":["./_is-object",function(t,e,r){var o=t("./_is-object");r.exports=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}}],"_property-desc.js":function(t,e,r){r.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"_redefine.js":["./_global","./_hide","./_has","./_uid","./_core",function(t,e,r){var o=t("./_global"),n=t("./_hide"),s=t("./_has"),i=t("./_uid")("src"),c="toString",u=Function[c],a=(""+u).split(c);t("./_core").inspectSource=function(t){return u.call(t)},(r.exports=function(t,e,r,c){var u="function"==typeof r;u&&(s(r,"name")||n(r,"name",e)),t[e]!==r&&(u&&(s(r,i)||n(r,i,t[e]?""+t[e]:a.join(String(e)))),t===o?t[e]=r:c?t[e]?t[e]=r:n(t,e,r):(delete t[e],n(t,e,r)))})(Function.prototype,c,function t(){return"function"==typeof this&&this[i]||u.call(this)})}],"_uid.js":function(t,e,r){var o=0,n=Math.random();r.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},"_ctx.js":["./_a-function",function(t,e,r){var o=t("./_a-function");r.exports=function(t,e,r){if(o(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,o){return t.call(e,r,o)};case 3:return function(r,o,n){return t.call(e,r,o,n)}}return function(){return t.apply(e,arguments)}}}],"_a-function.js":function(t,e,r){r.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"_meta.js":["./_uid","./_is-object","./_has","./_object-dp","./_fails",function(t,e,r){var o=t("./_uid")("meta"),n=t("./_is-object"),s=t("./_has"),i=t("./_object-dp").f,c=0,u=Object.isExtensible||function(){return!0},a=!t("./_fails")(function(){return u(Object.preventExtensions({}))}),_=function(t){i(t,o,{value:{i:"O"+ ++c,w:{}}})},f=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,o)){if(!u(t))return"F";if(!e)return"E";_(t)}return t[o].i},l=function(t,e){if(!s(t,o)){if(!u(t))return!0;if(!e)return!1;_(t)}return t[o].w},d=function(t){return a&&p.NEED&&u(t)&&!s(t,o)&&_(t),t},p=r.exports={KEY:o,NEED:!1,fastKey:f,getWeak:l,onFreeze:d}}],"_shared.js":["./_global",function(t,e,r){var o=t("./_global"),n="__core-js_shared__",s=o[n]||(o[n]={});r.exports=function(t){return s[t]||(s[t]={})}}],"_set-to-string-tag.js":["./_object-dp","./_has","./_wks",function(t,e,r){var o=t("./_object-dp").f,n=t("./_has"),s=t("./_wks")("toStringTag");r.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,s)&&o(t,s,{configurable:!0,value:e})}}],"_wks.js":["./_shared","./_uid","./_global",function(t,e,r){var o=t("./_shared")("wks"),n=t("./_uid"),s=t("./_global").Symbol,i="function"==typeof s,c=r.exports=function(t){return o[t]||(o[t]=i&&s[t]||(i?s:n)("Symbol."+t))};c.store=o}],"_wks-ext.js":["./_wks",function(t,e){e.f=t("./_wks")}],"_wks-define.js":["./_global","./_core","./_library","./_wks-ext","./_object-dp",function(t,e,r){var o=t("./_global"),n=t("./_core"),s=t("./_library"),i=t("./_wks-ext"),c=t("./_object-dp").f;r.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||c(e,t,{value:i.f(t)})}}],"_library.js":function(t,e,r){r.exports=!1},"_keyof.js":["./_object-keys","./_to-iobject",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject");r.exports=function(t,e){for(var r=n(t),s=o(r),i=s.length,c=0,u;i>c;)if(r[u=s[c++]]===e)return u}}],"_object-keys.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e,r){var o=t("./_object-keys-internal"),n=t("./_enum-bug-keys");r.exports=Object.keys||function t(e){return o(e,n)}}],"_object-keys-internal.js":["./_has","./_to-iobject","./_array-includes","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-iobject"),s=t("./_array-includes")(!1),i=t("./_shared-key")("IE_PROTO");r.exports=function(t,e){var r=n(t),c=0,u=[],a;for(a in r)a!=i&&o(r,a)&&u.push(a);for(;e.length>c;)o(r,a=e[c++])&&(~s(u,a)||u.push(a));return u}}],"_to-iobject.js":["./_iobject","./_defined",function(t,e,r){var o=t("./_iobject"),n=t("./_defined");r.exports=function(t){return o(n(t))}}],"_iobject.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}}],"_cof.js":function(t,e,r){var o={}.toString;r.exports=function(t){return o.call(t).slice(8,-1)}},"_defined.js":function(t,e,r){r.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"_array-includes.js":["./_to-iobject","./_to-length","./_to-index",function(t,e,r){var o=t("./_to-iobject"),n=t("./_to-length"),s=t("./_to-index");r.exports=function(t){return function(e,r,i){var c=o(e),u=n(c.length),a=s(i,u),_;if(t&&r!=r){for(;u>a;)if(_=c[a++],_!=_)return!0}else for(;u>a;a++)if((t||a in c)&&c[a]===r)return t||a||0;return!t&&-1}}}],"_to-length.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.min;r.exports=function(t){return t>0?n(o(t),9007199254740991):0}}],"_to-integer.js":function(t,e,r){var o=Math.ceil,n=Math.floor;r.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},"_to-index.js":["./_to-integer",function(t,e,r){var o=t("./_to-integer"),n=Math.max,s=Math.min;r.exports=function(t,e){return t=o(t),t<0?n(t+e,0):s(t,e)}}],"_shared-key.js":["./_shared","./_uid",function(t,e,r){var o=t("./_shared")("keys"),n=t("./_uid");r.exports=function(t){return o[t]||(o[t]=n(t))}}],"_enum-bug-keys.js":function(t,e,r){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"_enum-keys.js":["./_object-keys","./_object-gops","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_object-gops"),s=t("./_object-pie");r.exports=function(t){var e=o(t),r=n.f;if(r)for(var i=r(t),c=s.f,u=0,a;i.length>u;)c.call(t,a=i[u++])&&e.push(a);return e}}],"_object-gops.js":function(t,e){e.f=Object.getOwnPropertySymbols},"_object-pie.js":function(t,e){e.f={}.propertyIsEnumerable},"_is-array.js":["./_cof",function(t,e,r){var o=t("./_cof");r.exports=Array.isArray||function t(e){return"Array"==o(e)}}],"_object-create.js":["./_an-object","./_object-dps","./_enum-bug-keys","./_shared-key","./_dom-create","./_html",function(t,e,r){var o=t("./_an-object"),n=t("./_object-dps"),s=t("./_enum-bug-keys"),i=t("./_shared-key")("IE_PROTO"),c=function(){},u="prototype",a=function(){var e=t("./_dom-create")("iframe"),r=s.length,o="<",n=">",i;for(e.style.display="none",t("./_html").appendChild(e),e.src="javascript:",i=e.contentWindow.document,i.open(),i.write(o+"script"+n+"document.F=Object"+o+"/script"+n),i.close(),a=i.F;r--;)delete a[u][s[r]];return a()};r.exports=Object.create||function t(e,r){var s;return null!==e?(c[u]=o(e),s=new c,c[u]=null,s[i]=e):s=a(),void 0===r?s:n(s,r)}}],"_object-dps.js":["./_object-dp","./_an-object","./_object-keys","./_descriptors",function(t,e,r){var o=t("./_object-dp"),n=t("./_an-object"),s=t("./_object-keys");r.exports=t("./_descriptors")?Object.defineProperties:function t(e,r){n(e);for(var i=s(r),c=i.length,u=0,a;c>u;)o.f(e,a=i[u++],r[a]);return e}}],"_html.js":["./_global",function(t,e,r){r.exports=t("./_global").document&&document.documentElement}],"_object-gopn-ext.js":["./_to-iobject","./_object-gopn",function(t,e,r){var o=t("./_to-iobject"),n=t("./_object-gopn").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(t){return i.slice()}};r.exports.f=function t(e){return i&&"[object Window]"==s.call(e)?c(e):n(o(e))}}],"_object-gopn.js":["./_object-keys-internal","./_enum-bug-keys",function(t,e){var r=t("./_object-keys-internal"),o=t("./_enum-bug-keys").concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,o)}}],"_object-gopd.js":["./_object-pie","./_property-desc","./_to-iobject","./_to-primitive","./_has","./_ie8-dom-define","./_descriptors",function(t,e){var r=t("./_object-pie"),o=t("./_property-desc"),n=t("./_to-iobject"),s=t("./_to-primitive"),i=t("./_has"),c=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;e.f=t("./_descriptors")?u:function t(e,a){if(e=n(e),a=s(a,!0),c)try{return u(e,a)}catch(t){}if(i(e,a))return o(!r.f.call(e,a),e[a])}}],"es6.object.create.js":["./_export","./_object-create",function(t){var e=t("./_export");e(e.S,"Object",{create:t("./_object-create")})}],"es6.object.define-property.js":["./_export","./_descriptors","./_object-dp",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})}],"es6.object.define-properties.js":["./_export","./_descriptors","./_object-dps",function(t){var e=t("./_export");e(e.S+e.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})}],"es6.object.get-own-property-descriptor.js":["./_to-iobject","./_object-gopd","./_object-sap",function(t){var e=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function t(o,n){return r(e(o),n)}})}],"_object-sap.js":["./_export","./_core","./_fails",function(t,e,r){var o=t("./_export"),n=t("./_core"),s=t("./_fails");r.exports=function(t,e){var r=(n.Object||{})[t]||Object[t],i={};i[t]=e(r),o(o.S+o.F*s(function(){r(1)}),"Object",i)}}],"es6.object.get-prototype-of.js":["./_to-object","./_object-gpo","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function t(o){return r(e(o))}})}],"_to-object.js":["./_defined",function(t,e,r){var o=t("./_defined");r.exports=function(t){return Object(o(t))}}],"_object-gpo.js":["./_has","./_to-object","./_shared-key",function(t,e,r){var o=t("./_has"),n=t("./_to-object"),s=t("./_shared-key")("IE_PROTO"),i=Object.prototype;r.exports=Object.getPrototypeOf||function(t){return t=n(t),o(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}}],"es6.object.keys.js":["./_to-object","./_object-keys","./_object-sap",function(t){var e=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function t(o){return r(e(o))}})}],"es6.object.get-own-property-names.js":["./_object-sap","./_object-gopn-ext",function(t){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})}],"es6.object.freeze.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.seal.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.prevent-extensions.js":["./_is-object","./_meta","./_object-sap",function(t){var e=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function o(n){return t&&e(n)?t(r(n)):n}})}],"es6.object.is-frozen.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-sealed.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function r(o){return!e(o)||!!t&&t(o)}})}],"es6.object.is-extensible.js":["./_is-object","./_object-sap",function(t){var e=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function r(o){return!!e(o)&&(!t||t(o))}})}],"es6.object.assign.js":["./_export","./_object-assign",function(t){var e=t("./_export");e(e.S+e.F,"Object",{assign:t("./_object-assign")})}],"_object-assign.js":["./_object-keys","./_object-gops","./_object-pie","./_to-object","./_iobject","./_fails",function(t,e,r){"use strict";var o=t("./_object-keys"),n=t("./_object-gops"),s=t("./_object-pie"),i=t("./_to-object"),u=t("./_iobject"),a=Object.assign;r.exports=!a||t("./_fails")(function(){var t={},e={},r=c(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t}),7!=a({},t)[r]||Object.keys(a({},e)).join("")!=o})?function t(e,r){for(var c=i(e),a=arguments.length,_=1,f=n.f,l=s.f;a>_;)for(var d=u(arguments[_++]),p=f?o(d).concat(f(d)):o(d),j=p.length,g=0,b;j>g;)l.call(d,b=p[g++])&&(c[b]=d[b]);return c}:a}],"es6.object.is.js":["./_export","./_same-value",function(t){var e=t("./_export");e(e.S,"Object",{is:t("./_same-value")})}],"_same-value.js":function(t,e,r){r.exports=Object.is||function t(e,r){return e===r?0!==e||1/e===1/r:e!=e&&r!=r}},"es6.object.set-prototype-of.js":["./_export","./_set-proto",function(t){var e=t("./_export");e(e.S,"Object",{setPrototypeOf:t("./_set-proto").set})}],"_set-proto.js":["./_is-object","./_an-object","./_ctx","./_object-gopd",function(t,e,r){var o=t("./_is-object"),n=t("./_an-object"),s=function(t,e){if(n(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,o){try{o=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),o(e,[]),r=!(e instanceof Array)}catch(t){r=!0}return function t(e,n){return s(e,n),r?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:s}}],"es6.object.to-string.js":["./_classof","./_wks","./_redefine",function(t){"use strict";var e=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function t(){return"[object "+e(this)+"]"},!0)}],"_classof.js":["./_cof","./_wks",function(t,e,r){var o=t("./_cof"),n=t("./_wks")("toStringTag"),s="Arguments"==o(function(){return arguments}()),i=function(t,e){try{return t[e]}catch(t){}};r.exports=function(t){var e,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=i(e=Object(t),n))?r:s?o(e):"Object"==(c=o(e))&&"function"==typeof e.callee?"Arguments":c}}],"es6.string.iterator.js":["./_string-at","./_iter-define",function(t){"use strict";var e=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,r=this._i,o;return r>=t.length?{value:void 0,done:!0}:(o=e(t,r),this._i+=o.length,{value:o,done:!1})})}],"_string-at.js":["./_to-integer","./_defined",function(t,e,r){var o=t("./_to-integer"),n=t("./_defined");r.exports=function(t){return function(e,r){var s=String(n(e)),i=o(r),c=s.length,u,a;return i<0||i>=c?t?"":void 0:(u=s.charCodeAt(i),u<55296||u>56319||i+1===c||(a=s.charCodeAt(i+1))<56320||a>57343?t?s.charAt(i):u:t?s.slice(i,i+2):(u-55296<<10)+(a-56320)+65536)}}}],"_iter-define.js":["./_library","./_export","./_redefine","./_hide","./_has","./_iterators","./_iter-create","./_set-to-string-tag","./_object-gpo","./_wks",function(t,e,r){"use strict";var o=t("./_library"),n=t("./_export"),s=t("./_redefine"),i=t("./_hide"),c=t("./_has"),u=t("./_iterators"),a=t("./_iter-create"),_=t("./_set-to-string-tag"),f=t("./_object-gpo"),l=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",j="keys",g="values",b=function(){return this};r.exports=function(t,e,r,m,h,y,v){a(r,e,m);var x=function(t){if(!d&&t in O)return O[t];switch(t){case j:return function e(){return new r(this,t)};case g:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}},w=e+" Iterator",k=h==g,S=!1,O=t.prototype,P=O[l]||O[p]||h&&O[h],E=P||x(h),A=h?k?x("entries"):E:void 0,F="Array"==e?O.entries||P:P,M,R,z;if(F&&(z=f(F.call(new t)),z!==Object.prototype&&(_(z,w,!0),o||c(z,l)||i(z,l,b))),k&&P&&P.name!==g&&(S=!0,E=function t(){return P.call(this)}),o&&!v||!d&&!S&&O[l]||i(O,l,E),u[e]=E,u[w]=b,h)if(M={values:k?E:x(g),keys:y?E:x(j),entries:A},v)for(R in M)R in O||s(O,R,M[R]);else n(n.P+n.F*(d||S),e,M);return M}}],"_iterators.js":function(t,e,r){r.exports={}},"_iter-create.js":["./_object-create","./_property-desc","./_set-to-string-tag","./_hide","./_wks",function(t,e,r){"use strict";var o=t("./_object-create"),n=t("./_property-desc"),s=t("./_set-to-string-tag"),i={};t("./_hide")(i,t("./_wks")("iterator"),function(){return this}),r.exports=function(t,e,r){t.prototype=o(i,{next:n(1,r)}),s(t,e+" Iterator")}}],"es6.array.is-array.js":["./_export","./_is-array",function(t){var e=t("./_export");e(e.S,"Array",{isArray:t("./_is-array")})}],"es6.array.from.js":["./_ctx","./_export","./_to-object","./_iter-call","./_is-array-iter","./_to-length","./_create-property","./core.get-iterator-method","./_iter-detect",function(t){"use strict";var e=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),n=t("./_iter-call"),s=t("./_is-array-iter"),i=t("./_to-length"),c=t("./_create-property"),u=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function t(r){var a=o(r),_="function"==typeof this?this:Array,f=arguments.length,l=f>1?arguments[1]:void 0,d=void 0!==l,p=0,j=u(a),g,b,m,h;if(d&&(l=e(l,f>2?arguments[2]:void 0,2)),void 0==j||_==Array&&s(j))for(g=i(a.length),b=new _(g);g>p;p++)c(b,p,d?l(a[p],p):a[p]);else for(h=j.call(a),b=new _;!(m=h.next()).done;p++)c(b,p,d?n(h,l,[m.value,p],!0):m.value);return b.length=p,b}})}],"_iter-call.js":["./_an-object",function(t,e,r){var o=t("./_an-object");r.exports=function(t,e,r,n){try{return n?e(o(r)[0],r[1]):e(r)}catch(e){var s=t.return;throw void 0!==s&&o(s.call(t)),e}}}],"_is-array-iter.js":["./_iterators","./_wks",function(t,e,r){var o=t("./_iterators"),n=t("./_wks")("iterator"),s=Array.prototype;r.exports=function(t){return void 0!==t&&(o.Array===t||s[n]===t)}}],"_create-property.js":["./_object-dp","./_property-desc",function(t,e,r){"use strict";var o=t("./_object-dp"),n=t("./_property-desc");r.exports=function(t,e,r){e in t?o.f(t,e,n(0,r)):t[e]=r}}],"core.get-iterator-method.js":["./_classof","./_wks","./_iterators","./_core",function(t,e,r){var o=t("./_classof"),n=t("./_wks")("iterator"),s=t("./_iterators");r.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||s[o(t)]}}],"_iter-detect.js":["./_wks",function(t,e,r){
var o=t("./_wks")("iterator"),n=!1;try{var s=[7][o]();s.return=function(){n=!0},Array.from(s,function(){throw 2})}catch(t){}r.exports=function(t,e){if(!e&&!n)return!1;var r=!1;try{var s=[7],i=s[o]();i.next=function(){return{done:r=!0}},s[o]=function(){return i},t(s)}catch(t){}return r}}],"es6.array.of.js":["./_export","./_create-property","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_create-property");e(e.S+e.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function t(){for(var e=0,o=arguments.length,n=new("function"==typeof this?this:Array)(o);o>e;)r(n,e,arguments[e++]);return n.length=o,n}})}],"es6.array.join.js":["./_export","./_to-iobject","./_iobject","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=[].join;e(e.P+e.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function t(e){return o.call(r(this),void 0===e?",":e)}})}],"_strict-method.js":["./_fails",function(t,e,r){var o=t("./_fails");r.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}}],"es6.array.slice.js":["./_export","./_html","./_cof","./_to-index","./_to-length","./_fails",function(t){"use strict";var e=t("./_export"),r=t("./_html"),o=t("./_cof"),n=t("./_to-index"),s=t("./_to-length"),i=[].slice;e(e.P+e.F*t("./_fails")(function(){r&&i.call(r)}),"Array",{slice:function t(e,r){var c=s(this.length),u=o(this);if(r=void 0===r?c:r,"Array"==u)return i.call(this,e,r);for(var a=n(e,c),_=n(r,c),f=s(_-a),l=Array(f),d=0;d<f;d++)l[d]="String"==u?this.charAt(a+d):this[a+d];return l}})}],"es6.array.sort.js":["./_export","./_a-function","./_to-object","./_fails","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),n=t("./_fails"),s=[].sort,i=[1,2,3];e(e.P+e.F*(n(function(){i.sort(void 0)})||!n(function(){i.sort(null)})||!t("./_strict-method")(s)),"Array",{sort:function t(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})}],"es6.array.for-each.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function t(e){return r(this,e,arguments[1])}})}],"_array-methods.js":["./_ctx","./_iobject","./_to-object","./_to-length","./_array-species-create",function(t,e,r){var o=t("./_ctx"),n=t("./_iobject"),s=t("./_to-object"),i=t("./_to-length"),c=t("./_array-species-create");r.exports=function(t,e){var r=1==t,u=2==t,a=3==t,_=4==t,f=6==t,l=5==t||f,d=e||c;return function(e,c,p){for(var j=s(e),g=n(j),b=o(c,p,3),m=i(g.length),h=0,y=r?d(e,m):u?d(e,0):void 0,v,x;m>h;h++)if((l||h in g)&&(v=g[h],x=b(v,h,j),t))if(r)y[h]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return h;case 2:y.push(v)}else if(_)return!1;return f?-1:a||_?_:y}}}],"_array-species-create.js":["./_array-species-constructor",function(t,e,r){var o=t("./_array-species-constructor");r.exports=function(t,e){return new(o(t))(e)}}],"_array-species-constructor.js":["./_is-object","./_is-array","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_is-array"),s=t("./_wks")("species");r.exports=function(t){var e;return n(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)||(e=void 0),o(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}}],"es6.array.map.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(1);e(e.P+e.F*!t("./_strict-method")([].map,!0),"Array",{map:function t(e){return r(this,e,arguments[1])}})}],"es6.array.filter.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(2);e(e.P+e.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function t(e){return r(this,e,arguments[1])}})}],"es6.array.some.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(3);e(e.P+e.F*!t("./_strict-method")([].some,!0),"Array",{some:function t(e){return r(this,e,arguments[1])}})}],"es6.array.every.js":["./_export","./_array-methods","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(4);e(e.P+e.F*!t("./_strict-method")([].every,!0),"Array",{every:function t(e){return r(this,e,arguments[1])}})}],"es6.array.reduce.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function t(e){return r(this,e,arguments.length,arguments[1],!1)}})}],"_array-reduce.js":["./_a-function","./_to-object","./_iobject","./_to-length",function(t,e,r){var o=t("./_a-function"),n=t("./_to-object"),s=t("./_iobject"),i=t("./_to-length");r.exports=function(t,e,r,c,u){o(e);var a=n(t),_=s(a),f=i(a.length),l=u?f-1:0,d=u?-1:1;if(r<2)for(;;){if(l in _){c=_[l],l+=d;break}if(l+=d,u?l<0:f<=l)throw TypeError("Reduce of empty array with no initial value")}for(;u?l>=0:f>l;l+=d)l in _&&(c=e(c,_[l],l,a));return c}}],"es6.array.reduce-right.js":["./_export","./_array-reduce","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-reduce");e(e.P+e.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function t(e){return r(this,e,arguments.length,arguments[1],!0)}})}],"es6.array.index-of.js":["./_export","./_array-includes","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!1),o=[].indexOf,n=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(n||!t("./_strict-method")(o)),"Array",{indexOf:function t(e){return n?o.apply(this,arguments)||0:r(this,e,arguments[1])}})}],"es6.array.last-index-of.js":["./_export","./_to-iobject","./_to-integer","./_to-length","./_strict-method",function(t){"use strict";var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-integer"),n=t("./_to-length"),s=[].lastIndexOf,i=!!s&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(i||!t("./_strict-method")(s)),"Array",{lastIndexOf:function t(e){if(i)return s.apply(this,arguments)||0;var c=r(this),u=n(c.length),a=u-1;for(arguments.length>1&&(a=Math.min(a,o(arguments[1]))),a<0&&(a=u+a);a>=0;a--)if(a in c&&c[a]===e)return a||0;return-1}})}],"es6.array.copy-within.js":["./_export","./_array-copy-within","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")}],"_array-copy-within.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),s=t("./_to-length");r.exports=[].copyWithin||function t(e,r){var i=o(this),c=s(i.length),u=n(e,c),a=n(r,c),_=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===_?c:n(_,c))-a,c-u),l=1;for(a<u&&u<a+f&&(l=-1,a+=f-1,u+=f-1);f-- >0;)a in i?i[u]=i[a]:delete i[u],u+=l,a+=l;return i}}],"_add-to-unscopables.js":["./_wks","./_hide",function(t,e,r){var o=t("./_wks")("unscopables"),n=Array.prototype;void 0==n[o]&&t("./_hide")(n,o,{}),r.exports=function(t){n[o][t]=!0}}],"es6.array.fill.js":["./_export","./_array-fill","./_add-to-unscopables",function(t){var e=t("./_export");e(e.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")}],"_array-fill.js":["./_to-object","./_to-index","./_to-length",function(t,e,r){"use strict";var o=t("./_to-object"),n=t("./_to-index"),s=t("./_to-length");r.exports=function t(e){for(var r=o(this),i=s(r.length),c=arguments.length,u=n(c>1?arguments[1]:void 0,i),a=c>2?arguments[2]:void 0,_=void 0===a?i:n(a,i);_>u;)r[u++]=e;return r}}],"es6.array.find.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(5),o="find",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{find:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.find-index.js":["./_export","./_array-methods","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-methods")(6),o="findIndex",n=!0;o in[]&&Array(1)[o](function(){n=!1}),e(e.P+e.F*n,"Array",{findIndex:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)}],"es6.array.species.js":["./_set-species",function(t){t("./_set-species")("Array")}],"_set-species.js":["./_global","./_object-dp","./_descriptors","./_wks",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_object-dp"),s=t("./_descriptors"),i=t("./_wks")("species");r.exports=function(t){var e=o[t];s&&e&&!e[i]&&n.f(e,i,{configurable:!0,get:function(){return this}})}}],"es6.array.iterator.js":["./_add-to-unscopables","./_iter-step","./_iterators","./_to-iobject","./_iter-define",function(t,e,r){"use strict";var o=t("./_add-to-unscopables"),n=t("./_iter-step"),s=t("./_iterators"),i=t("./_to-iobject");r.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=i(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,n(1)):"keys"==e?n(0,r):"values"==e?n(0,t[r]):n(0,[r,t[r]])},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")}],"_iter-step.js":function(t,e,r){r.exports=function(t,e){return{value:e,done:!!t}}},"es6.string.from-code-point.js":["./_export","./_to-index",function(t){var e=t("./_export"),r=t("./_to-index"),o=String.fromCharCode,n=String.fromCodePoint;e(e.S+e.F*(!!n&&1!=n.length),"String",{fromCodePoint:function t(e){for(var n=[],s=arguments.length,i=0,c;s>i;){if(c=+arguments[i++],r(c,1114111)!==c)throw RangeError(c+" is not a valid code point");n.push(c<65536?o(c):o(((c-=65536)>>10)+55296,c%1024+56320))}return n.join("")}})}],"es6.string.raw.js":["./_export","./_to-iobject","./_to-length",function(t){var e=t("./_export"),r=t("./_to-iobject"),o=t("./_to-length");e(e.S,"String",{raw:function t(e){for(var n=r(e.raw),s=o(n.length),i=arguments.length,c=[],u=0;s>u;)c.push(String(n[u++])),u<i&&c.push(String(arguments[u]));return c.join("")}})}],"es6.string.trim.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trim",function(t){return function e(){return t(this,3)}})}],"_string-trim.js":["./_export","./_defined","./_fails","./_string-ws",function(t,e,r){var o=t("./_export"),n=t("./_defined"),s=t("./_fails"),i=t("./_string-ws"),c="["+i+"]",u="​",a=RegExp("^"+c+c+"*"),_=RegExp(c+c+"*$"),f=function(t,e,r){var n={},c=s(function(){return!!i[t]()||u[t]()!=u}),a=n[t]=c?e(l):i[t];r&&(n[r]=a),o(o.P+o.F*c,"String",n)},l=f.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(_,"")),t};r.exports=f}],"_string-ws.js":function(t,e,r){r.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"es6.string.code-point-at.js":["./_export","./_string-at",function(t){"use strict";var e=t("./_export"),r=t("./_string-at")(!1);e(e.P,"String",{codePointAt:function t(e){return r(this,e)}})}],"es6.string.ends-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="endsWith",s=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{endsWith:function t(e){var i=o(this,e,n),c=arguments.length>1?arguments[1]:void 0,u=r(i.length),a=void 0===c?u:Math.min(r(c),u),_=String(e);return s?s.call(i,_,a):i.slice(a-_.length,a)===_}})}],"_string-context.js":["./_is-regexp","./_defined",function(t,e,r){var o=t("./_is-regexp"),n=t("./_defined");r.exports=function(t,e,r){if(o(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(n(t))}}],"_is-regexp.js":["./_is-object","./_cof","./_wks",function(t,e,r){var o=t("./_is-object"),n=t("./_cof"),s=t("./_wks")("match");r.exports=function(t){var e;return o(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}}],"_fails-is-regexp.js":["./_wks",function(t,e,r){var o=t("./_wks")("match");r.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,!"/./"[t](e)}catch(t){}}return!0}}],"es6.string.includes.js":["./_export","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_string-context"),o="includes";e(e.P+e.F*t("./_fails-is-regexp")(o),"String",{includes:function t(e){return!!~r(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}})}],"es6.string.repeat.js":["./_export","./_string-repeat",function(t){var e=t("./_export");e(e.P,"String",{repeat:t("./_string-repeat")})}],"_string-repeat.js":["./_to-integer","./_defined",function(t,e,r){"use strict";var o=t("./_to-integer"),n=t("./_defined");r.exports=function t(e){var r=String(n(this)),s="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(r+=r))1&i&&(s+=r);return s}}],"es6.string.starts-with.js":["./_export","./_to-length","./_string-context","./_fails-is-regexp",function(t){"use strict";var e=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),n="startsWith",s=""[n];e(e.P+e.F*t("./_fails-is-regexp")(n),"String",{startsWith:function t(e){var i=o(this,e,n),c=r(Math.min(arguments.length>1?arguments[1]:void 0,i.length)),u=String(e);return s?s.call(i,u,c):i.slice(c,c+u.length)===u}})}],"es6.string.anchor.js":["./_string-html",function(t){"use strict";t("./_string-html")("anchor",function(t){return function e(r){return t(this,"a","name",r)}})}],"_string-html.js":["./_export","./_fails","./_defined",function(t,e,r){var o=t("./_export"),n=t("./_fails"),s=t("./_defined"),i=/"/g,c=function(t,e,r,o){var n=String(s(t)),c="<"+e;return""!==r&&(c+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),c+">"+n+"</"+e+">"};r.exports=function(t,e){var r={};r[t]=e(c),o(o.P+o.F*n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",r)}}],"es6.string.big.js":["./_string-html",function(t){"use strict";t("./_string-html")("big",function(t){return function e(){return t(this,"big","","")}})}],"es6.string.blink.js":["./_string-html",function(t){"use strict";t("./_string-html")("blink",function(t){return function e(){return t(this,"blink","","")}})}],"es6.string.bold.js":["./_string-html",function(t){"use strict";t("./_string-html")("bold",function(t){return function e(){return t(this,"b","","")}})}],"es6.string.fixed.js":["./_string-html",function(t){"use strict";t("./_string-html")("fixed",function(t){return function e(){return t(this,"tt","","")}})}],"es6.string.fontcolor.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontcolor",function(t){return function e(r){return t(this,"font","color",r)}})}],"es6.string.fontsize.js":["./_string-html",function(t){"use strict";t("./_string-html")("fontsize",function(t){return function e(r){return t(this,"font","size",r)}})}],"es6.string.italics.js":["./_string-html",function(t){"use strict";t("./_string-html")("italics",function(t){return function e(){return t(this,"i","","")}})}],"es6.string.link.js":["./_string-html",function(t){"use strict";t("./_string-html")("link",function(t){return function e(r){return t(this,"a","href",r)}})}],"es6.string.small.js":["./_string-html",function(t){"use strict";t("./_string-html")("small",function(t){return function e(){return t(this,"small","","")}})}],"es6.string.strike.js":["./_string-html",function(t){"use strict";t("./_string-html")("strike",function(t){return function e(){return t(this,"strike","","")}})}],"es6.string.sub.js":["./_string-html",function(t){"use strict";t("./_string-html")("sub",function(t){return function e(){return t(this,"sub","","")}})}],"es6.string.sup.js":["./_string-html",function(t){"use strict";t("./_string-html")("sup",function(t){return function e(){return t(this,"sup","","")}})}],"es6.regexp.match.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("match",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),s=void 0==o?void 0:o[e];return void 0!==s?s.call(o,n):new RegExp(o)[e](String(n))},r]})}],"_fix-re-wks.js":["./_hide","./_redefine","./_fails","./_defined","./_wks",function(t,e,r){"use strict";var o=t("./_hide"),n=t("./_redefine"),s=t("./_fails"),i=t("./_defined"),c=t("./_wks");r.exports=function(t,e,r){var u=c(t),a=r(i,u,""[t]),_=a[0],f=a[1];s(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(n(String.prototype,t,_),o(RegExp.prototype,u,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)}))}}],"es6.regexp.replace.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("replace",2,function(t,e,r){return[function o(n,s){"use strict";var i=t(this),c=void 0==n?void 0:n[e];return void 0!==c?c.call(n,i,s):r.call(String(i),n,s)},r]})}],"es6.regexp.search.js":["./_fix-re-wks",function(t){t("./_fix-re-wks")("search",1,function(t,e,r){return[function r(o){"use strict";var n=t(this),s=void 0==o?void 0:o[e];return void 0!==s?s.call(o,n):new RegExp(o)[e](String(n))},r]})}],"es6.regexp.split.js":["./_fix-re-wks","./_is-regexp",function(t){t("./_fix-re-wks")("split",2,function(e,r,o){"use strict";var n=t("./_is-regexp"),s=o,i=[].push,c="split",u="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[u]||2!="ab"[c](/(?:ab)*/)[u]||4!="."[c](/(.?)(.?)/)[u]||"."[c](/()()/)[u]>1||""[c](/.?/)[u]){var _=void 0===/()??/.exec("")[1];o=function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return s.call(r,t,e);var o=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,l=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,c+"g"),p,j,g,b,m;for(_||(p=new RegExp("^"+d.source+"$(?!\\s)",c));(j=d.exec(r))&&(g=j.index+j[0][u],!(g>f&&(o.push(r.slice(f,j.index)),!_&&j[u]>1&&j[0].replace(p,function(){for(m=1;m<arguments[u]-2;m++)void 0===arguments[m]&&(j[m]=void 0)}),j[u]>1&&j.index<r[u]&&i.apply(o,j.slice(1)),b=j[0][u],f=g,o[u]>=l)));)d[a]===j.index&&d[a]++;return f===r[u]?!b&&d.test("")||o.push(""):o.push(r.slice(f)),o[u]>l?o.slice(0,l):o}}else"0"[c](void 0,0)[u]&&(o=function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)});return[function t(n,s){var i=e(this),c=void 0==n?void 0:n[r];return void 0!==c?c.call(n,i,s):o.call(String(i),n,s)},o]})}],"es6.function.bind.js":["./_export","./_bind",function(t){var e=t("./_export");e(e.P,"Function",{bind:t("./_bind")})}],"_bind.js":["./_a-function","./_is-object","./_invoke",function(t,e,r){"use strict";var o=t("./_a-function"),n=t("./_is-object"),s=t("./_invoke"),i=[].slice,c={},u=function(t,e,r){if(!(e in c)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";c[e]=Function("F,a","return new F("+o.join(",")+")")}return c[e](t,r)};r.exports=Function.bind||function t(e){var r=o(this),c=i.call(arguments,1),a=function(){var t=c.concat(i.call(arguments));return this instanceof a?u(r,t.length,t):s(r,t,e)};return n(r.prototype)&&(a.prototype=r.prototype),a}}],"_invoke.js":function(t,e,r){r.exports=function(t,e,r){var o=void 0===r;switch(e.length){case 0:return o?t():t.call(r);case 1:return o?t(e[0]):t.call(r,e[0]);case 2:return o?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},"es6.function.name.js":["./_object-dp","./_property-desc","./_has","./_descriptors",function(t){var e=t("./_object-dp").f,r=t("./_property-desc"),o=t("./_has"),n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name",c=Object.isExtensible||function(){return!0};i in n||t("./_descriptors")&&e(n,i,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(s)[1];return o(t,i)||!c(t)||e(t,i,r(5,n)),n}catch(t){return""}}})}],"es6.function.has-instance.js":["./_is-object","./_object-gpo","./_wks","./_object-dp",function(t){"use strict";var e=t("./_is-object"),r=t("./_object-gpo"),o=t("./_wks")("hasInstance"),n=Function.prototype;o in n||t("./_object-dp").f(n,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})}],"es7.array.includes.js":["./_export","./_array-includes","./_add-to-unscopables",function(t){"use strict";var e=t("./_export"),r=t("./_array-includes")(!0);e(e.P,"Array",{includes:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")}],"es7.object.values.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!1);e(e.S,"Object",{values:function t(e){return r(e)}})}],"_object-to-array.js":["./_object-keys","./_to-iobject","./_object-pie",function(t,e,r){var o=t("./_object-keys"),n=t("./_to-iobject"),s=t("./_object-pie").f;r.exports=function(t){return function(e){for(var r=n(e),i=o(r),c=i.length,u=0,a=[],_;c>u;)s.call(r,_=i[u++])&&a.push(t?[_,r[_]]:r[_]);return a}}}],"es7.object.entries.js":["./_export","./_object-to-array",function(t){var e=t("./_export"),r=t("./_object-to-array")(!0);e(e.S,"Object",{entries:function t(e){return r(e)}})}],"es7.object.get-own-property-descriptors.js":["./_export","./_own-keys","./_to-iobject","./_object-gopd","./_create-property",function(t){var e=t("./_export"),r=t("./_own-keys"),o=t("./_to-iobject"),n=t("./_object-gopd"),s=t("./_create-property");e(e.S,"Object",{getOwnPropertyDescriptors:function t(e){for(var i=o(e),c=n.f,u=r(i),a={},_=0,f;u.length>_;)s(a,f=u[_++],c(i,f));return a}})}],"_own-keys.js":["./_object-gopn","./_object-gops","./_an-object","./_global",function(t,e,r){var o=t("./_object-gopn"),n=t("./_object-gops"),s=t("./_an-object"),i=t("./_global").Reflect;r.exports=i&&i.ownKeys||function t(e){var r=o.f(s(e)),i=n.f;return i?r.concat(i(e)):r}}],"es7.string.pad-start.js":["./_export","./_string-pad",function(t){"use strict";var e=t("./_export"),r=t("./_string-pad");e(e.P,"String",{padStart:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})}],"_string-pad.js":["./_to-length","./_string-repeat","./_defined",function(t,e,r){var o=t("./_to-length"),n=t("./_string-repeat"),s=t("./_defined");r.exports=function(t,e,r,i){var c=String(s(t)),u=c.length,a=void 0===r?" ":String(r),_=o(e);if(_<=u||""==a)return c;var f=_-u,l=n.call(a,Math.ceil(f/a.length));return l.length>f&&(l=l.slice(0,f)),i?l+c:c+l}}],"es7.string.pad-end.js":["./_export","./_string-pad",function(t){"use strict";var e=t("./_export"),r=t("./_string-pad");e(e.P,"String",{padEnd:function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})}],"es7.string.trim-left.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trimLeft",function(t){return function e(){return t(this,1)}},"trimStart")}],"es7.string.trim-right.js":["./_string-trim",function(t){"use strict";t("./_string-trim")("trimRight",function(t){return function e(){return t(this,2)}},"trimEnd")}],"web.dom.iterable.js":["./es6.array.iterator","./_redefine","./_global","./_hide","./_iterators","./_wks",function(t){for(var e=t("./es6.array.iterator"),r=t("./_redefine"),o=t("./_global"),n=t("./_hide"),s=t("./_iterators"),i=t("./_wks"),c=i("iterator"),u=i("toStringTag"),a=s.Array,_=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var l=_[f],d=o[l],p=d&&d.prototype,j;if(p){p[c]||n(p,c,a),p[u]||n(p,u,l),s[l]=a;for(j in e)p[j]||r(p,j,e[j],!0)}}}],"es6.map.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Map",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function t(e){var r=o.getEntry(this,e);return r&&r.v},set:function t(e,r){return o.def(this,0===e?0:e,r)}},o,!0)}],"_collection-strong.js":["./_object-dp","./_object-create","./_redefine-all","./_ctx","./_an-instance","./_defined","./_for-of","./_iter-define","./_iter-step","./_set-species","./_descriptors","./_meta",function(t,e,r){"use strict";var o=t("./_object-dp").f,n=t("./_object-create"),s=t("./_redefine-all"),i=t("./_ctx"),c=t("./_an-instance"),u=t("./_defined"),a=t("./_for-of"),_=t("./_iter-define"),f=t("./_iter-step"),l=t("./_set-species"),d=t("./_descriptors"),p=t("./_meta").fastKey,j=d?"_s":"size",g=function(t,e){var r=p(e),o;if("F"!==r)return t._i[r];for(o=t._f;o;o=o.n)if(o.k==e)return o};r.exports={getConstructor:function(t,e,r,_){var f=t(function(t,o){c(t,f,e,"_i"),t._i=n(null),t._f=void 0,t._l=void 0,t[j]=0,void 0!=o&&a(o,r,t[_],t)});return s(f.prototype,{clear:function t(){for(var e=this,r=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete r[o.i];e._f=e._l=void 0,e[j]=0},delete:function(t){var e=this,r=g(e,t);if(r){var o=r.n,n=r.p;delete e._i[r.i],r.r=!0,n&&(n.n=o),o&&(o.p=n),e._f==r&&(e._f=o),e._l==r&&(e._l=n),e[j]--}return!!r},forEach:function t(e){c(this,f,"forEach");for(var r=i(e,arguments.length>1?arguments[1]:void 0,3),o;o=o?o.n:this._f;)for(r(o.v,o.k,this);o&&o.r;)o=o.p},has:function t(e){return!!g(this,e)}}),d&&o(f.prototype,"size",{get:function(){return u(this[j])}}),f},def:function(t,e,r){var o=g(t,e),n,s;return o?o.v=r:(t._l=o={i:s=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[j]++,"F"!==s&&(t._i[s]=o)),t},getEntry:g,setStrong:function(t,e,r){_(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?f(0,r.k):"values"==e?f(0,r.v):f(0,[r.k,r.v]):(t._t=void 0,f(1))},r?"entries":"values",!r,!0),l(e)}}}],"_redefine-all.js":["./_redefine",function(t,e,r){var o=t("./_redefine");r.exports=function(t,e,r){for(var n in e)o(t,n,e[n],r);return t}}],"_an-instance.js":function(t,e,r){r.exports=function(t,e,r,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(r+": incorrect invocation!");return t}},"_for-of.js":["./_ctx","./_iter-call","./_is-array-iter","./_an-object","./_to-length","./core.get-iterator-method",function(t,e,r){var o=t("./_ctx"),n=t("./_iter-call"),s=t("./_is-array-iter"),i=t("./_an-object"),c=t("./_to-length"),u=t("./core.get-iterator-method"),a={},_={},e=r.exports=function(t,e,r,f,l){var d=l?function(){return t}:u(t),p=o(r,f,e?2:1),j=0,g,b,m,h;if("function"!=typeof d)throw TypeError(t+" is not iterable!");if(s(d)){for(g=c(t.length);g>j;j++)if(h=e?p(i(b=t[j])[0],b[1]):p(t[j]),h===a||h===_)return h}else for(m=d.call(t);!(b=m.next()).done;)if(h=n(m,p,b.value,e),h===a||h===_)return h};e.BREAK=a,e.RETURN=_}],"_collection.js":["./_global","./_export","./_redefine","./_redefine-all","./_meta","./_for-of","./_an-instance","./_is-object","./_fails","./_iter-detect","./_set-to-string-tag","./_inherit-if-required",function(t,e,r){"use strict";var o=t("./_global"),n=t("./_export"),s=t("./_redefine"),i=t("./_redefine-all"),c=t("./_meta"),u=t("./_for-of"),a=t("./_an-instance"),_=t("./_is-object"),f=t("./_fails"),l=t("./_iter-detect"),d=t("./_set-to-string-tag"),p=t("./_inherit-if-required");r.exports=function(t,e,r,j,g,b){var m=o[t],h=m,y=g?"set":"add",v=h&&h.prototype,x={},w=function(t){var e=v[t];s(v,t,"delete"==t?function(t){return!(b&&!_(t))&&e.call(this,0===t?0:t)}:"has"==t?function t(r){return!(b&&!_(r))&&e.call(this,0===r?0:r)}:"get"==t?function t(r){return b&&!_(r)?void 0:e.call(this,0===r?0:r)}:"add"==t?function t(r){return e.call(this,0===r?0:r),this}:function t(r,o){return e.call(this,0===r?0:r,o),this})};if("function"==typeof h&&(b||v.forEach&&!f(function(){(new h).entries().next()}))){var k=new h,S=k[y](b?{}:-0,1)!=k,O=f(function(){k.has(1)}),P=l(function(t){new h(t)}),E=!b&&f(function(){for(var t=new h,e=5;e--;)t[y](e,e);return!t.has(-0)});P||(h=e(function(e,r){a(e,h,t);var o=p(new m,e,h);return void 0!=r&&u(r,g,o[y],o),o}),h.prototype=v,v.constructor=h),(O||E)&&(w("delete"),w("has"),g&&w("get")),(E||S)&&w(y),b&&v.clear&&delete v.clear}else h=j.getConstructor(e,t,g,y),i(h.prototype,r),c.NEED=!0;return d(h,t),x[t]=h,n(n.G+n.W+n.F*(h!=m),x),b||j.setStrong(h,t,g),h}}],"_inherit-if-required.js":["./_is-object","./_set-proto",function(t,e,r){var o=t("./_is-object"),n=t("./_set-proto").set;r.exports=function(t,e,r){var s,i=e.constructor;return i!==r&&"function"==typeof i&&(s=i.prototype)!==r.prototype&&o(s)&&n&&n(t,s),t}}],"es6.set.js":["./_collection-strong","./_collection",function(t,e,r){"use strict";var o=t("./_collection-strong");r.exports=t("./_collection")("Set",function(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function t(e){return o.def(this,e=0===e?0:e,e)}},o)}]},fn:{array:{"includes.js":["../../modules/es7.array.includes","../../modules/_core",function(t,e,r){t("../../modules/es7.array.includes"),r.exports=t("../../modules/_core").Array.includes}]},object:{"values.js":["../../modules/es7.object.values","../../modules/_core",function(t,e,r){t("../../modules/es7.object.values"),r.exports=t("../../modules/_core").Object.values}],"entries.js":["../../modules/es7.object.entries","../../modules/_core",function(t,e,r){t("../../modules/es7.object.entries"),r.exports=t("../../modules/_core").Object.entries}],"get-own-property-descriptors.js":["../../modules/es7.object.get-own-property-descriptors","../../modules/_core",function(t,e,r){t("../../modules/es7.object.get-own-property-descriptors"),r.exports=t("../../modules/_core").Object.getOwnPropertyDescriptors}]},string:{"pad-start.js":["../../modules/es7.string.pad-start","../../modules/_core",function(t,e,r){t("../../modules/es7.string.pad-start"),r.exports=t("../../modules/_core").String.padStart}],"pad-end.js":["../../modules/es7.string.pad-end","../../modules/_core",function(t,e,r){t("../../modules/es7.string.pad-end"),r.exports=t("../../modules/_core").String.padEnd}],"trim-start.js":["../../modules/es7.string.trim-left","../../modules/_core",function(t,e,r){t("../../modules/es7.string.trim-left"),r.exports=t("../../modules/_core").String.trimLeft}],"trim-end.js":["../../modules/es7.string.trim-right","../../modules/_core",function(t,e,r){t("../../modules/es7.string.trim-right"),r.exports=t("../../modules/_core").String.trimRight}]}}}}}}}},{extensions:[".js",".json"]}),d=l("./node_modules/meteor/ecmascript-runtime/runtime.js");"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ecmascript-runtime"]=d,{Symbol:c,Map:u,Set:a})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,t=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set;"undefined"==typeof Package&&(Package={}),Package["babel-compiler"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package.ecmascript={}}();

!function(){var i=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,e=Package.ejson.EJSON,r;(function(){r=function(i,t){var a=this;a._map={},a._idStringify=i||JSON.stringify,a._idParse=t||JSON.parse},n.extend(r.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var t=this,a=t._idStringify(i);return n.has(t._map,a)},empty:function(){var i=this;return n.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var t=this,a=n.keys(t._map),e=0;e<a.length;e++){var r=i.call(null,t._map[a[e]],t._idParse(a[e]));if(r===!1)return}},size:function(){var i=this;return n.size(i._map)},setDefault:function(i,t){var a=this,e=a._idStringify(i);return n.has(a._map,e)?a._map[e]:(a._map[e]=t,t)},clone:function(){var i=this,t=new r(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,e.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),function(i,t){for(var a in t)a in i||(i[a]=t[a])}(Package["id-map"]={},{IdMap:r})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};i=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var e=n.toArray(arguments);t._stringify=function(t){return t},"function"==typeof e[0]&&(t._stringify=e.shift()),n.each(e,function(e){t.putBefore(e[0],e[1],null)})},n.extend(i.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),null!==e._first&&e._first!==t.next||(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;if(e.has(t))return e._dict[e._k(t)].value},has:function(t){var e=this;return n.has(e._dict,e._k(t))},forEach:function(t){for(var e=this,r=0,n=e._first;null!==n;){var o=t(n.value,n.key,r);if(o===i.BREAK)return;n=n.next,r++}},first:function(){var t=this;if(!t.empty())return t._first.key},firstValue:function(){var t=this;if(!t.empty())return t._first.value},last:function(){var t=this;if(!t.empty())return t._last.key},lastValue:function(){var t=this;if(!t.empty())return t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,r=null;return e.forEach(function(n,o,f){if(e._k(o)===e._k(t))return r=f,i.BREAK}),r},_checkRep:function(){var t=this;n.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),i.BREAK={break:!0}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ordered-dict"]={},{OrderedDict:i})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.Buffer,i=Package.modules.process,a=Package.promise.Promise,c,u=n({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":["meteor-babel-helpers","regenerator-runtime",function(t,e,r){var o=Object.prototype.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator";c=t("meteor-babel-helpers");var f={taggedTemplateLiteralLoose:function(t,e){return t.raw=e,t},classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},inherits:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);if(e){if(Object.create)t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{var r=function(){this.constructor=t};r.prototype=e.prototype,t.prototype=new r}Object.getOwnPropertyNames(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);if(n&&"object"==typeof n){if(Object.getOwnPropertyDescriptor(t,r))return;Object.defineProperty(t,r,n)}})}},createClass:function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=!1;try{Object.defineProperty({},"x",{}),e=!0}catch(t){}return function(r,n,o){if(!e)throw new Error("Your browser does not support this type of class property.  For example, Internet Explorer 8 does not support getters and setters.");return n&&t(r.prototype,n),o&&t(r,o),r}}(),typeof:function(t){return t&&t.constructor===Symbol?"symbol":typeof t},possibleConstructorReturn:function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");var r=typeof e;return e&&"function"===r||"object"===r?e:t},interopRequireDefault:function(t){return t&&t.__esModule?t:{default:t}},interopRequireWildcard:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)o.call(t,r)&&(e[r]=t[r]);return e.default=t,e},interopExportWildcard:function(t,e){var r=e({},t);return delete r.default,r},defaults:function(t,e){return Object.getOwnPropertyNames(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);n&&n.configurable&&"undefined"==typeof t[r]&&Object.defineProperty(t,r,n)}),t},extends:Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)o.call(r,n)&&(t[n]=r[n])}return t},objectWithoutProperties:function(t,e){var r={};t:for(var n in t)if(o.call(t,n)){for(var i=0;i<e.length;i++)if(e[i]===n)continue t;r[n]=t[n]}return r},objectDestructuringEmpty:function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},bind:Function.prototype.bind||function(){var t=function(t){return"function"==typeof t},e=Object,r=Object.prototype.toString,n=Array.prototype.slice,o=Array.prototype.concat,i=Array.prototype.push,a=Math.max,c=function t(){};return function r(u){var f=this;if(!t(f))throw new TypeError("Function.prototype.bind called on incompatible "+f);for(var l=n.call(arguments,1),s,p=function(){if(this instanceof s){var t=f.apply(this,o.call(l,n.call(arguments)));return e(t)===t?t:this}return f.apply(u,o.call(l,n.call(arguments)))},y=a(0,f.length-l.length),h=[],v=0;v<y;v++)i.call(h,"$"+v);return s=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this, arguments); }")(p),f.prototype&&(c.prototype=f.prototype,s.prototype=new c,c.prototype=null),s}}(),toConsumableArray:function(t){if(Array.isArray(t)){for(var e=t.length-1,r=Array(e+1);e>=0;--e)r[e]=t[e];return r}return Array.from(t)},toArray:function(t){return Array.isArray(t)?t:Array.from(t)},slicedToArray:function(t,e){if(Array.isArray(t))return t;if(t){var r=t[u](),n=[],o;for("number"!=typeof e&&(e=1/0);n.length<e&&!(o=r.next()).done;)n.push(o.value);return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},slice:Array.prototype.slice};Object.keys(f).forEach(function(t){var e={};e[t+".js"]=function(e,r,n){n.exports=f[t]},n({node_modules:{"babel-runtime":{helpers:e}}})}),n({node_modules:{"babel-runtime":{"regenerator.js":function(e,r,n){var o=t("regenerator-runtime");if("function"==typeof a&&"function"==typeof a.asyncApply){var i=o.async;o.async=function(){return a.asyncApply(i,o,arguments)}}n.exports=o}}}})}],node_modules:{"meteor-babel-helpers":{"package.json":function(t,e){e.name="meteor-babel-helpers",e.version="0.0.3",e.main="index.js"},"index.js":function(t,e,r){function n(){var t={},e="t";try{Object.defineProperty(t,e,{enumerable:!1,value:t});for(var r in t)if(r===e)return!1}catch(t){return!1}return t[e]===t}function o(t){return t}function i(t){if(Array.isArray(t)){for(var e={},r=Object.keys(t),n=r.length,o=0;o<n;++o){var i=r[o];e[i]=t[i]}return e}return t}c=r.exports={sanitizeForInObject:n()?o:i,_sanitizeForInObjectHard:i}}},"regenerator-runtime":{"package.json":function(t,e,r){e.name="regenerator-runtime",e.version="0.9.5",e.main="runtime-module.js"},"runtime-module.js":["./runtime",function(t,r,n){var o="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,i=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,a=i&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,n.exports=t("./runtime"),i)o.regeneratorRuntime=a;else try{delete o.regeneratorRuntime}catch(t){o.regeneratorRuntime=void 0}}],"runtime.js":function(t,r,n){!function(t){"use strict";function e(t,e,r,n){var i=Object.create((e||o).prototype),a=new v(n||[]);return i._invoke=p(t,r,a),i}function r(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function c(){}function u(){}function f(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){this.arg=t}function s(t){function e(n,o,i,c){var u=r(t[n],t,o);if("throw"!==u.type){var f=u.arg,s=f.value;return s instanceof l?a.resolve(s.arg).then(function(t){e("next",t,i,c)},function(t){e("throw",t,i,c)}):a.resolve(s).then(function(t){f.value=t,i(f)},c)}c(u.arg)}function n(t,r){function n(){return new a(function(n,o){e(t,r,n,o)})}return o=o?o.then(n,n):n()}"object"==typeof i&&i.domain&&(e=i.domain.bind(e));var o;this._invoke=n}function p(t,e,n){var o=L;return function i(a,c){if(o===k)throw new Error("Generator is already running");if(o===A){if("throw"===a)throw c;return m()}for(;;){var u=n.delegate;if(u){if("return"===a||"throw"===a&&u.iterator[a]===g){n.delegate=null;var f=u.iterator.return;if(f){var l=r(f,u.iterator,c);if("throw"===l.type){a="throw",c=l.arg;continue}}if("return"===a)continue}var l=r(u.iterator[a],u.iterator,c);if("throw"===l.type){n.delegate=null,a="throw",c=l.arg;continue}a="next",c=g;var s=l.arg;if(!s.done)return o=P,s;n[u.resultName]=s.value,n.next=u.nextLoc,n.delegate=null}if("next"===a)n.sent=n._sent=c;else if("throw"===a){if(o===L)throw o=A,c;n.dispatchException(c)&&(a="next",c=g)}else"return"===a&&n.abrupt("return",c);o=k;var l=r(t,e,n);if("normal"===l.type){o=n.done?A:P;var s={value:l.arg,done:n.done};if(l.arg!==_)return s;n.delegate&&"next"===a&&(c=g)}else"throw"===l.type&&(o=A,a="throw",c=l.arg)}}}function y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function v(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(y,this),this.reset(!0)}function d(t){if(t){var e=t[j];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(b.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=g,e.done=!0,e};return n.next=n}}return{next:m}}function m(){return{value:g,done:!0}}var b=Object.prototype.hasOwnProperty,g,w="function"==typeof Symbol?Symbol:{},j=w.iterator||"@@iterator",x=w.toStringTag||"@@toStringTag",O="object"==typeof n,E=t.regeneratorRuntime;if(E)return void(O&&(n.exports=E));E=t.regeneratorRuntime=O?n.exports:{},E.wrap=e;var L="suspendedStart",P="suspendedYield",k="executing",A="completed",_={},R=u.prototype=o.prototype;c.prototype=R.constructor=u,u.constructor=c,u[x]=c.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===c||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(R),t},E.awrap=function(t){return new l(t)},f(s.prototype),E.async=function(t,r,n,o){var i=new s(e(t,r,n,o));return E.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},f(R),R[j]=function(){return this},R[x]="Generator",R.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},E.values=d,v.prototype={constructor:v,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return i.type="throw",i.arg=t,r.next=e,!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),c=b.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&b.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?this.next=o.finallyLoc:this.complete(i),_},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),h(r),_}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;h(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:d(t),resultName:e,nextLoc:r},_}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}}}}}}},{extensions:[".js",".json"]});u("./node_modules/meteor/babel-runtime/babel-runtime.js"),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["babel-runtime"]={},{meteorBabelHelpers:c})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,m,p=o({node_modules:{meteor:{random:{"random.js":function(n){function r(){return new d(d.Type.ALEA,{seeds:[new Date,u,c,s,Math.random()]})}if(e.isServer)var t=Npm.require("crypto");var o=function e(){function n(){var e=4022871197,n=function n(r){r=r.toString();for(var t=0;t<r.length;t++){e+=r.charCodeAt(t);var o=.02519603282416938*e;e=o>>>0,o-=e,o*=e,e=o>>>0,o-=e,e+=4294967296*o}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(e){var r=0,t=0,o=0,a=1;0==e.length&&(e=[+new Date]);var i=n();r=i(" "),t=i(" "),o=i(" ");for(var d=0;d<e.length;d++)r-=i(e[d]),r<0&&(r+=1),t-=i(e[d]),t<0&&(t+=1),o-=i(e[d]),o<0&&(o+=1);i=null;var u=function e(){var n=2091639*r+2.3283064365386963e-10*a;return r=t,t=o,o=n-(a=0|n)};return u.uint32=function(){return 4294967296*u()},u.fract53=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.version="Alea 0.9",u.args=e,u}(Array.prototype.slice.call(arguments))},a="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",d=function e(n,r){var t=this;if(t.type=n,!e.Type[n])throw new Error("Unknown random generator type: "+n);if(n===e.Type.ALEA){if(!r.seeds)throw new Error("No seeds were provided for Alea PRNG");t.alea=o.apply(null,r.seeds)}};d.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},d.prototype.fraction=function(){var e=this;if(e.type===d.Type.ALEA)return e.alea();if(e.type===d.Type.NODE_CRYPTO){var n=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*n}if(e.type===d.Type.BROWSER_CRYPTO){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("Unknown random generator type: "+e.type)},d.prototype.hexString=function(e){var n=this;if(n.type===d.Type.NODE_CRYPTO){var r=Math.ceil(e/2),o;try{o=t.randomBytes(r)}catch(e){o=t.pseudoRandomBytes(r)}var a=o.toString("hex");return a.substring(0,e)}return this._randomString(e,"0123456789abcdef")},d.prototype._randomString=function(e,n){for(var r=this,t=[],o=0;o<e;o++)t[o]=r.choice(n);return t.join("")},d.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,a)},d.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},d.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,s="undefined"!=typeof navigator&&navigator.userAgent||"";m=e.isServer?new d(d.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new d(d.Type.BROWSER_CRYPTO):r(),m.createWithSeeds=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];if(0===n.length)throw new Error("No seeds were provided");return new d(d.Type.ALEA,{seeds:n})},m.insecure=r()},"deprecated.js":function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;r<36;r++)n[r]=m.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var t=n.join("");return t}}}}}},{extensions:[".js",".json"]});p("./node_modules/meteor/random/random.js"),p("./node_modules/meteor/random/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package.random={},{Random:m})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.ejson.EJSON,n=Package["id-map"].IdMap,i=Package.random.Random,a;(function(){a={},a._looksLikeObjectID=function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)},a.ObjectID=function(t){var e=this;if(t){if(t=t.toLowerCase(),!a._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");e._str=t}else e._str=i.hexString(24)},a.ObjectID.prototype.toString=function(){var t=this;return'ObjectID("'+t._str+'")'},a.ObjectID.prototype.equals=function(t){var e=this;return t instanceof a.ObjectID&&e.valueOf()===t.valueOf()},a.ObjectID.prototype.clone=function(){var t=this;return new a.ObjectID(t._str)},a.ObjectID.prototype.typeName=function(){return"oid"},a.ObjectID.prototype.getTimestamp=function(){var t=this;return parseInt(t._str.substr(0,8),16)},a.ObjectID.prototype.valueOf=a.ObjectID.prototype.toJSONValue=a.ObjectID.prototype.toHexString=function(){return this._str},o.addType("oid",function(t){return new a.ObjectID(t)}),a.idStringify=function(t){if(t instanceof a.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||a._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},a.idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?JSON.parse(t.substr(1)):a._looksLikeObjectID(t)?new a.ObjectID(t):t}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["mongo-id"]={},{MongoID:a})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,d=Package.meteor.meteorEnv,i=Package.underscore._,a=Package.ejson.EJSON,r;(function(){r={},r.diffQueryChanges=function(e,n,d,i,a){e?r.diffQueryOrderedChanges(n,d,i,a):r.diffQueryUnorderedChanges(n,d,i,a)},r.diffQueryUnorderedChanges=function(e,n,d,o){o=o||{};var f=o.projectionFn||a.clone;if(d.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var t=e.get(o);if(t){if(d.changed&&!a.equals(t,n)){var c=f(n),u=f(t),h=r.makeChangedFields(c,u);i.isEmpty(h)||d.changed(o,h)}}else if(d.added){var l=f(n);delete l._id,d.added(n._id,l)}}),d.removed&&e.forEach(function(e,i){n.has(i)||d.removed(i)})},r.diffQueryOrderedChanges=function(n,d,o,f){f=f||{};var t=f.projectionFn||a.clone,c={};i.each(d,function(n){c[n._id]&&e._debug("Duplicate _id in new_results"),c[n._id]=!0});var u={};i.each(n,function(n,d){n._id in u&&e._debug("Duplicate _id in old_results"),u[n._id]=d});for(var h=[],l=0,s=d.length,g=new Array(s),v=new Array(s),_=function(e){return u[d[e]._id]},m=0;m<s;m++)if(void 0!==u[d[m]._id]){for(var y=l;y>0&&!(_(g[y-1])<_(m));)y--;v[m]=0===y?-1:g[y-1],g[y]=m,y+1>l&&(l=y+1)}for(var k=0===l?-1:g[l-1];k>=0;)h.push(k),k=v[k];h.reverse(),h.push(d.length),i.each(n,function(e){c[e._id]||o.removed&&o.removed(e._id)});var p=0;i.each(h,function(e){for(var a=d[e]?d[e]._id:null,f,c,h,l,s,g=p;g<e;g++)c=d[g],i.has(u,c._id)?(f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h),o.movedBefore&&o.movedBefore(c._id,a)):(h=t(c),delete h._id,o.addedBefore&&o.addedBefore(c._id,h,a),o.added&&o.added(c._id,h));a&&(c=d[e],f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h)),p=e+1})},r.diffObjects=function(e,n,d){i.each(e,function(e,a){i.has(n,a)?d.both&&d.both(a,e,n[a]):d.leftOnly&&d.leftOnly(a,e)}),d.rightOnly&&i.each(n,function(n,a){i.has(e,a)||d.rightOnly(a,n)})},r.makeChangedFields=function(e,n){var d={};return r.diffObjects(n,e,{leftOnly:function(e,n){d[e]=void 0},rightOnly:function(e,n){d[e]=n},both:function(e,n,i){a.equals(n,i)||(d[e]=i)}}),d},r.applyChanges=function(e,n){i.each(n,function(n,d){void 0===n?delete e[d]:e[d]=n})}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var d in n)d in e||(e[d]=n[d])}(Package["diff-sequence"]={},{DiffSequence:r})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,e=Package.modules.meteorInstall,a=Package.modules.Buffer,r=Package.modules.process,i,s=e({node_modules:{meteor:{"geojson-utils":{"main.js":["./geojson-utils.js",function(n,t){t.GeoJSON=n("./geojson-utils.js")}],"geojson-utils.js":function(n,t,o){!function(){function n(n){for(var t=[],o=[],e=0;e<n[0].length;e++)t.push(n[0][e][1]),o.push(n[0][e][0]);return t=t.sort(function(n,t){return n-t}),o=o.sort(function(n,t){return n-t}),[[t[0],o[0]],[t[t.length-1],o[o.length-1]]]}function t(n,t,o){for(var e=[[0,0]],a=0;a<o.length;a++){for(var r=0;r<o[a].length;r++)e.push(o[a][r]);e.push([0,0])}for(var i=!1,a=0,r=e.length-1;a<e.length;r=a++)e[a][0]>t!=e[r][0]>t&&n<(e[r][1]-e[a][1])*(t-e[a][0])/(e[r][0]-e[a][0])+e[a][1]&&(i=!i);return i}var e={};"undefined"!=typeof o&&o.exports&&(o.exports=e),e.lineStringsIntersect=function(n,t){for(var o=[],e=0;e<=n.coordinates.length-2;++e)for(var a=0;a<=t.coordinates.length-2;++a){var r={x:n.coordinates[e][1],y:n.coordinates[e][0]},i={x:n.coordinates[e+1][1],y:n.coordinates[e+1][0]},s={x:t.coordinates[a][1],y:t.coordinates[a][0]},c={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},u=(c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x),h=(i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x),d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=u/d,g=h/d;0<=l&&l<=1&&0<=g&&g<=1&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},e.pointInBoundingBox=function(n,t){return!(n.coordinates[1]<t[0][0]||n.coordinates[1]>t[1][0]||n.coordinates[0]<t[0][1]||n.coordinates[0]>t[1][1])},e.pointInPolygon=function(o,a){for(var r="Polygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=0;s<r.length;s++)e.pointInBoundingBox(o,n(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)t(o.coordinates[1],o.coordinates[0],r[s])&&(c=!0);return c},e.numberToRadius=function(n){return n*Math.PI/180},e.numberToDegree=function(n){return 180*n/Math.PI},e.drawCircle=function(n,t,o){for(var a=[t.coordinates[1],t.coordinates[0]],r=n/1e3/6371,i=[e.numberToRadius(a[0]),e.numberToRadius(a[1])],o=o||15,s=[[a[0],a[1]]],c=0;c<o;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=e.numberToDegree(h),s[c][0]=e.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},e.rectangleCentroid=function(n){var t=n.coordinates[0],o=t[0][0],e=t[0][1],a=t[2][0],r=t[2][1],i=a-o,s=r-e;return{type:"Point",coordinates:[o+i/2,e+s/2]}},e.pointDistance=function(n,t){var o=n.coordinates[0],a=n.coordinates[1],r=t.coordinates[0],i=t.coordinates[1],s=e.numberToRadius(i-a),c=e.numberToRadius(r-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(e.numberToRadius(a))*Math.cos(e.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},e.geometryWithinRadius=function(n,t,o){if("Point"==n.type)return e.pointDistance(n,t)<=o;if("LineString"==n.type||"Polygon"==n.type){var a={},r;r="Polygon"==n.type?n.coordinates[0]:n.coordinates;for(var i in r)if(a.coordinates=r[i],e.pointDistance(a,t)>o)return!1}return!0},e.area=function(n){for(var t=0,o=n.coordinates[0],e=o.length-1,a,r,i=0;i<o.length;e=i++){var a={x:o[i][1],y:o[i][0]},r={x:o[e][1],y:o[e][0]};t+=a.x*r.y,t-=a.y*r.x}return t/=2},e.centroid=function(n){for(var t,o=0,a=0,r=n.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};t=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*t,a+=(s.y+c.y)*t}return t=6*e.area(n),{type:"Point",coordinates:[a/t,o/t]}},e.simplify=function(n,t){t=t||20,n=n.map(function(n){return{lng:n.coordinates[0],lat:n.coordinates[1]}});var o,e,a,r,i,s,c,u,h,d,l,g,f,y,M,x,m,p,P,v=Math.PI/180*.5,b=new Array,T=new Array,j=new Array;if(n.length<3)return n;for(o=n.length,d=360*t/(2*Math.PI*6378137),d*=d,a=0,T[0]=0,j[0]=o-1,e=1;e>0;)if(r=T[e-1],i=j[e-1],e--,i-r>1){for(l=n[i].lng()-n[r].lng(),g=n[i].lat()-n[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(v*(n[i].lat()+n[r].lat())),f=l*l+g*g,s=r+1,c=r,h=-1;s<i;s++)y=n[s].lng()-n[r].lng(),M=n[s].lat()-n[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(v*(n[s].lat()+n[r].lat())),x=y*y+M*M,m=n[s].lng()-n[i].lng(),p=n[s].lat()-n[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(v*(n[s].lat()+n[i].lat())),P=m*m+p*p,u=x>=f+P?P:P>=f+x?x:(y*g-M*l)*(y*g-M*l)/f,u>h&&(c=s,h=u);h<d?(b[a]=r,a++):(e++,T[e-1]=c,j[e-1]=i,e++,T[e-1]=r,j[e-1]=c)}else b[a]=r,a++;b[a]=o-1,a++;for(var I=new Array,s=0;s<a;s++)I.push(n[b[s]]);return I.map(function(n){return{type:"Point",coordinates:[n.lng,n.lat]}})},e.destinationPoint=function(n,t,o){o/=6371,t=e.numberToRadius(t);var a=e.numberToRadius(n.coordinates[0]),r=e.numberToRadius(n.coordinates[1]),i=Math.asin(Math.sin(a)*Math.cos(o)+Math.cos(a)*Math.sin(o)*Math.cos(t)),s=r+Math.atan2(Math.sin(t)*Math.sin(o)*Math.cos(a),Math.cos(o)-Math.sin(a)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[e.numberToDegree(i),e.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]}),c=s("./node_modules/meteor/geojson-utils/main.js");"undefined"==typeof Package&&(Package={}),function(n,t){for(var o in t)o in n||(n[o]=t[o])}(Package["geojson-utils"]=c,{GeoJSON:i})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.ejson.EJSON,i=Package["id-map"].IdMap,a=Package["ordered-dict"].OrderedDict,s=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package["mongo-id"].MongoID,d=Package.random.Random,f=Package["diff-sequence"].DiffSequence,l=Package["geojson-utils"].GeoJSON,h,p,v,_,m,y,g,w,$,b,E,I,C,k,O,S;(function(){h=function(r){var t=this;t.name=r,t._docs=new h._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},p={},v={},_=function(e){var r=new Error(e);return r.name="MinimongoError",r},h.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new h.Cursor(this,e,r)},h.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,n.matcher=new p.Matcher(r),h._selectorIsId(r)?n._selectorId=r:h._selectorIsIdPerhapsAsObject(r)?n._selectorId=r._id:(n._selectorId=void 0,(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new p.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=h._compileProjection(n.fields||{}),n._transform=h.wrapTransform(t.transform),"undefined"!=typeof s&&(n.reactive=void 0===t.reactive||t.reactive)},h.Cursor.prototype.rewind=function(){},h.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},h.Cursor.prototype.forEach=function(e,r){var t=this,o=t._getRawObjects({ordered:!0});t.reactive&&t._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),n.each(o,function(n,o){n=t._projectionFn(n),t._transform&&(n=t._transform(n)),e.call(r,n,o,t)})},h.Cursor.prototype.getTransform=function(){return this._transform},h.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},h.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},h.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},h.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(r,e,t)},h.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},h._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},h._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},h.ObserveHandle=function(){},n.extend(h.Cursor.prototype,{observe:function(e){var r=this;return h._observeFromObserveChanges(r,e)},observeChanges:function(e){var r=this,t=h._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(r.skip||r.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(r.fields&&(0===r.fields._id||r.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={dirty:!1,matcher:r.matcher,sorter:t&&r.sorter,distances:r.matcher.hasGeoQuery()&&t&&new h._IdMap,resultsSnapshot:null,ordered:t,cursor:r,projectionFn:r._projectionFn},a;r.reactive&&(a=r.collection.next_qid++,r.collection.queries[a]=i),i.results=r._getRawObjects({ordered:t,distances:i.distances}),r.collection.paused&&(i.resultsSnapshot=t?[]:new h._IdMap);var c=function(e){return e?function(){var t=this,n=arguments;r.collection.paused||r.collection._observeQueue.queueTask(function(){e.apply(t,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),t&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!r.collection.paused){var u=t?n.bind(n.each,null,i.results):n.bind(i.results.forEach,i.results);u(function(e){var n=o.clone(e);delete n._id,t&&i.addedBefore(e._id,r._projectionFn(n),null),i.added(e._id,r._projectionFn(n))})}var d=new h.ObserveHandle;return n.extend(d,{collection:r.collection,stop:function(){r.reactive&&delete r.collection.queries[a]}}),r.reactive&&s.active&&s.onInvalidate(function(){d.stop()}),r.collection._observeQueue.drain(),d}}),h.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new h._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new h._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!(r.limit&&!r.skip&&!r.sorter&&t.length===r.limit)}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},h.Cursor.prototype._depend=function(e,r){var t=this;if(s.active){var o=new s.Dependency;o.depend();var i=n.bind(o.changed,o),a={_suppress_initial:!0,_allow_unordered:r};n.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(a[r]=i)}),t.observeChanges(a)}},h.prototype.insert=function(r,t){var i=this;r=o.clone(r),n.has(r,"_id")||(r._id=h._useOID?new u.ObjectID:d.id());var a=r._id;if(i._docs.has(a))throw _("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,r);var s=[];for(var c in i.queries){var f=i.queries[c];if(!f.dirty){var l=f.matcher.documentMatches(r);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(c):h._insertInResults(f,r))}}return n.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),t&&e.defer(function(){t(null,a)}),a},h.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=h._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},h.prototype.remove=function(r,t){var i=this;if(i.paused&&!i._savedOriginals&&o.equals(r,{})){var a=i._docs.size();return i._docs.clear(),n.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),t&&e.defer(function(){t(null,a)}),a}var s=new p.Matcher(r),c=[];i._eachPossiblyMatchingDoc(r,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],d=[],f=0;f<c.length;f++){var l=c[f],v=i._docs.get(l);n.each(i.queries,function(e,r){e.dirty||e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):d.push({qid:r,doc:v}))}),i._saveOriginal(l,v),i._docs.remove(l)}return n.each(d,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),h._removeFromResults(r,e.doc))}),n.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,t&&e.defer(function(){t(null,a)}),a},h.prototype.update=function(r,t,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new p.Matcher(r),u={},d=new h._IdMap,f=h._idsMatchedBySelector(r);n.each(s.queries,function(e,r){if((e.cursor.skip||e.cursor.limit)&&!s.paused){if(e.results instanceof h._IdMap)return void(u[r]=e.results.clone());if(!(e.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var t=function(e){if(d.has(e._id))return d.get(e._id);var r;return r=f&&!n.any(f,function(r){return o.equals(r,e._id)})?e:o.clone(e),d.set(e._id,r),r};u[r]=e.results.map(t)}});var l={},v=0;s._eachPossiblyMatchingDoc(r,function(e,r){var n=c.documentMatches(e);return!(n.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,t,l,n.arrayIndices),++v,!i.multi))}),n.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var _;if(0===v&&i.upsert){var m=h._removeDollarOperators(r);h._modify(m,t,{isInsert:!0}),!m._id&&i.insertedId&&(m._id=i.insertedId),_=s.insert(m),v=1}var y;return i._returnObject?(y={numberAffected:v},void 0!==_&&(y.insertedId=_)):y=v,a&&e.defer(function(){a(null,y)}),y},h.prototype.upsert=function(e,r,t,o){var i=this;return o||"function"!=typeof t||(o=t,t={}),i.update(e,r,n.extend({},t,{upsert:!0,_returnObject:!0}),o)},h.prototype._modifyAndNotify=function(e,r,t,n){var i=this,a={};for(var s in i.queries){var c=i.queries[s];c.dirty||(c.ordered?a[s]=c.matcher.documentMatches(e).result:a[s]=c.results.has(e._id))}var u=o.clone(e);h._modify(e,r,{arrayIndices:n});for(s in i.queries)if(c=i.queries[s],!c.dirty){var d=a[s],f=c.matcher.documentMatches(e),l=f.result;l&&c.distances&&void 0!==f.distance&&c.distances.set(e._id,f.distance),c.cursor.skip||c.cursor.limit?(d||l)&&(t[s]=!0):d&&!l?h._removeFromResults(c,e):!d&&l?h._insertInResults(c,e):d&&l&&h._updateInResults(c,e,u)}},h._insertInResults=function(e,r){var t=o.clone(r);if(delete t._id,e.ordered){if(e.sorter){var n=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[n+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},h._removeFromResults=function(e,r){if(e.ordered){var t=h._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},h._updateInResults=function(e,r,t){if(!o.equals(r._id,t._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=f.makeChangedFields(i(r),i(t));if(!e.ordered)return void(n.isEmpty(a)||(e.changed(r._id,a),e.results.set(r._id,r)));var s=h._findInOrderedResults(e,r);if(n.isEmpty(a)||e.changed(r._id,a),e.sorter){e.results.splice(s,1);var c=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(r._id,u)}}},h.prototype._recomputeResults=function(e,r){var t=this;return t.paused?void(e.dirty=!0):(t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),void(t.paused||h._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})))},h._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},h._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},h._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=h._binarySearch(e,r,t);return r.splice(n,0,t),n},h.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new h._IdMap},h.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},h.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,o.clone(r)))},h.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=o.clone(r.results)}}},h.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];t.dirty?(t.dirty=!1,e._recomputeResults(t,t.resultsSnapshot)):h._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}}}).call(this),function(){h.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var r=function(r){if(!n.has(r,"_id"))throw new Error("can only transform documents with _id");var t=r._id,i=s.nonreactive(function(){return e(r)});if(!y(i))throw new Error("transform must return object");if(n.has(i,"_id")){if(!o.equals(i._id,t))throw new Error("transformed document can't have different _id")}else i._id=t;return i};return r.__wrappedTransform__=!0,r}}.call(this),function(){m=function(e){return n.isArray(e)&&!o.isBinary(e)},y=h._isPlainObject=function(e){return e&&3===h._f._type(e)},g=function(e){return m(e)||y(e)},w=function(e,r){if(!y(e))return!1;var t=void 0;return n.each(e,function(n,o){var i="$"===o.substr(0,1);if(void 0===t)t=i;else if(t!==i){if(!r)throw new Error("Inconsistent operator: "+JSON.stringify(e));t=!1}}),!!t},$=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){p.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},n.extend(p.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(h._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:o.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,S;if("boolean"==typeof r||m(r)||o.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=o.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return n.keys(this._paths)}});var e=function(e,t,o){o=o||{};var i=[];return n.each(e,function(e,a){if("$"===a.substr(0,1)){if(!n.has(s,a))throw new Error("Unrecognized logical operator: "+a);t._isSimple=!1,i.push(s[a](e,t,o.inElemMatch))}else{o.inElemMatch||t._recordPathUsed(a);var c=C(a),u=r(e,t,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),j(i)},r=function(e,r,n){return e instanceof RegExp?(r._isSimple=!1,t(b(e))):w(e)?i(e,r,n):t(E(e))},t=function(e,r){return r=r||{},function(t){var o=t;r.dontExpandLeafArrays||(o=k(t,r.dontIncludeLeafArrays));var i={};return i.result=n.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};b=function(e){return function(r){return r instanceof RegExp?n.isEqual(r,e):"string"==typeof r&&(e.lastIndex=0,e.test(r))}},E=function(e){if(w(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return h._f._equal(e,r)}};var i=function(e,r,o){var i=[];return n.each(e,function(a,s){var c=n.contains(["$lt","$lte","$gt","$gte"],s)&&n.isNumber(a),u=n.contains(["$ne","$eq"],s)&&!n.isObject(a),f=n.contains(["$in","$nin"],s)&&n.isArray(a)&&!n.any(a,n.isObject);if(c||f||u||(r._isSimple=!1),n.has(d,s))i.push(d[s](a,e,r,o));else{if(!n.has(I,s))throw new Error("Unrecognized operator: "+s);var l=I[s];i.push(t(l.compileElementSelector(a,e,r),l))}}),P(i)},a=function(r,t,o){if(!m(r)||n.isEmpty(r))throw Error("$and/$or/$nor must be nonempty array");return n.map(r,function(r){if(!y(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,t,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return j(n)},$or:function(e,r,t){var o=a(e,r,t);return 1===o.length?o[0]:function(e){var r=n.any(o,function(r){return r(e).result});return{result:r}}},$nor:function(e,r,t){var o=a(e,r,t);return function(e){var r=n.all(o,function(r){return!r(e).result});return{result:r}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},d={$eq:function(e){return t(E(e))},$not:function(e,t,n){return c(r(e,n))},$ne:function(e){return c(t(E(e)))},$nin:function(e){return c(t(I.$in.compileElementSelector(e)))},$exists:function(e){var r=t(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,r){if(!n.has(r,"$regex"))throw Error("$options needs a $regex");return A},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return A},$all:function(e,t,o){if(!m(e))throw Error("$all requires array");if(n.isEmpty(e))return S;var i=[];return n.each(e,function(e){if(w(e))throw Error("no $ expressions in $all");i.push(r(e,o))}),P(i)},$near:function(e,r,t,o){if(!o)throw Error("$near can't be inside another $ operator");t._hasGeoQuery=!0;var i,a,s;if(y(e)&&n.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?l.pointDistance(a,e):l.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=r.$maxDistance,!m(e)&&!y(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=_(e),s=function(e){return m(e)||y(e)?f(a,e):null}}return function(e){e=k(e);var r={result:!1};return n.each(e,function(e){var t=s(e.value);null===t||t>i||void 0!==r.distance&&r.distance<=t||(r.result=!0,r.distance=t,e.arrayIndices?r.arrayIndices=e.arrayIndices:delete r.arrayIndices)}),r}}},f=function(e,r){e=_(e),r=_(r);var t=e[0]-r[0],o=e[1]-r[1];return n.isNaN(t)||n.isNaN(o)?null:Math.sqrt(t*t+o*o)},_=function(e){return n.map(e,n.identity)},O=function(e){return{compileElementSelector:function(r){if(m(r))return function(){return!1};void 0===r&&(r=null);var t=h._f._type(r);return function(n){return void 0===n&&(n=null),h._f._type(n)===t&&e(h._f._cmp(n,r))}}}};I={$lt:O(function(e){return e<0}),$gt:O(function(e){return e>0}),$lte:O(function(e){return e<=0}),$gte:O(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!m(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!m(e))throw Error("$in needs an array");var r=[];return n.each(e,function(e){if(e instanceof RegExp)r.push(b(e));else{if(w(e))throw Error("cannot nest $ under $in");r.push(E(e))}}),function(e){return void 0===e&&(e=null),n.any(r,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return m(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&h._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return b(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(t,o,i){if(!y(t))throw Error("$elemMatch need an object");var a,c;return w(n.omit(t,n.keys(s)),!0)?(a=r(t,i),c=!1):(a=e(t,i,{inElemMatch:!0}),c=!0),function(e){if(!m(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(c){if(!y(t)&&!m(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(a(n).result)return r}return!1}}}},C=function(e,r){r=r||{};var t=e.split("."),o=t.length?t[0]:"",i=$(o),a=t.length>=2&&$(t[1]),s;t.length>1&&(s=C(t.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,t){if(t||(t=[]),m(e)){if(!(i&&o<e.length))return[];t=t.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:m(e)&&m(u),arrayIndices:t})];if(!g(u))return m(e)?[]:[c({value:void 0,arrayIndices:t})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,t)),!m(u)||a&&r.forSort||n.each(u,function(e,r){y(e)&&f(s(e,t.concat(r)))}),d}},v.makeLookupFunction=C,k=function(e,r){var t=[];return n.each(e,function(e){var o=m(e.value);r&&o&&!e.dontIterate||t.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&n.each(e.value,function(r,n){t.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(n)})})}),t};var S=function(e){return{result:!1}},A=function(e){return{result:!0}},M=function(e){return 0===e.length?A:1===e.length?e[0]:function(r){var t={};return t.result=n.all(e,function(e){var n=e(r);return n.result&&void 0!==n.distance&&void 0===t.distance&&(t.distance=n.distance),n.result&&n.arrayIndices&&(t.arrayIndices=n.arrayIndices),n.result}),t.result||(delete t.distance,delete t.arrayIndices),t}},j=M,P=M;h._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:m(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:o.isBinary(e)?5:e instanceof u.ObjectID?7:3},_equal:function(e,r){return o.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=h._f._type(e),n=h._f._type(r),o=h._f._typeorder(t),i=h._f._typeorder(n);if(o!==i)return o<i?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return e<r?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return h._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=h._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},h._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){p.Sorter=function(r,t){var o=this;t=t||{},o._sortSpecParts=[],o._sortFunction=null;var i=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:C(e,{forSort:!0}),ascending:r})};if(r instanceof Array)for(var a=0;a<r.length;a++)"string"==typeof r[a]?i(r[a],!0):i(r[a][0],"desc"!==r[a][1]);else if("object"==typeof r)n.each(r,function(e,r){i(r,e>=0)});else{if("function"!=typeof r)throw Error("Bad sort specification: "+JSON.stringify(r));o._sortFunction=r}if(!o._sortFunction){if(o.affectedByModifier){var s={};n.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new p.Matcher(s)}o._keyComparator=e(n.map(o._sortSpecParts,function(e,r){return o._keyFieldComparator(r)})),o._keyFilter=null,t.matcher&&o._useWithMatcher(t.matcher)}},n.extend(p.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return n.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){if(r._keyCompatibleWithSelector(e))return null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e))}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,r){var t=this;if(0===t._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(n.each(t._sortSpecParts,function(r,t){var s=k(r.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[t]={},n.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[t][""]=e.value)}c=!0;var r=i(e.arrayIndices);if(n.has(o[t],r))throw Error("duplicate path: "+r);if(o[t][r]=e.value,a&&!n.has(a,r))throw Error("cannot index parallel arrays")}),a){if(!n.has(o[t],"")&&n.size(a)!==n.size(o[t]))throw Error("cannot index parallel arrays!")}else c&&(a={},n.each(o[t],function(e,r){a[r]=!0}))}),!a){var s=n.map(o,function(e){if(!n.has(e,""))throw Error("no value in sole key case?");return e[""]});return void r(s)}n.each(a,function(e,t){var i=n.map(o,function(e){if(n.has(e,""))return e[""];if(!n.has(e,t))throw Error("missing path?");return e[t]});r(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=h._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortFunction?e._sortFunction:e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var r=this;if(r._keyFilter)throw Error("called _useWithMatcher twice?");if(!n.isEmpty(r._sortSpecParts)){var t=e._selector;if(!(t instanceof Function)){var o={};n.each(r._sortSpecParts,function(e,r){o[e.path]=[]}),n.each(t,function(e,r){var t=o[r];if(t){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void t.push(b(e))}return w(e)?void n.each(e,function(r,o){n.contains(["$lt","$lte","$gt","$gte"],o)&&t.push(I[o].compileElementSelector(r)),"$regex"!==o||e.$options||t.push(I.$regex.compileElementSelector(r,e))}):void t.push(E(e))}}),n.isEmpty(o[r._sortSpecParts[0].path])||(r._keyFilter=function(e){return n.all(r._sortSpecParts,function(r,t){return n.all(o[r.path],function(r){return r(e[t])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){h._compileProjection=function(e){h._checkSupportedProjection(e);var r=!!n.isUndefined(e._id)||e._id,t=O(e),i=function(e,r){if(n.isArray(e))return n.map(e,function(e){return i(e,r)});var a=t.including?{}:o.clone(e);return n.each(r,function(r,s){n.has(e,s)&&(n.isObject(r)?n.isObject(e[s])&&(a[s]=i(e[s],r)):t.including?a[s]=o.clone(e[s]):delete a[s])}),a};return function(e){var o=i(e,t.tree);return r&&n.has(e,"_id")&&(o._id=e._id),!r&&n.has(o,"_id")&&delete o._id,o}},O=function(e){var r=n.keys(e).sort();!(r.length>0)||1===r.length&&"_id"===r[0]||n.contains(r,"_id")&&e._id||(r=n.reject(r,function(e){return"_id"===e}));var t=null;n.each(r,function(r){var n=!!e[r];if(null===t&&(t=n),t!==n)throw _("You cannot currently mix including and excluding fields.")});var o=S(r,function(e){return t},function(e,r,t){var n=t,o=r;throw _("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:t}},S=function(e,r,t,o){return o=o||{},n.each(e,function(e){var i=o,a=e.split("."),s=n.all(a.slice(0,-1),function(r,o){if(n.has(i,r)){if(!n.isObject(i[r])&&(i[r]=t(i[r],a.slice(0,o+1).join("."),e),!n.isObject(i[r])))return!1}else i[r]={};return i=i[r],!0});if(s){var c=n.last(a);n.has(i,c)?i[c]=t(i[c],e,e):i[c]=r(e)}}),o},h._checkSupportedProjection=function(e){if(!n.isObject(e)||n.isArray(e))throw _("fields option must be an object");n.each(e,function(e,r){if(n.contains(r.split("."),"$"))throw _("Minimongo doesn't support $ operator in projections yet.");if("object"==typeof e&&n.intersection(["$elemMatch","$meta","$slice"],n.keys(e)).length>0)throw _("Minimongo doesn't support operators in projections yet.");if(n.indexOf([1,0,!0,!1],e)===-1)throw _("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){h._modify=function(i,a,s){if(s=s||{},!y(a))throw _("Modifier must be an object");a=o.clone(a);var c=w(a),u;if(c)u=o.clone(i),n.each(a,function(o,i){var a=t[i];if(s.isInsert&&"$setOnInsert"===i&&(a=t.$set),!a)throw _("Invalid modifier specified "+i);n.each(o,function(t,o){if(""===o)throw _("An empty update path is not valid.");if("_id"===o&&"$setOnInsert"!==i)throw _("Mod on _id not allowed");var c=o.split(".");if(!n.all(c,n.identity))throw _("The update path '"+o+"' contains an empty field name, which is not allowed.");var d=n.has(r,i),f="$rename"===i,l=e(u,c,{noCreate:r[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),h=c.pop();a(l,h,t,o,u)})});else{if(a._id&&!o.equals(i._id,a._id))throw _("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw _("When replacing document, field name may not contain '.'");u=a}n.each(n.keys(i),function(e){"_id"!==e&&delete i[e]}),n.each(u,function(e,r){i[r]=e})};var e=function(e,r,t){t=t||{};for(var n=!1,o=0;o<r.length;o++){var i=o===r.length-1,a=r[o],s=g(e);if(!s){if(t.noCreate)return;var c=_("cannot use the part '"+a+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw _("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw _("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!$(a)){if(t.noCreate)return;throw _("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(i&&(r[o]=a),t.noCreate&&a>=e.length)return;for(;e.length<a;)e.push(null);if(!i)if(e.length===a)e.push({});else if("object"!=typeof e[a])throw _("can't modify field '"+r[o+1]+"' of list value "+JSON.stringify(e[a]))}else{if(a.length&&"$"===a.substr(0,1))throw _("can't set field named "+a);if(!(a in e)){if(t.noCreate)return;i||(e[a]={})}}if(i)return e;e=e[a]}},r={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},t={$inc:function(e,r,t){if("number"!=typeof t)throw _("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,r,t){if(!n.isObject(e)){var o=_("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=_("Cannot set property on null");throw o.setPropertyError=!0,o}e[r]=t},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw _("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(t);var n=t.$each;if(!(n instanceof Array))throw _("$each must be an array");var o=void 0;if("$position"in t){if("number"!=typeof t.$position)throw _("$position must be a numeric value");if(t.$position<0)throw _("$position in $push must be zero or positive");o=t.$position}var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw _("$slice must be a numeric value");if(t.$slice>0)throw _("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw _("$sort requires $slice to be present");a=new p.Sorter(t.$sort).getComparator();for(var s=0;s<n.length;s++)if(3!==h._f._type(n[s]))throw _("$push like modifiers using $sort require all elements to be objects");
}if(void 0===o)for(var c=0;c<n.length;c++)e[r].push(n[c]);else{for(var u=[o,0],c=0;c<n.length;c++)u.push(n[c]);Array.prototype.splice.apply(e[r],u)}a&&e[r].sort(a),void 0!==i&&(0===i?e[r]=[]:e[r]=e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw _("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,r,t){var o=!1;if("object"==typeof t)for(var i in t){"$each"===i&&(o=!0);break}var a=o?t.$each:[t],s=e[r];if(void 0===s)e[r]=a;else{if(!(s instanceof Array))throw _("Cannot apply $addToSet modifier to non-array");n.each(a,function(e){for(var r=0;r<s.length;r++)if(h._f._equal(e,s[r]))return;s.push(e)})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pop modifier to non-array");"number"==typeof t&&t<0?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");var o=[];if(null==t||"object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)h._f._equal(n[i],t)||o.push(n[i]);else for(var a=new p.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(h._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw _("$rename source must differ from target");if(null===r)throw _("$rename source field invalid");if("string"!=typeof n)throw _("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw _("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw _("$bit is not supported")}}}.call(this),function(){h._diffQueryChanges=function(e,r,t,n,o){return f.diffQueryChanges(e,r,t,n,o)},h._diffQueryUnorderedChanges=function(e,r,t,n){return f.diffQueryUnorderedChanges(e,r,t,n)},h._diffQueryOrderedChanges=function(e,r,t,n){return f.diffQueryOrderedChanges(e,r,t,n)},h._diffObjects=function(e,r,t){return f.diffObjects(e,r,t)}}.call(this),function(){h._IdMap=function(){var e=this;i.call(e,u.idStringify,u.idParse)},e._inherits(h._IdMap,i)}.call(this),function(){h._CachingChangeObserver=function(e){var r=this;e=e||{};var t=e.callbacks&&h._observeChangesCallbacksAreOrdered(e.callbacks);if(n.has(e,"ordered")){if(r.ordered=e.ordered,e.callbacks&&e.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");r.ordered=t}var i=e.callbacks||{};r.ordered?(r.docs=new a(u.idStringify),r.applyChange={addedBefore:function(e,t,n){var a=o.clone(t);a._id=e,i.addedBefore&&i.addedBefore.call(r,e,t,n),i.added&&i.added.call(r,e,t),r.docs.putBefore(e,a,n||null)},movedBefore:function(e,t){var n=r.docs.get(e);i.movedBefore&&i.movedBefore.call(r,e,t),r.docs.moveBefore(e,t||null)}}):(r.docs=new h._IdMap,r.applyChange={added:function(e,t){var n=o.clone(t);i.added&&i.added.call(r,e,t),n._id=e,r.docs.set(e,n)}}),r.applyChange.changed=function(e,t){var n=r.docs.get(e);if(!n)throw new Error("Unknown id for changed: "+e);i.changed&&i.changed.call(r,e,o.clone(t)),f.applyChanges(n,t)},r.applyChange.removed=function(e){i.removed&&i.removed.call(r,e),r.docs.remove(e)}},h._observeFromObserveChanges=function(e,r){var t=e.getTransform()||function(e){return e},i=!!r._suppress_initial,a;if(h._observeCallbacksAreOrdered(r)){var s=!r._no_indices;a={addedBefore:function(e,o,a){var c=this;if(!i&&(r.addedAt||r.added)){var u=t(n.extend(o,{_id:e}));if(r.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;r.addedAt(u,d,a)}else r.added(u)}},changed:function(e,n){var i=this;if(r.changedAt||r.changed){var a=o.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=t(o.clone(a));if(f.applyChanges(a,n),a=t(a),r.changedAt){var u=s?i.docs.indexOf(e):-1;r.changedAt(a,c,u)}else r.changed(a,c)}},movedBefore:function(e,n){var i=this;if(r.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?n?i.docs.indexOf(n):i.docs.size():-1;c>a&&--c,r.movedTo(t(o.clone(i.docs.get(e))),a,c,n||null)}},removed:function(e){var n=this;if(r.removedAt||r.removed){var o=t(n.docs.get(e));if(r.removedAt){var i=s?n.docs.indexOf(e):-1;r.removedAt(o,i)}else r.removed(o)}}}}else a={added:function(e,o){if(!i&&r.added){var a=n.extend(o,{_id:e});r.added(t(a))}},changed:function(e,n){var i=this;if(r.changed){var a=i.docs.get(e),s=o.clone(a);f.applyChanges(s,n),r.changed(t(s),t(o.clone(a)))}},removed:function(e){var n=this;r.removed&&r.removed(t(n.docs.get(e)))}};var c=new h._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){h._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof u.ObjectID},h._selectorIsIdPerhapsAsObject=function(e){return h._selectorIsId(e)||e&&"object"==typeof e&&e._id&&h._selectorIsId(e._id)&&1===n.size(e)},h._idsMatchedBySelector=function(e){if(h._selectorIsId(e))return[e];if(!e)return null;if(n.has(e,"_id"))return h._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&n.isArray(e._id.$in)&&!n.isEmpty(e._id.$in)&&n.all(e._id.$in,h._selectorIsId)?e._id.$in:null;if(e.$and&&n.isArray(e.$and))for(var r=0;r<e.$and.length;++r){var t=h._idsMatchedBySelector(e.$and[r]);if(t)return t}return null}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var t in r)t in e||(e[t]=r[t])}(Package.minimongo={},{LocalCollection:h,Minimongo:p,MinimongoTest:v})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,o=Package.underscore._,c=Package.ejson.EJSON,s,u,f=r({node_modules:{meteor:{check:{"match.js":["./isPlainObject.js",function(t,n){var r=new e.EnvironmentVariable,a=t("./isPlainObject.js").isPlainObject,i=n.check=function(e,t){var n=r.getOrNullIfOutsideFiber();n&&n.checking(e);var a=y(e,t);if(a){var i=new s.Error(a.message);throw a.path&&(i.message+=" in field "+a.path,i.path=a.path),i}},s=n.Match={Optional:function(e){return new u(e)},Maybe:function(e){return new f(e)},OneOf:function(){return new l(o.toArray(arguments))},Any:["__any__"],Where:function(e){return new h(e)},ObjectIncluding:function(e){return new p(e)},ObjectWithValues:function(e){return new g(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!y(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,a){var i=new v(n,a),o=r.withValue(i,function(){return e.apply(t,n)});return i.throwUnlessAllArgumentsHaveBeenChecked(),o}},u=function(e){this.pattern=e},f=function(e){this.pattern=e},l=function(e){if(o.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},h=function(e){this.condition=e},p=function(e){this.pattern=e},g=function(e){this.pattern=e},d=function(e,t){if(t=t||{},null===e)return"null";if(t.onlyShowType)return typeof e;if("object"!=typeof e)return c.stringify(e);try{JSON.stringify(e)}catch(t){if("TypeError"===t.name)return typeof e}return c.stringify(e)},m=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],y=function(e,t){if(t===s.Any)return!1;for(var n=0;n<m.length;++n)if(t===m[n][0])return typeof e!==m[n][1]&&{message:"Expected "+m[n][1]+", got "+d(e,{onlyShowType:!0}),path:""};if(null===t)return null!==e&&{message:"Expected null, got "+d(e),path:""};if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return e!==t&&{message:"Expected "+t+", got "+d(e),path:""};if(t===s.Integer)return("number"!=typeof e||(0|e)!==e)&&{message:"Expected Integer, got "+d(e),path:""};if(t===Object&&(t=s.ObjectIncluding({})),t instanceof Array){if(1!==t.length)return{message:"Bad pattern: arrays must have one type element"+d(t),path:""};if(!o.isArray(e)&&!o.isArguments(e))return{message:"Expected array, got "+d(e),path:""};for(var n=0,r=e.length;n<r;n++){var i=y(e[n],t[0]);if(i)return i.path=k(n,i.path),i}return!1}if(t instanceof h){var i;try{i=t.condition(e)}catch(e){if(!(e instanceof s.Error))throw e;return{message:e.message,path:e.path}}return!i&&{message:"Failed Match.Where validation",path:""}}if(t instanceof f?t=s.OneOf(void 0,null,t.pattern):t instanceof u&&(t=s.OneOf(void 0,t.pattern)),t instanceof l){for(var n=0;n<t.choices.length;++n){var i=y(e,t.choices[n]);if(!i)return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return!(e instanceof t)&&{message:"Expected "+(t.name||"particular constructor"),path:""};var c=!1,v;if(t instanceof p&&(c=!0,t=t.pattern),t instanceof g&&(c=!0,v=[t.pattern],t={}),"object"!=typeof t)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof e)return{message:"Expected object, got "+typeof e,path:""};if(null===e)return{message:"Expected object, got null",path:""};if(!a(e))return{message:"Expected plain object",path:""};var b={},w={};o.each(t,function(e,t){e instanceof u||e instanceof f?w[t]=e.pattern:b[t]=e});for(var O=function(e){var t=[];if(o.isObject(e))for(var n in e)t.push(n);return t},j=O(e),n=0,r=j.length;n<r;n++){var E=j[n],P=e[E];if(o.has(b,E)){var i=y(P,b[E]);if(i)return i.path=k(E,i.path),i;delete b[E]}else if(o.has(w,E)){var i=y(P,w[E]);if(i)return i.path=k(E,i.path),i}else{if(!c)return{message:"Unknown key",path:E};if(v){var i=y(P,v[0]);if(i)return i.path=k(E,i.path),i}}}var j=o.keys(b);return j.length?{message:"Missing key '"+j[0]+"'",path:""}:void 0},v=function(e,t){var n=this;n.args=o.clone(e),n.args.reverse(),n.description=t};o.extend(v.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(o.isArray(e)||o.isArguments(e))&&o.each(e,o.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n]||o.isNaN(e)&&o.isNaN(t.args[n]))return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!o.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var b=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],k=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":e.match(/^[a-z_$][0-9a-z_$]*$/i)&&!o.contains(b,e)||(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}],"isPlainObject.js":function(e,t){function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[i.call(e)]||"object":typeof e}function r(e){return null!=e&&e==e.window}var a={},i=a.toString,c=a.hasOwnProperty,s={};o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+e+"]"]=e.toLowerCase()}),t.isPlainObject=function(e){var t;if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(s.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)}}}}}},{extensions:[".js",".json"]}),l=f("./node_modules/meteor/check/match.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.check=l,{check:s,Match:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i=Package.random.Random,a;(function(){a=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(a.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var r=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return r*=i.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var n=this,i=n._timeout(t);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=e.setTimeout(r,i),i}})}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.retry={},{Retry:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.check.check,r=Package.check.Match,i=Package.random.Random,o=Package.ejson.EJSON,c=Package.underscore._,s=Package.tracker.Tracker,l=Package.tracker.Deps,u=Package.retry.Retry,d;(function(){d={}}).call(this),function(){d.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},c.extend(d.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(c.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(c.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._seenPacket||e._heartbeatTimeoutHandle||(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){d.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],d.parseDDP=function(t){try{var a=JSON.parse(t)}catch(a){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(c.has(a,"cleared")&&(c.has(a,"fields")||(a.fields={}),c.each(a.cleared,function(e){a.fields[e]=void 0}),delete a.cleared),c.each(["fields","params","result"],function(e){c.has(a,e)&&(a[e]=o._adjustTypesFromJSONValue(a[e]))}),a)},d.stringifyDDP=function(e){var t=o.clone(e);if(c.has(e,"fields")){var a=[];c.each(e.fields,function(e,n){void 0===e&&(a.push(n),delete t.fields[n])}),c.isEmpty(a)||(t.cleared=a),c.isEmpty(t.fields)&&delete t.fields}if(c.each(["fields","params","result"],function(e){c.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){d.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},c.extend(d.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return i.hexString(20)}d.RandomStream=function(t){var a=this;this.seed=[].concat(t.seed||e()),this.sequences={}},d.RandomStream.get=function(e,t){if(t||(t="default"),!e)return i.insecure;var a=e.randomStream;return a||(e.randomStream=a=new d.RandomStream({seed:e.randomSeed})),a._sequence(t)},d.makeRpcSeed=function(e,t){var a=d.RandomStream.get(e,"/rpc/"+t);return a.hexString(20)},c.extend(d.RandomStream.prototype,{_sequence:function(e){var t=this,a=t.sequences[e]||null;if(null===a){for(var n=t.seed.concat(e),r=0;r<n.length;r++)c.isFunction(n[r])&&(n[r]=n[r]());t.sequences[e]=a=i.createWithSeeds.apply(null,n)}return a}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["ddp-common"]={},{DDPCommon:d})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,n=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,c;(function(){c={};var e="Meteor_Reload",t={},n,r=null;try{r=window.sessionStorage,r?(r.setItem("__dummy__","1"),r.removeItem("__dummy__")):r=null}catch(a){r=null}c._getData=function(){return r&&r.getItem(e)},r&&(n=c._getData(),r.removeItem(e)),n||(n="{}");var i={};try{i=JSON.parse(n),"object"!=typeof i&&(a._debug("Got bad data on reload. Ignoring."),i={})}catch(e){a._debug("Got invalid JSON on reload. Ignoring.")}i.reload&&"object"==typeof i.data&&(t=i.data);var l=[];c._onMigrate=function(a,e){e||(e=a,a=void 0),l.push({name:a,callback:e})},c._migrationData=function(a){return t[a]};var d=function(a,e){a=a||function(){},e=e||{};for(var t={},n=o.clone(l),r=!0;n.length;){var i=n.shift(),c=i.callback(a,e);c[0]||(r=!1),c.length>1&&i.name&&(t[i.name]=c[1])}return r||e.immediateMigration?t:null};c._migrate=function(t,o){var n=d(t,o);if(null===n)return!1;try{var i=JSON.stringify({data:n,reload:!0})}catch(e){throw a._debug("Couldn't serialize data for migration",n),e}if(r)try{r.setItem(e,i)}catch(e){a._debug("Couldn't save data for migration to sessionStorage",e)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},c._withFreshProvidersForTest=function(a){var e=o.clone(l);l=[];try{a()}finally{l=e}};var g=!1;c._reload=function(a){if(a=a||{},!g){g=!0;var e=function(){o.defer(function(){c._migrate(e,a)&&(window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href))})};e()}}}).call(this),function(){a._reload={onMigrate:c._onMigrate,migrationData:c._migrationData,reload:c._reload}}.call(this),"undefined"==typeof Package&&(Package={}),function(a,e){for(var t in e)t in a||(a[t]=e[t])}(Package.reload={},{Reload:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.random.Random,s=Package.ejson.EJSON,a=Package.underscore._,u=Package.tracker.Tracker,c=Package.tracker.Deps,d=Package.retry.Retry,l=Package["id-map"].IdMap,f=Package["ddp-common"].DDPCommon,_=Package["diff-sequence"].DiffSequence,p=Package["mongo-id"].MongoID,h,v,m,g,b,y,w;(function(){h={},v={}}).call(this),function(){m=function(){var e=this;l.call(e,p.idStringify,p.idParse)},e._inherits(m,l)}.call(this),function(){g=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return o!==-1?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;n<e;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){a in t||(t[a]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[\/]+$/,"");var d=t.split("/");return("http:"===d[0]&&/:80$/.test(d[2])||"https:"===d[0]&&/:443$/.test(d[2]))&&(d[2]=d[2].replace(/:(80|443)$/,"")),t=d.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","\t":"\\t","\n":"\\n","\v":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,f=JSON&&JSON.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return c[e]})),'"'+e+'"'},_=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=f(e);return d.lastIndex=0,d.test(t)?(l||(l=_(d)),t.replace(d,function(e){return l[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=p);for(var i=0;i<t.length;i++){var s=t[i];r[s]=e[s]}var a=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&a(e)};return n.websocket!==!1&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var h="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(h in t)){var r={};t[h]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[h](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},m=!1,g=function(){for(var e in v)v[e](),delete v[e]},b=function(){m||(m=!0,g())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,m&&n.delay(g),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(a(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(s))},c=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(e){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),s=n.unload_add(u),{post:d,cleanup:u,loaded:a}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,s,u,c=function(){clearTimeout(i)},d=function(){o&&(c(),n.unload_del(s),u.parentNode.removeChild(u),u=o=null,CollectGarbage())},l=function(e){o&&(d(),r(e))},f=function(e,t){try{u&&u.contentWindow&&u.contentWindow.postMessage(e,t)}catch(e){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[a]=t[a];var _=o.createElement("div");return o.body.appendChild(_),u=o.createElement("iframe"),_.appendChild(u),u.src=e,i=setTimeout(function(){l("timeout")},15e3),s=n.unload_add(d),{post:f,cleanup:d,loaded:c}};var y=function(){};y.prototype=new i(["chunk","finish"]),y.prototype._start=function(e,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(e){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,r,!0)}catch(e){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var a in i.headers)s.xhr.setRequestHeader(a,i.headers[a]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1)}}},s.xhr.send(o)},y.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(e){}t.unload_ref=t.xhr=null}},y.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new y;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new y;var k=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};k.prototype=new i(["chunk","finish"]),k.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(e){s()}},k.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(e){}t.unload_ref=t.xdr=null}},k.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=C.CONNECTING,o._ir=J(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==C.CONNECTING&&i.readyState!==C.OPEN&&i.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===C.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=C.CLOSED,n.delay(function(){i.dispatchEvent(s)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var i=C[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new C[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return(r.readyState===C.CONNECTING||r.readyState===C.OPEN)&&(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var s=n.probeProtocols();i._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=C.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var T=function(t,r,o){var i=this;if(!("_send_form"in i)){var s=i._send_form=e.createElement("form"),a=i._send_area=e.createElement("textarea");a.name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=i._send_form,a=i._send_area,u="a"+n.random_string(8);s.target=u,s.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(t){c=e.createElement("iframe"),c.name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(e){n.log("Your browser is seriously broken. Go home! "+e.message)}s.submit();var d=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=d,c.onreadystatechange=function(e){"complete"==c.readyState&&d()},d},D=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),s,a=function(e){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(e){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))s=e.createElement("script"),s.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(e){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var d=e.getElementsByTagName("head")[0];return d.insertBefore(i,d.firstChild),s&&d.insertBefore(s,d.firstChild),a},x=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(T),r._schedule_recv()};x.prototype=new O,x.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},x.enabled=function(){return!0},x.need_body=!0,x.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),s=e+"?c="+escape(a+"."+i),u=0,c=function(e){switch(u){case 0:delete t[a][i],o(e);break;case 1:o(e),u=2;break;case 2:delete t[a][i]}},d=r(s,c);t[a][i]=d;var l=function(){t[a][i]&&(u=1,t[a][i](n.closeFrame(1e3,"JSONP user aborted read")))};return l},I=function(){};I.prototype=new O,I.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(D(o)),i.poll=new K(e,r,t+n,o)},I.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var P=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XHRCorsObject)};P.prototype=new I,P.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},P.roundTrips=2,P.need_body=!0;var N=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XDRObject)};N.prototype=new I,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var j=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRCorsObject)};j.prototype=new I,j.enabled=P.enabled,j.roundTrips=2;var A=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XDRObject)};A.prototype=new I,A.enabled=N.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(e){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var U,W=function(e,r){parent!==t?parent.postMessage(U+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){W("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){W("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;U=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),s=e.data.slice(9);if(o===U)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],d=a[2],l=a[3];if(u!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+C.version+'".'),!n.flatUrl(d)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,l])+")");r=new F,r._transport=new F[c](r,d,l);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),W("s")};var L=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};L.prototype=new i(["finish"]),L.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var H=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};H.prototype=new i(["finish"]);var X=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};X.prototype=new i(["finish"]);var J=function(e){if(n.isSameOriginUrl(e))return new L(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new L(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new L(e,n.XDRObject):new X;case 3:return new H(e);default:return new X}},V=F["w-iframe-info-receiver"]=function(e,t,r){var o=new L(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};V.prototype.doCleanup=function(){};var q=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};q.prototype=new B,q.enabled=function(){return"EventSource"in t&&B.enabled()},q.need_body=!0,q.roundTrips=3;var G=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};G.prototype=new I;var Q=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};Q.prototype=new B,Q.enabled=function(){return t.XMLHttpRequest&&B.enabled()},Q.need_body=!0,Q.roundTrips=3;var z=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRLocalObject)};z.prototype=new I;var $=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};$.prototype=new B,$.enabled=function(){return B.enabled()},$.need_body=!0,$.roundTrips=3;var Y=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",ne,n.XHRLocalObject)};Y.prototype=new I;var K=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};K.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},K.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var s=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var ee,te=function(){if(void 0===ee)if("ActiveXObject"in t)try{ee=!!new ActiveXObject("htmlfile")}catch(e){}else ee=!1;return ee},ne=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(a+"."+r.id);var i=te()?n.createHtmlfile:n.createIframe,s;t[a][r.id]={start:function(){s.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){s.cleanup(),r.iframe_close=s=null,delete t[a][r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(e,function(e){r.iframe_close({},"permanent")})};ne.prototype=new r,ne.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var re=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),s=i.indexOf("\n");if(s===-1)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return re.prototype=new r,re.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return B},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return g})}.call(this),function(){v.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(v.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new h.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT));
},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new g(b(t.rawUrl),(void 0),n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new h.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(r,o,s){o||(o="http");var a=r.match(/^ddp(i?)\+sockjs:\/\//),u=r.match(/^http(s?):\/\//),c;if(a){var d=r.substr(a[0].length);c="i"===a[1]?o:o+"s";var l=d.indexOf("/"),f=l===-1?d:d.substr(0,l),_=l===-1?"":d.substr(l);return f=f.replace(/\*/g,function(){return Math.floor(10*i.fraction())}),c+"://"+f+_}if(u){c=u[1]?o+"s":o;var p=r.substr(u[0].length);r=c+"://"+p}return r.indexOf("://")!==-1||t(r,"/")||(r=o+"://"+r),r=e._relativeToSiteRootUrl(r),n(r,"/")?r+s:r+"/"+s};b=function(e){return r(e,"http","sockjs")},y=function(e){var t=r(e,"ws","websocket");return t},v.toSockjsUrl=b,a.extend(v.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof u&&new u.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new d,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new h.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),h.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),h.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){v.SUPPORTED_DDP_VERSIONS=f.SUPPORTED_DDP_VERSIONS,h._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){h.randomStream=function(e){var t=h._CurrentInvocation.get();return f.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),r=Npm.require(t.join("fibers","future"));var o=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:{},reloadWithOutstanding:!1,supportedDDPVersions:f.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,"object"==typeof t?r._stream=t:r._stream=new v.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r.__flushBufferedWrites=e.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites={},r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions={},r._userId=null,r._userIdDeps=new u.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=f.parseDDP(t)}catch(t){return void e._debug("Exception while parsing DDP",t)}if(r._heartbeat&&r._heartbeat.messageReceived(),null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"===o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var i="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:i}),n.onDDPVersionNegotiationFailure(i)}else"ping"===o.msg&&n.respondToPings?r._send({msg:"pong",id:o.id}):"pong"===o.msg||(a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o))},i=function(){var t={msg:"connect"};r._lastSessionId&&(t.session=r._lastSessionId),t.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=t.version,t.support=r._supportedDDPVersions,r._send(t),r._outstandingMethodBlocks.length>0&&a.each(r._outstandingMethodBlocks[0].methods,function(t){if(t.sentMessage&&t.noRetry){for(var n=r._outstandingMethodBlocks[0].methods,o,i=0;i<n.length&&(o=n[i],o.methodId!==t.methodId);i++);n.splice(i,1),t.receiveResult(new e.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply."))}}),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(i,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(s,"handling DDP disconnect"))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",s))},c=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t.noRetry=e.noRetry,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(c.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];a.isFunction(o)?r.onReady=n.pop():o&&a.any([o.onReady,o.onError,o.onStop],a.isFunction)&&(r=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&s.equals(t.params,n)}),d;c?(d=c.id,c.inactive=!1,r.onReady&&(c.ready||(c.readyCallback=r.onReady)),r.onError&&(c.errorCallback=r.onError),r.onStop&&(c.stopCallback=r.onStop)):(d=i.id(),t._subscriptions[d]={id:d,name:e,params:s.clone(n),inactive:!1,ready:!1,readyDeps:new u.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:d}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:d,name:e,params:n}));var l={stop:function(){a.has(t._subscriptions,d)&&t._subscriptions[d].stop()},ready:function(){if(!a.has(t._subscriptions,d))return!1;var e=t._subscriptions[d];return e.readyDeps.depend(),e.ready},subscriptionId:d};return u.active&&u.onInvalidate(function(e){a.has(t._subscriptions,d)&&(t._subscriptions[d].inactive=!0),u.afterFlush(function(){a.has(t._subscriptions,d)&&t._subscriptions[d].inactive&&l.stop()})}),l},_subscribeAndWait:function(e,t,n){var o=this,i=new r,s=!1,a;return t=t||[],t.push({onReady:function(){s=!0,i.return()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i.throw(e)}}),a=o.subscribe.apply(o,[e].concat(t)),i.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if("function"!=typeof e)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,i){var u=this;i||"function"!=typeof o||(i=o,o={}),o=o||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=s.clone(n);var d=function(){var e;return function(){return void 0===e&&(e=""+u._nextMethodId++),e}}(),l=h._CurrentInvocation.get(),_=l&&l.isSimulation,p=null,v=function(){return null===p&&(p=f.makeRpcSeed(l,t)),p},m=u._methodHandlers[t];if(m){var g=function(e){u.setUserId(e)},b=new f.MethodInvocation({isSimulation:!0,userId:u.userId(),setUserId:g,randomSeed:function(){return v()}});_||u._saveOriginals();try{var y=h._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return m.apply(b,s.clone(n))}):m.apply(b,s.clone(n))})}catch(e){var w=e}_||u._retrieveAndStoreOriginals(d())}if(_){if(i)return void i(w,y);if(w)throw w;return y}if(w){if(o.throwStubExceptions)throw w;w.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",w,w.stack)}if(!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var S=new r;i=S.resolver()}var k={msg:"method",method:t,params:n,id:d()};null!==p&&(k.randomSeed=p);var C=new c({methodId:d(),callback:i,connection:u,onResultReceived:o.onResultReceived,wait:!!o.wait,message:k,noRetry:!!o.noRetry});return o.wait?u._outstandingMethodBlocks.push({wait:!0,methods:[C]}):((a.isEmpty(u._outstandingMethodBlocks)||a.last(u._outstandingMethodBlocks).wait)&&u._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(u._outstandingMethodBlocks).methods.push(C)),1===u._outstandingMethodBlocks.length&&C.sendMessage(),S?S.wait():o.returnStubValue?y:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new m);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(f.stringifyDDP(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new f.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new h.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var n=a.include(["added","changed","removed"],e.msg);if(0===t._bufferedWritesInterval||!n)return void t._flushBufferedWrites();if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)},_flushBufferedWrites:function(){var e=this;e._bufferedWritesFlushHandle&&(clearTimeout(e._bufferedWritesFlushHandle),e._bufferedWritesFlushHandle=null),e._bufferedWritesFlushAt=null;var t=e._bufferedWrites;e._bufferedWrites={},e._performWrites(t)},_performWrites:function(e){var t=this;!t._resetStores&&a.isEmpty(e)||(a.each(t._stores,function(n,r){n.beginUpdate(a.has(e,r)?e[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(e,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=p.idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||{},o.document._id=r,n._resetStores){var s=n._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),n._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:p.idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._bufferedWrites)||n._flushBufferedWrites(),a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),v.Connection=o,h.connect=function(e,t){var n=new o(e,t);return w.push(n),n},w=[],h._allSubscriptionsReady=function(){return a.all(w,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new d,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=h.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=h.connect}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-client"]={},{DDP:h,LivedataTest:v})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package["ddp-client"].DDP;"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.ddp={},{DDP:n})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["ddp-server"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,i=Package.check.check,c=Package.check.Match,l=Package.ejson.EJSON,s=Package["ddp-client"].DDP,d=Package.modules.meteorInstall,u=Package.modules.Buffer,f=Package.modules.process,h=Package["ecmascript-runtime"].Symbol,_=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,v=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,w,y=d({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){function n(e,n){return e.transform?e.transform(n):n}function r(e,n,r){var t=n;return e.transform&&(t=l.clone(n),null!==r&&(t._id=r),t=e.transform(t)),t}function a(e,n,r){var a=["insert","update","remove","fetch","transform"];if(t.each(t.keys(r),function(e){if(!t.contains(a,e))throw new Error(n+": Invalid key: "+e)}),e._restricted=!0,t.each(["insert","update","remove"],function(t){if(r.hasOwnProperty(t)){if(!(r[t]instanceof Function))throw new Error(n+": Value for `"+t+"` must be a function");void 0===r.transform?r[t].transform=e._transform:r[t].transform=o.wrapTransform(r.transform),e._validators[t][n].push(r[t])}}),r.update||r.remove||r.fetch){if(r.fetch&&!(r.fetch instanceof Array))throw new Error(n+": Value for `fetch` must be an array");e._updateFetch(r.fetch)}}function d(n,r){if(!o._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+r+" documents by ID.")}function u(){var e=s._CurrentInvocation.get();return e&&e.isSimulation}w={CollectionPrototype:{}};var f=w.CollectionPrototype;f.allow=function(e){a(this,"allow",e)},f.deny=function(e){a(this,"deny",e)},f._defineMutationMethods=function(n){var r=this;n=n||{},r._restricted=!1,r._insecure=void 0,r._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},r._name&&(r._prefix="/"+r._name+"/",r._connection&&(r._connection===e.server||e.isClient)&&!function(){var o={};t.each(["insert","update","remove"],function(a){var l=r._prefix+a;if(n.useExisting){var s=e.isClient?"_methodHandlers":"method_handlers";if(r._connection[s]&&"function"==typeof r._connection[s][l])return}o[l]=function(){i(arguments,[c.Any]);var n=t.toArray(arguments);try{var o=null;if("insert"!==a||t.has(n[0],"_id")||(o=r._makeNewID()),this.isSimulation)return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);if("insert"!==a&&d(n[0],a),r._restricted){if(0===r._validators[a].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+a+"'.");var l="_validated"+a.charAt(0).toUpperCase()+a.slice(1);return n.unshift(this.userId),"insert"===a&&n.push(o),r[l].apply(r,n)}if(r._isInsecure())return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);throw new e.Error(403,"Access denied")}catch(n){throw"MongoError"===n.name||"MinimongoError"===n.name?new e.Error(409,n.toString()):n}}}),r._connection.methods(o)}())},f._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=t.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},f._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure},f._validatedInsert=function(n,o,a){var i=this;if(t.any(i._validators.insert.deny,function(e){return e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");if(t.all(i._validators.insert.allow,function(e){return!e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");null!==a&&(o._id=a),i._collection.insert.call(i._collection,o)},f._validatedUpdate=function(r,a,c,l){var s=this;if(i(c,Object),l=t.clone(l)||{},!o._selectorIsIdPerhapsAsObject(a))throw new Error("validated update should be of a single ID");if(l.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var d="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",u=[];if(t.isEmpty(c))throw new e.Error(403,d);t.each(c,function(n,r){if("$"!==r.charAt(0))throw new e.Error(403,d);if(!t.has(h,r))throw new e.Error(403,"Access denied. Operator "+r+" not allowed in a restricted collection.");t.each(t.keys(n),function(e){e.indexOf(".")!==-1&&(e=e.substring(0,e.indexOf("."))),t.contains(u,e)||u.push(e)})});var f={transform:null};s._validators.fetchAllFields||(f.fields={},t.each(s._validators.fetch,function(e){f.fields[e]=1}));var _=s._collection.findOne(a,f);if(!_)return 0;if(t.any(s._validators.update.deny,function(e){var t=n(e,_);return e(r,t,u,c)}))throw new e.Error(403,"Access denied");if(t.all(s._validators.update.allow,function(e){var t=n(e,_);return!e(r,t,u,c)}))throw new e.Error(403,"Access denied");return l._forbidReplace=!0,s._collection.update.call(s._collection,a,c,l)};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};f._validatedRemove=function(r,o){var a=this,i={transform:null};a._validators.fetchAllFields||(i.fields={},t.each(a._validators.fetch,function(e){i.fields[e]=1}));var c=a._collection.findOne(o,i);if(!c)return 0;if(t.any(a._validators.remove.deny,function(e){return e(r,n(e,c))}))throw new e.Error(403,"Access denied");if(t.all(a._validators.remove.allow,function(e){return!e(r,n(e,c))}))throw new e.Error(403,"Access denied");return a._collection.remove.call(a._collection,o)},f._callMutatorMethod=function(){function n(n,r,t){!e.isClient||t||u()||(t=function(){function r(r){r&&e._debug(n+" failed: "+(r.reason||r.stack))}return r}());var o="update"===n||"remove"===n;o&&!u()&&d(r[0],n);var a=this._prefix+n;return this._connection.apply(a,r,{returnStubValue:!0},t)}return n}()}}}}},{extensions:[".js",".json"]});y("./node_modules/meteor/allow-deny/allow-deny.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["allow-deny"]={},{AllowDeny:w})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.underscore._,l=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s=Package["ddp-client"].DDP,u=Package.tracker.Tracker,d=Package.tracker.Deps,f=Package["diff-sequence"].DiffSequence,_=Package["mongo-id"].MongoID,p=Package.check.check,m=Package.check.Match,g=Package.modules.meteorInstall,v=Package.modules.Buffer,h=Package.modules.process,w=Package["ecmascript-runtime"].Symbol,C=Package["ecmascript-runtime"].Map,y=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,O=Package.promise.Promise,b,I,P=g({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(){b=function e(){var n=this;n.noConnCollections={}};var e=function e(n,o){return n in o||(o[n]=new l(n)),o[n]};c.extend(b.prototype,{open:function(){function n(n,o){var t=this;return n?o?(o._mongo_livedata_collections||(o._mongo_livedata_collections={}),e(n,o._mongo_livedata_collections)):e(n,t.noConnCollections):new l}return n}()}),b=new b},"collection.js":function(n,o,i){function a(e){p(e,RegExp);var n={$regex:e.source},o="";return e.ignoreCase&&(o+="i"),e.multiline&&(o+="m"),o&&(n.$options=o),n}function u(e,n){if(e)return n=n||c.identity,function(o,t){e(o,!o&&n(t))}}function d(e){if(e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function))return e.pop()}I={},I.Collection=function(n,o){var t=this;if(!(t instanceof I.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(n||null===n||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),n=null),null!==n&&"string"!=typeof n)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(o&&o.methods&&(o={connection:o}),o&&o.manager&&!o.connection&&(o.connection=o.manager),o=c.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},o),o.idGeneration){case"MONGO":t._makeNewID=function(){var e=n?s.randomStream("/collection/"+n):r.insecure;return new I.ObjectID(e.hexString(24))};break;case"STRING":default:t._makeNewID=function(){var e=n?s.randomStream("/collection/"+n):r.insecure;return e.id()}}if(t._transform=l.wrapTransform(o.transform),n&&null!==o.connection?o.connection?t._connection=o.connection:e.isClient?t._connection=e.connection:t._connection=e.server:t._connection=null,o._driver||(n&&t._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?o._driver=MongoInternals.defaultRemoteCollectionDriver():o._driver=b),t._collection=o._driver.open(n,t._connection),t._name=n,t._driver=o._driver,t._connection&&t._connection.registerStore){var i=t._connection.registerStore(n,{beginUpdate:function(){function e(e,n){(e>1||n)&&t._collection.pauseObservers(),n&&t._collection.remove({})}return e}(),update:function(){function e(e){var n=_.idParse(e.id),o=t._collection.findOne(n);if("replace"===e.msg){var r=e.replace;return void(r?o?t._collection.update(n,r):t._collection.insert(r):o&&t._collection.remove(n))}if("added"===e.msg){if(o)throw new Error("Expected not to find a document already present for an add");t._collection.insert(c.extend({_id:n},e.fields))}else if("removed"===e.msg){if(!o)throw new Error("Expected to find a document already present for removed");t._collection.remove(n)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!o)throw new Error("Expected to find a document to change");if(!c.isEmpty(e.fields)){var i={};c.each(e.fields,function(e,n){void 0===e?(i.$unset||(i.$unset={}),i.$unset[n]=1):(i.$set||(i.$set={}),i.$set[n]=e)}),t._collection.update(n,i)}}}return e}(),endUpdate:function(){function e(){t._collection.resumeObservers()}return e}(),saveOriginals:function(){function e(){t._collection.saveOriginals()}return e}(),retrieveOriginals:function(){function e(){return t._collection.retrieveOriginals()}return e}(),getDoc:function(){function e(e){return t.findOne(e)}return e}(),_getCollection:function(){function e(){return t}return e}()});if(!i){var a='There is already a collection named "'+n+'"';if(o._suppressSameNameError!==!0)throw new Error(a);console.warn?console.warn(a):console.log(a)}}if(o.defineMutationMethods!==!1)try{t._defineMutationMethods({useExisting:o._suppressSameNameError===!0})}catch(e){if(e.message==="A method named '/"+n+"/insert' is already defined")throw new Error('There is already a collection named "'+n+'"');throw e}Package.autopublish&&!o._preventAutopublish&&t._connection&&t._connection.publish&&t._connection.publish(null,function(){return t.find()},{is_auto:!0})},c.extend(I.Collection.prototype,{_getFindSelector:function(){function e(e){return 0==e.length?{}:e[0]}return e}(),_getFindOptions:function(){function e(e){var n=this;return e.length<2?{transform:n._transform}:(p(e[1],m.Optional(m.ObjectIncluding({fields:m.Optional(m.OneOf(Object,void 0)),sort:m.Optional(m.OneOf(Object,Array,Function,void 0)),limit:m.Optional(m.OneOf(Number,void 0)),skip:m.Optional(m.OneOf(Number,void 0))}))),c.extend({transform:n._transform},e[1]))}return e}(),find:function(){function e(){var e=this,n=c.toArray(arguments);return e._collection.find(e._getFindSelector(n),e._getFindOptions(n))}return e}(),findOne:function(){function e(){var e=this,n=c.toArray(arguments);return e._collection.findOne(e._getFindSelector(n),e._getFindOptions(n))}return e}()}),I.Collection._publishCursor=function(e,n,o){var t=e.observeChanges({added:function(){function e(e,t){n.added(o,e,t)}return e}(),changed:function(){function e(e,t){n.changed(o,e,t)}return e}(),removed:function(){function e(e){n.removed(o,e)}return e}()});return n.onStop(function(){t.stop()}),t},I.Collection._rewriteSelector=function(e){if(l._selectorIsId(e)&&(e={_id:e}),c.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:r.id()};var n={};return c.each(e,function(e,o){e instanceof RegExp?n[o]=a(e):e&&e.$regex instanceof RegExp?(n[o]=a(e.$regex),void 0!==e.$options&&(n[o].$options=e.$options)):c.contains(["$or","$and","$nor"],o)?n[o]=c.map(e,function(e){return I.Collection._rewriteSelector(e)}):n[o]=e}),n},I.Collection.prototype.insert=function(){function e(e,n){if(!e)throw new Error("insert requires an argument");if(e=c.extend({},e),"_id"in e){if(!e._id||!("string"==typeof e._id||e._id instanceof I.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var o=!0;if(this._isRemoteCollection()){var t=s._CurrentInvocation.get();t||(o=!1)}o&&(e._id=this._makeNewID())}var r=function(){function n(n){return e._id?e._id:(e._id=n,n)}return n}(),i=u(n,r);if(this._isRemoteCollection()){var l=this._callMutatorMethod("insert",[e],i);return r(l)}try{var a=this._collection.insert(e,i);return r(a)}catch(e){if(n)return n(e),null;throw e}}return e}(),I.Collection.prototype.update=function(){function e(e,n){for(var o=arguments.length,t=Array(o>2?o-2:0),r=2;r<o;r++)t[r-2]=arguments[r];var i=d(t);e=I.Collection._rewriteSelector(e);var l=c.clone(t[0])||{};if(l&&l.upsert)if(l.insertedId){if(!("string"==typeof l.insertedId||l.insertedId instanceof I.ObjectID))throw new Error("insertedId must be string or ObjectID")}else e._id||(l.insertedId=this._makeNewID());var a=u(i);if(this._isRemoteCollection()){var s=[e,n,l];return this._callMutatorMethod("update",s,a)}try{return this._collection.update(e,n,l,a)}catch(e){if(i)return i(e),null;throw e}}return e}(),I.Collection.prototype.remove=function(){function e(e,n){e=I.Collection._rewriteSelector(e);var o=u(n);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],o);try{return this._collection.remove(e,o)}catch(e){if(n)return n(e),null;throw e}}return e}(),I.Collection.prototype._isRemoteCollection=function(){function n(){return this._connection&&this._connection!==e.server}return n}(),I.Collection.prototype.upsert=function(){function e(e,n,o,t){t||"function"!=typeof o||(t=o,o={});var r=c.extend({},o,{_returnObject:!0,upsert:!0});return this.update(e,n,r,t)}return e}(),I.Collection.prototype._ensureIndex=function(e,n){var o=this;if(!o._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");o._collection._ensureIndex(e,n)},I.Collection.prototype._dropIndex=function(e){var n=this;if(!n._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");n._collection._dropIndex(e)},I.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},I.Collection.prototype._createCappedCollection=function(e,n){var o=this;if(!o._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");o._collection._createCappedCollection(e,n)},I.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},I.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},I.ObjectID=_.ObjectID,I.Cursor=l.Cursor,I.Collection.Cursor=I.Cursor,I.Collection.ObjectID=I.ObjectID,e.Collection=I.Collection,c.extend(e.Collection.prototype,t.CollectionPrototype)}}}}},{extensions:[".js",".json"]});P("./node_modules/meteor/mongo/local_collection_driver.js"),P("./node_modules/meteor/mongo/collection.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var o in n)o in e||(e[o]=n[o])}(Package.mongo={},{Mongo:I})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,i=Package.tracker.Tracker,r=Package.tracker.Deps,c=Package.ejson.EJSON,s=Package.modules.meteorInstall,o=Package.modules.Buffer,u=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,f=Package["ecmascript-runtime"].Map,l=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,y,g=s({node_modules:{meteor:{"reactive-dict":{"reactive-dict.js":["babel-runtime/helpers/typeof",function(e,t,n){var r;n.import("babel-runtime/helpers/typeof",{default:function(e){r=e}});var s=function e(t){return void 0===t?"undefined":c.stringify(t)},o=function e(t){if(void 0!==t&&"undefined"!==t)return c.parse(t)},u=function e(t){t&&t.changed()};y=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(e)if("string"==typeof e)y._registerDictForMigrate(e,this),this.keys=y._loadMigratedDict(e)||{},this.name=e;else{if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.allDeps=new i.Dependency,this.keyDeps={},this.keyValueDeps={}}),a.extend(y.prototype,{set:function(){function e(e,t){var n=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void n._setObject(e);var i=e;t=s(t);var c=a.has(n.keys,i),o=c?n.keys[i]:"undefined",d=t!==o;n.keys[i]=t,!d&&c||n.allDeps.changed(),d&&(u(n.keyDeps[i]),n.keyValueDeps[i]&&(u(n.keyValueDeps[i][o]),u(n.keyValueDeps[i][t])))}return e}(),setDefault:function(){function e(e,t){var n=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void n._setDefaultObject(e);var i=e;a.has(n.keys,i)||n.set(i,t)}return e}(),get:function(){function e(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),o(t.keys[e])}return e}(),equals:function(){function e(e,t){var n=this,r=null;if(Package.mongo&&(r=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"undefined"==typeof t||t instanceof Date||r&&t instanceof r||null===t))throw new Error("ReactiveDict.equals: value must be scalar");var u=s(t);if(i.active){n._ensureKey(e),a.has(n.keyValueDeps[e],u)||(n.keyValueDeps[e][u]=new i.Dependency);var d=n.keyValueDeps[e][u].depend();d&&i.onInvalidate(function(){n.keyValueDeps[e][u].hasDependents()||delete n.keyValueDeps[e][u]})}var f=void 0;return a.has(n.keys,e)&&(f=o(n.keys[e])),c.equals(f,t)}return e}(),all:function(){function e(){this.allDeps.depend();var e={};return a.each(this.keys,function(t,n){e[n]=o(t)}),e}return e}(),clear:function(){function e(){var e=this,t=e.keys;e.keys={},e.allDeps.changed(),a.each(t,function(t,n){u(e.keyDeps[n]),e.keyValueDeps[n]&&(u(e.keyValueDeps[n][t]),u(e.keyValueDeps[n].undefined))})}return e}(),delete:function(){function e(e){var t=this,n=!1;if(a.has(t.keys,e)){var i=t.keys[e];delete t.keys[e],u(t.keyDeps[e]),t.keyValueDeps[e]&&(u(t.keyValueDeps[e][i]),u(t.keyValueDeps[e].undefined)),t.allDeps.changed(),n=!0}return n}return e}(),_setObject:function(){function e(e){var t=this;a.each(e,function(e,n){t.set(n,e)})}return e}(),_setDefaultObject:function(){function e(e){var t=this;a.each(e,function(e,n){t.setDefault(n,e)})}return e}(),_ensureKey:function(){function e(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new i.Dependency,t.keyValueDeps[e]={})}return e}(),_getMigrationData:function(){function e(){return this.keys}return e}()})}],"migration.js":function(){if(y._migratedDictData={},y._dictsToMigrate={},y._loadMigratedDict=function(e){return a.has(y._migratedDictData,e)?y._migratedDictData[e]:null},y._registerDictForMigrate=function(e,t){if(a.has(y._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);y._dictsToMigrate[e]=t},e.isClient&&Package.reload){var t=Package.reload.Reload._migrationData("reactive-dict");t&&t.dicts&&(y._migratedDictData=t.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=y._dictsToMigrate,t={};for(var n in k.sanitizeForInObject(e))t[n]=e[n]._getMigrationData();return[!0,{dicts:t}]})}}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/reactive-dict/reactive-dict.js"),g("./node_modules/meteor/reactive-dict/migration.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-dict"]={},{ReactiveDict:y})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv;(function(){e.sleep=function(e){return new Promise(function(t,a){setTimeout(t,e)})},e.sleepUntil=function(t){if("undefined"==typeof t)return Promise.reject("Missing parameter `date`");var a=Date.now(),n=+t,o=Math.max(0,n-a);return e.sleep(o)}}).call(this),"undefined"==typeof Package&&(Package={}),Package["froatsnook:sleep"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package.email={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["artpolikarpov:kadira-server-only"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.underscore._,c,t;(function(){c={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};c._encodeParams=function(n){var a=[];return r.each(n,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},t=function(e,n,a,r){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),r){o=o||"";var u=c._encodeParams(r);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){c._constructUrl=function(e,n,a){var r=/^(.*?)(\?.*)?$/.exec(e);return t(r[1],r[2],n,a)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package.url={},{URL:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.url.URL,o=Package.modules.meteorInstall,c=Package.modules.Buffer,s=Package.modules.process,i=Package["ecmascript-runtime"].Symbol,l=Package["ecmascript-runtime"].Map,p=Package["ecmascript-runtime"].Set,u=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,d,m,h,g=o({node_modules:{meteor:{http:{"httpcall_common.js":function(){function e(e,t){return e.length>t?e.slice(0,t)+"...":e}var t=500;d=function n(a,r){var o="failed ["+a+"]";if(r){var c="string"==typeof r?r:r.toString();o+=" "+e(c.replace(/\n/g," "),t)}return new Error(o)},m=function e(t){var n=(t.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript","application/javascript","application/x-javascript"],n))try{t.data=JSON.parse(t.content)}catch(e){t.data=null}else t.data=null},h={},h.get=function(){return h.call.apply(this,["GET"].concat(a.toArray(arguments)))},h.post=function(){return h.call.apply(this,["POST"].concat(a.toArray(arguments)))},h.put=function(){return h.call.apply(this,["PUT"].concat(a.toArray(arguments)))},h.del=function(){return h.call.apply(this,["DELETE"].concat(a.toArray(arguments)))},h.patch=function(){return h.call.apply(this,["PATCH"].concat(a.toArray(arguments)))}},"httpcall_client.js":function(t,n,o){h.call=function(t,n,o,c){if(c||"function"!=typeof o||(c=o,o=null),o=o||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var s={},i=o.content;o.data&&(i=JSON.stringify(o.data),s["Content-Type"]="application/json");var l,p;if(i||"GET"===t||"HEAD"===t?l=o.params:p=o.params,n=r._constructUrl(n,o.query,l),o.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(a.has(o,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var f,h;if(o.auth){var g=o.auth.indexOf(":");if(g<0)throw new Error('auth option should be of the form "username:password"');f=o.auth.substring(0,g),h=o.auth.substring(g+1)}p&&(i=r._encodeParams(p)),a.extend(s,o.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=a.once(c);try{var y;if("undefined"!=typeof XMLHttpRequest)y=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");y=new ActiveXObject("Microsoft.XMLHttp")}y.open(t,n,!0,f,h);for(var v in u.sanitizeForInObject(s))y.setRequestHeader(v,s[v]);var P=!1,k;if(o.timeout&&(k=e.setTimeout(function(){P=!0,y.abort()},o.timeout)),y.onreadystatechange=function(t){if(4===y.readyState)if(k&&e.clearTimeout(k),P)c(new Error("timeout"));else if(y.status){var n={};n.statusCode=y.status,n.content=y.responseText,n.headers={};var r=y.getAllResponseHeaders();""===r&&y.getResponseHeader("content-type")&&(r="content-type: "+y.getResponseHeader("content-type"));var o=r.split(/\r?\n/);a.each(o,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&3===t.length&&(n.headers[t[1].toLowerCase()]=t[2])}),m(n);var s=null;n.statusCode>=400&&(s=d(n.statusCode,n.content)),c(s,n)}else c(new Error("network"))},o.beforeSend){var w=a.once(o.beforeSend);if(!1===w.call(null,y,o))return y.abort()}y.send(i)}catch(e){c(e)}}},"deprecated.js":function(){e.http=h}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/http/httpcall_common.js"),g("./node_modules/meteor/http/httpcall_client.js"),g("./node_modules/meteor/http/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.http={},{HTTP:h})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["meteor-base"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["blaze-html-templates"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.underscore._,o=Package["reactive-dict"].ReactiveDict,i=Package.ejson.EJSON,t;(function(){t=new o("session")}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.session={},{Session:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,o=Package.modules.process,a,s,l=r({node_modules:{meteor:{jquery:{"main.js":["jquery","./jquery.js",function(e,t){var n=this;try{var r=e("jquery")}catch(t){r=e("./jquery.js")}t.$=t.jQuery=r,n.$=n.$||r,n.jQuery=n.jQuery||r}],"jquery.js":function(e,t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"!==n&&!ie.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n)}catch(e){}ie.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,l=s?ie.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(r||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=Q.pop()||ie.guid++:a),l[u]||(l[u]=s?{}:{toJSON:ie.noop}),"object"!=typeof t&&"function"!=typeof t||(r?l[u]=ie.extend(l[u],t):l[u].data=ie.extend(l[u].data,t)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function f(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!u(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,u(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function d(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function y(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=dt.length;i--;)if(t=dt[i]+n,t in e)return t;return r}function j(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&je(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=je(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;a<s;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n){var r=lt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=rt(e,t,o),(i<0||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,l,u,c,f=this,d={},p=e.style,h=e.nodeType&&je(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ie.css(e,"display"),c="none"===u?ie._data(e,"olddisplay")||E(e.nodeName):u,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||ie.style(e,r)}else u=void 0;if(ie.isEmptyObject(d))"inline"===("none"===u?E(e.nodeName):u)&&(p.display=u);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():f.done(function(){ie(e).hide()}),f.done(function(){var t;ie._removeData(e,"fxshow");for(t in d)ie.style(e,t,d[t])});for(r in d)a=M(h?m[r]:0,r,f),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function P(e,t,n){var r,i,o=0,a=vt.length,s=ie.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),o<1&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o<a;o++)if(r=vt[o].call(u,e,c,u.opts))return r;return ie.map(c,M,u),ie.isFunction(u.opts.start)&&u.opts.start.call(e,u),ie.fx.timer(ie.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return o[s]=!0,ie.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}function z(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Ut.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(e){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Q=[],J=Q.slice,Y=Q.concat,G=Q.push,K=Q.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(u&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(u,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;o<a&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;o<a&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),l=[];if(s)for(;o<a;o++)i=t(e[o],o,r),null!=i&&l.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&l.push(i);return Y.apply([],l)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e))return n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,n,r){var i,o,a,s,l,u,f,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ve.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=f=B,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(f=t.getAttribute("id"))?p=f.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);h=be.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(le,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[B]||(t[B]={}),(s=l[r])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[B]&&(i=y(i)),o&&!o[B]&&(o=y(o,a)),r(function(r,a,s,l){var u,c,f,d=[],p=[],h=a.length,y=r||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:g(y,d,e,s,l),b=n?o||(r?e:h||i)?[]:a:v;if(n&&n(v,b,s,l),i)for(u=g(b,p),i(u,[],s,l),c=u.length;c--;)(f=u[c])&&(b[p[c]]=!(v[p[c]]=f));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(v[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?ee(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];s<i;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;r<i&&!T.relative[e[r].type];r++);return y(s>1&&h(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,s<r&&v(e.slice(s,r)),r<i&&v(e=e.slice(r)),r<i&&d(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,f,d,p=0,h="0",m=r&&[],y=[],v=j,b=r||o&&T.find.TAG("*",u),x=W+=null==v?1:Math.random()||.1,w=b.length;for(u&&(j=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(f=0;d=e[f++];)if(d(c,a,s)){l.push(c);break}u&&(W=x)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(f=0;d=n[f++];)d(m,y,a,s);if(r){if(p>0)for(;h--;)m[h]||y[h]||(y[h]=Y.call(l));y=g(y)}K.apply(l,y),u&&!r&&y.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=x,j=v),m};return i?r(a):a}var x,w,T,C,N,E,k,S,j,A,D,L,H,q,_,M,F,O,P,B="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(D=!0),0},V=1<<31,Q={}.hasOwnProperty,J=[],Y=J.pop,G=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(J=Z.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(e){K={apply:J.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(_)return t.getElementsByClassName(e)},F=[],M=[],(w.qsa=ye.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ye.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ye.test(q.compareDocumentPosition),P=t||ye.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&P(R,e)?-1:t===r||t.ownerDocument===R&&P(R,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===R?-1:u[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&_&&(!F||!F.test(n))&&(!M||!M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Q.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,d,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[B]||(g[B]={}),u=c[e]||[],p=u[0]===W&&u[1],d=u[0]===W&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){c[e]=[W,p,d];break}}else if(v&&(u=(t[B]||(t[B]={}))[e])&&u[0]===W)d=u[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++d||(v&&((f[B]||(f[B]={}))[e]=[W,d]),f!==t)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(le,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=l(x);return f.prototype=T.filters=T.pseudos,
T.setFilters=new f,E=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(le," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,l).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=v(t[n]),o[B]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,f=!r&&E(e=u.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((l=T.find[s])&&(r=l(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(u||k(e,f))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort(U).join("")===B,w.detectDuplicates=!!D,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=ue,ie.expr=ue.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=ue.uniqueSort,ie.text=ue.getText,ie.isXMLDoc=ue.isXML,ie.contains=ue.contains;var ce=ie.expr.match.needsContext,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;t<i;t++)if(ie.contains(r[t],this))return!0}));for(t=0;t<i;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),fe.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ye=/^(?:parents|prev(?:Until|All))/,ve={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ve[e]||(i=ie.unique(i)),ye.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,l=[],u=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=l.length,t=!0;l&&a<i;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(u?u.length&&c(u.shift()):n?l=[]:f.disable())},f={add:function(){if(l){var r=l.length;!function t(n){ie.each(n,function(n,r){var i=ie.type(r);"function"===i?e.unique&&f.has(r)||l.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),t?i=l.length:n&&(s=r,c(n))}return this},remove:function(){return l&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,l,r))>-1;)l.splice(r,1),t&&(r<=i&&i--,r<=a&&a--)}),this},has:function(e){return e?ie.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],i=0,this},disable:function(){return l=u=n=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,n||f.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!l||r&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=J.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?J.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,l,u;if(r>1)for(s=new Array(r),l=new Array(r),u=new Array(r);t<r;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(o.reject).progress(a(t,l,s)):--i;return i||o.resolveWith(u,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(e){}n&&n.doScroll&&!function e(){if(!ie.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(e){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||t!==!0&&e.getAttribute("classid")===t)};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!u(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),l(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?l(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ae=ie.access=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(ie(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},De=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(e){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie._data(e);if(g){for(n.handler&&(l=n,n=l.handler,i=l.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(u=ie.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,u=ie.event.special[p]||{},f=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},l),(d=a[p])||(d=a[p]=[],d.delegateCount=0,u.setup&&u.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),u.add&&(u.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,l,u,c,f,d,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],u=t.length;u--;)if(s=Me.exec(t[u])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(f=ie.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)a=d[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));l&&!d.length&&(f.teardown&&f.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[u],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,l,u,c,f,d=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),u=ie.event.special[p]||{},i||!u.trigger||u.trigger.apply(r,n)!==!1)){if(!i&&!u.noBubble&&!ie.isWindow(r)){for(l=u.delegateType||p,_e.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||he)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?l:u.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(e){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=J.call(arguments),l=(ie._data(this,"events")||{})[e.type]||[],u=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],o=0;o<s;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(l)>=0:ie.find(n,this,null,[l]).length),i[n]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||ie.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return!ie.nodeName(this,"form")&&void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!ie.nodeName(this,"form")&&void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ie.event.trigger(e,t,n,!0)}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Be=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ye=m(he),Ge=Ye.appendChild(he.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,l=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Pe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!l&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,l,u,c,f=e.length,d=m(t),p=[],h=0;h<f;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||d.appendChild(t.createElement("div")),l=(We.exec(o)||["",""])[1].toLowerCase(),c=Je[l]||Je._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Be.test(o)&&p.push(t.createTextNode(Be.exec(o)[0])),!ne.tbody)for(o="table"!==l||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(u=o.childNodes[i],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else p.push(t.createTextNode(o));for(s&&d.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),y),h=0;o=p[h++];)if((!r||ie.inArray(o,r)===-1)&&(a=ie.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,d},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,l=ie.cache,u=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&l[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);l[i]&&(delete l[i],u?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),ie.fn.extend({text:function(e){return Ae(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if("string"==typeof e&&!Ie.test(e)&&(ne.htmlSerialize||!Pe.test(e))&&(ne.leadingWhitespace||!Be.test(e))&&!Je[(We.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Re,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,r,i,o,a,s,l=0,u=this.length,c=this,f=u-1,d=e[0],p=ie.isFunction(d);if(p||u>1&&"string"==typeof d&&!ne.checkClone&&Xe.test(d))return this.each(function(n){var r=c.eq(n);p&&(e[0]=d.call(this,n,r.html())),r.domManip(e,t)});if(u&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l<u;l++)r=s,l!==f&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[l],r,l);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),l=0;l<i;l++)r=o[l],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qe,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;e.getComputedStyle?(nt=function(t){
return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,l;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+ke+")(.*)$","i"),ut=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},ft={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),l=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(l,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];if(o=typeof n,"string"===o&&(i=ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in ft&&(o=ft[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){if(n)return st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r)},set:function(e,n,r){var i=r&&nt(e);return A(e,n,r?D(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){if(t)return ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"])}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=A)}),ie.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;a<i;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),yt=/queueHooks$/,vt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(P,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?vt.unshift(e):vt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=P(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,l=i<0?s:o?i:0;l<s;l++)if(n=r[l],(n.selected||l===i)&&(ne.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){if(ie.isArray(t))return e.checked=ie.inArray(ie(e).val(),t)>=0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return Ae(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){if(!n)return e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""!==t&&t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ae(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ie.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var At=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(be)||[];s<l;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ie.isFunction(e)?this.each(function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==Te&&"boolean"!==n||(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(e){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Pt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:B($t),ajaxTransport:B(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,y,v,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&e<300||304===e,n&&(v=$(f,w,n)),v=z(f,v,w,i),i?(f.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=v.state,c=v.data,y=v.error,i=!y)):(y=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(d,[c,T,w]):h.rejectWith(d,[w,T,y]),w.statusCode(g),g=void 0,l&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,f,i?c:y]),m.fireWith(d,[w,T]),l&&(p.trigger("ajaxComplete",[w,f]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,u,c,f=ie.ajaxSetup({},t),d=f.context||f,p=f.context&&(d.nodeType||d.jquery)?ie(d):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=f.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=ie.trim(f.dataType||"*").toLowerCase().match(be)||[""],null==f.crossDomain&&(r=Wt.exec(f.url.toLowerCase()),f.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ie.param(f.data,f.traditional)),R($t,f,t,w),2===b)return w;l=ie.event&&f.global,l&&0===ie.active++&&ie.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),o=f.url,f.hasContent||(f.data&&(o=f.url+=(Lt.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Ft.test(o)?o.replace(Ft,"$1_="+Dt++):o+(Lt.test(o)?"&":"?")+"_="+Dt++)),f.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+It+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)w.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(f.beforeSend.call(d,w,f)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](f[i]);if(u=R(zt,f,t,w)){w.readyState=1,l&&p.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},f.timeout));try{b=1,u.send(y,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ie.isFunction(e)?this.each(function(t){ie(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Xt=/%20/g,Ut=/\[\]$/,Vt=/\r?\n/g,Qt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Xt,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Jt.test(this.nodeName)&&!Qt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Vt,"\r\n")}}):{name:t.name,value:n.replace(Vt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Yt=0,Gt={},Kt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Gt)Gt[e](void 0,!0)}),ne.cors=!!Kt&&"withCredentials"in Kt,Kt=ne.ajax=!!Kt,Kt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Yt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,l,u;if(t&&(i||4===o.readyState))if(delete Gt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&r(s,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Gt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Zt=[],en=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||ie.expando+"_"+Dt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(en.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(en,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Zt.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=fe.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var tn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&tn)return tn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var nn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=ie.css(e,"position"),f=ie(e),d={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=ie.css(e,"top"),l=ie.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,l])>-1,u?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):f.css(d)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||nn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||nn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return Ae(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){if(n)return n=rt(e,t),
tt.test(n)?ie(e).position()[t]+"px":n})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Ae(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var rn=e.jQuery,on=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=on),t&&e.jQuery===ie&&(e.jQuery=rn),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}}}}},{extensions:[".js",".json"]}),u=l("./node_modules/meteor/jquery/main.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.jquery=u,{$:a,jQuery:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,a=Package.modules.meteorInstall,f=Package.modules.Buffer,o=Package.modules.process,c,l,s=a({node_modules:{meteor:{logging:{"logging.js":["cli-color",function(t){c=function(){return c.info.apply(this,arguments)};var n=0,a=[],f=0;c._intercept=function(e){n+=e},c._suppress=function(e){f+=e},c._intercepted=function(){var e=a;return a=[],n=0,e},c.outputFormat="json";var o={debug:"green",warn:"magenta",error:"red"},l="blue",s=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=s.concat(["app","message"]),d=function(t){var n=c.format(t),r=t.level;"undefined"!=typeof console&&console[r]?console[r](n):e._debug(n)};c._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n=t.split("\n"),r,i=1;i<n.length;++i){if(r=n[i],r.match(/^\s*at eval \(eval/))return{file:"eval"};if(!r.match(/packages\/(?:local-test[:_])?logging(?:\/|\.js)/))break}var a={},f=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(r);return f?(a.line=f[2].split(":")[0],a.file=f[1].split("/").slice(-1)[0].split("?")[0],a):a},r.each(["debug","info","warn","error"],function(t){c[t]=function(o){if(f)return void f--;var l=!1;n&&(n--,l=!0);var u=!r.isObject(o)||r.isRegExp(o)||r.isDate(o)?{message:new String(o).toString()}:o;if(r.each(s,function(e){if(u[e])throw new Error("Can't set '"+e+"' in log message")}),r.has(u,"message")&&!r.isString(u.message))throw new Error("The 'message' field in log objects must be a string");if(u.omitCallerDetails||(u=r.extend(c._getCallerDetails(),u)),u.time=new Date,u.level=t,"debug"!==t)if(l)a.push(i.stringify(u));else if(e.isServer)if("colored-text"===c.outputFormat)console.log(c.format(u,{color:!0}));else{if("json"!==c.outputFormat)throw new Error("Unknown logging output format: "+c.outputFormat);console.log(i.stringify(u))}else d(u)}}),c.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=i.parse(e)}catch(e){}return t&&t.time&&t.time instanceof Date?t:null},c.format=function(n,a){n=i.clone(n),a=a||{};var f=n.time;if(!(f instanceof Date))throw new Error("'time' must be a Date object");var c=n.timeInexact,s=n.level||"info",d=n.file,p=n.line,b=n.app||"",m=n.originApp,h=n.message||"",v=n.program||"",g=n.satellite,x=n.stderr||"";r.each(u,function(e){delete n[e]}),r.isEmpty(n)||(h&&(h+=" "),h+=i.stringify(n));var y=function(e){return e<10?"0"+e:e.toString()},j=function(e){return e<100?"0"+y(e):e.toString()},O=f.getFullYear().toString()+y(f.getMonth()+1)+y(f.getDate()),_=y(f.getHours())+":"+y(f.getMinutes())+":"+y(f.getSeconds())+"."+j(f.getMilliseconds()),w="("+-((new Date).getTimezoneOffset()/60)+")",A="";b&&(A+=b),m&&m!==b&&(A+=" via "+m),A&&(A="["+A+"] ");var N=[];v&&N.push(v),d&&N.push(d),p&&N.push(p);var S=r.isEmpty(N)?"":"("+N.join(":")+") ";g&&(S+=["[",g,"]"].join(""));var P=x?"(STDERR) ":"",z=[s.charAt(0).toUpperCase(),O,"-",_,w,c?"? ":" ",A,S,P].join(""),k=function(n,r){return a.color&&e.isServer&&r?t("cli-color")[r](n):n};return k(z,a.metaColor||l)+k(h,o[s])},c.objFromText=function(e,t){var n={message:e,level:"info",time:new Date,timeInexact:!0};return r.extend(n,t)}}],node_modules:{"cli-color":{"package.json":function(e,t){t.name="cli-color",t.version="0.2.3",t.main="lib"},lib:{"index.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/extend","es5-ext/lib/Object/map","es5-ext/lib/Object/reduce","es5-ext/lib/String/prototype/repeat","memoizee","tty","./_xterm-match",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/extend"),a=e("es5-ext/lib/Object/map"),f=e("es5-ext/lib/Object/reduce"),c=e("es5-ext/lib/String/prototype/repeat"),l=e("memoizee"),s=e("tty"),u=Array.prototype.join,d=Object.defineProperty,p=Object.defineProperties,b=Math.abs,m=Math.floor,h=Math.max,v=Math.min,g,x,y,j,O,_,w,A,N,S,P;g=i({bold:{_bold:[1,22]},italic:{_italic:[3,23]},underline:{_underline:[4,24]},blink:{_blink:[5,25]},inverse:{_inverse:[7,27]},strike:{_strike:[9,29]}},["black","red","green","yellow","blue","magenta","cyan","white"].reduce(function(e,t,n){return e[t]={_fg:[30+n,39]},e[t+"Bright"]={_fg:[90+n,39]},e["bg"+t[0].toUpperCase()+t.slice(1)]={_bg:[40+n,49]},e["bg"+t[0].toUpperCase()+t.slice(1)+"Bright"]={_bg:[100+n,49]},e},{})),P=l(function(e,t){return d(y(),"_cliColorData",r(i({},e._cliColorData,t)))}),x=Object.create(Function.prototype,i(a(g,function(e){return r.gs(function(){return P(this,e)})}),{xterm:r(l(function(e){return e=isNaN(e)?255:v(h(e,0),255),d(y(),"_cliColorData",r(i({},this._cliColorData,{_fg:[O?O[e]:"38;5;"+e,39]})))},{method:"xterm"})),bgXterm:r(l(function(e){return e=isNaN(e)?255:v(h(e,0),255),d(y(),"_cliColorData",r(i({},this._cliColorData,{_bg:[O?O[e]+10:"48;5;"+e,49]})))},{method:"bgXterm"}))})),"win32"===o.platform&&(O=e("./_xterm-match")),y=function(){var e=function(){var t=e._cliColorData,n="";return f(t,function(e,t){return n="["+t[1]+"m"+n,e+"["+t[0]+"m"},"",!0)+u.call(arguments," ")+n};return e.__proto__=x,e},j=function(e){return function(t){return t=isNaN(t)?0:h(m(t),0),t?"["+t+e:""}},n.exports=p(y(),{width:r.gs(o.stdout.getWindowSize?function(){return o.stdout.getWindowSize()[0]}:function(){return s.getWindowSize?s.getWindowSize()[1]:0}),height:r.gs(S=o.stdout.getWindowSize?function(){return o.stdout.getWindowSize()[1]}:function(){return s.getWindowSize?s.getWindowSize()[0]:0}),reset:r.gs(function(){return c.call("\n",S()-1)+"c"}),up:r(_=j("A")),down:r(w=j("B")),right:r(A=j("C")),left:r(N=j("D")),move:r(function(e,t){return e=isNaN(e)?0:m(e),t=isNaN(t)?0:m(t),(e>0?A(e):N(-e))+(t>0?w(t):_(-t))}),moveTo:r(function(e,t){return e=isNaN(e)?1:h(m(e),0)+1,t=isNaN(t)?1:h(m(t),0)+1,"["+t+";"+e+"H"}),bol:r(function(e){var t;return e=isNaN(e)?0:Number(e),t=e>=0?"E":"F",e=m(b(e)),arguments[1]?(e&&"F"!==t?"":"[0EK")+c.call("[1"+t+"[K",e):"["+e+t}),beep:r(""),xtermSupported:r(!O),_cliColorData:r({})})}],"_xterm-match.js":["./_xterm-colors",function(e,t,n){"use strict";var r=Array.prototype.push,i=Array.prototype.reduce,a=Math.abs,f,o,c,l;for(f=e("./_xterm-colors").map(function(e){return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4),16)}}),o=f.slice(0,16),n.exports=c=[],l=0;l<8;)c.push(30+l++);for(l=0;l<8;)c.push(90+l++);r.apply(c,f.slice(16).map(function(e){var t,n=1/0;return o.every(function(r,f){var o=i.call("rgb",function(t,n){return t+=a(r[n]-e[n])},0);return o<n&&(t=f,n=o),o}),c[t]}))}],"_xterm-colors.js":function(e,t,n){"use strict";n.exports=["000000","800000","008000","808000","000080","800080","008080","c0c0c0","808080","ff0000","00ff00","ffff00","0000ff","ff00ff","00ffff","ffffff","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","626262","6c6c6c","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"]}},node_modules:{"es5-ext":{lib:{Object:{"descriptor.js":["./is-callable","./valid-callable","./valid-value","./copy","./map","../String/is-string","../String/prototype/contains",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=e("./copy"),o=e("./map"),c=e("../String/is-string"),l=e("../String/prototype/contains"),s=Function.prototype.bind,u=Object.defineProperty,d;d=n.exports=function(e,t){var n,r,i;return arguments.length<2&&(t=e,e=null),null==e?(n=i=!0,r=!1):(n=l.call(e,"c"),r=l.call(e,"e"),i=l.call(e,"w")),{value:t,configurable:n,enumerable:r,writable:i}},d.gs=function(e,t,n){var a,f;return r(e)?(n=null==t?void 0:i(t),t=e,e=null):(t=null==t?void 0:i(t),n=null==n?void 0:i(n)),null==e?(a=!0,f=!1):(a=l.call(e,"c"),f=l.call(e,"e")),{get:t,set:n,configurable:a,enumerable:f}},d.binder=function e(t,n){var r,l;return c(t)?(r=a(n)&&i(n.value),l=f(n),delete l.writable,delete l.value,l.get=function(){return n.value=s.call(r,this),u(this,t,n),this[t]},l):o(t,function(t,n){return e(n,t)})}}],"is-callable.js":function(e,t,n){"use strict";var r=Array.prototype.forEach.bind([]);n.exports=function(e){var t;if(!e)return!1;if(t=typeof e,"function"===t)return!0;if("object"!==t)return!1;try{return r(e),!0}catch(e){if(e instanceof TypeError)return!1;throw e}}},"valid-callable.js":["./is-callable",function(e,t,n){"use strict";var r=e("./is-callable");n.exports=function(e){if(!r(e))throw new TypeError(e+" is not a function");return e}}],"valid-value.js":function(e,t,n){"use strict";n.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},"copy.js":["./is-plain-object","./for-each","./extend","./valid-value",function(e,t,n){"use strict";var r=e("./is-plain-object"),i=e("./for-each"),a=e("./extend"),f=e("./valid-value"),o;o=function(e,t,n){i(t,function(t,i){var f;r(t)&&((f=n[0].indexOf(t))===-1?(n[0].push(t),n[1].push(e[i]=a({},t)),o(e[i],t,n)):e[i]=n[1][f])},t)},n.exports=function(e){var t;return(t=Object(f(e)))===e&&(t=a({},e),arguments[1]&&o(t,e,[[e],[t]])),t}}],"is-plain-object.js":function(e,t,n){"use strict";var r=Object.getPrototypeOf,i=Object.prototype,a=i.toString,f={}.toString();n.exports=function(e){var t;return!(!e||"object"!=typeof e||a.call(e)!==f)&&(t=r(e),t===i||null===r(t))}},"for-each.js":["./_iterate",function(e,t,n){"use strict";n.exports=e("./_iterate")("forEach")}],"_iterate.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=function(e){return function(t,n){var c,l=arguments[2],s=arguments[3];return t=Object(a(t)),i(n),c=o(t),s&&c.sort(r(s)?s.bind(t):void 0),c[e](function(e,r){return f.call(n,l,t[e],e,t,r)})}}}],"extend.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value"),i=Array.prototype.forEach,a=Array.prototype.slice,f=Object.keys,o;o=function(e){f(Object(e)).forEach(function(t){this[t]=e[t]},this)},n.exports=function(e){return i.call(arguments,r),a.call(arguments,1).forEach(o,e),e}}],"map.js":["./valid-callable","./for-each",function(e,t,n){"use strict";var r=e("./valid-callable"),i=e("./for-each"),a=Function.prototype.call;n.exports=function(e,t){var n={},f=arguments[2];return r(t),i(e,function(e,r,i,o){n[r]=a.call(t,f,e,r,i,o)}),n}}],"reduce.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=t=function e(t,n){var c,l,s,u,d;return a(t)&&i(n),t=Object(t),s=arguments[2],u=arguments[3],c=o(t),u&&c.sort(r(u)?u.bind(t):void 0),l=function(e,r,i){return d?f.call(n,void 0,e,t[r],r,t,i):(d=!0,f.call(n,void 0,t[e],t[r],r,t,i,e))},arguments.length<3||s===e.NO_INITIAL?c.reduce(l):(d=!0,c.reduce(l,s))},t.NO_INITIAL={}}],"is.js":function(e,t,n){"use strict";n.exports=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},"is-empty.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value");n.exports=function(e){var t;r(e);for(t in e)if(e.propertyIsEnumerable(t))return!1;return!0}}]},String:{"is-string.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");n.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},prototype:{"contains.js":function(e,t,n){"use strict";var r=String.prototype.indexOf;n.exports=function(e){return r.call(this,e,arguments[1])>-1}},"repeat.js":["../../Object/valid-value","../../Number/to-uint",function(e,t,n){"use strict";var r=e("../../Object/valid-value"),i=e("../../Number/to-uint");n.exports=function(e){return new Array((isNaN(e)?1:i(e))+1).join(String(r(this)))}}]}},Number:{"to-uint.js":["./to-int",function(e,t,n){"use strict";var r=e("./to-int"),i=Math.max;n.exports=function(e){return i(0,r(e))}}],"to-int.js":["../Math/sign",function(e,t,n){"use strict";var r=e("../Math/sign"),i=Math.abs,a=Math.floor;n.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*a(i(e)):e)}}],"is-nan.js":function(e,t,n){"use strict";n.exports=function(e){return e!==e}},"is-number.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(1);n.exports=function(e){return"number"==typeof e||e instanceof Number||"object"==typeof e&&r.call(e)===i}}},Math:{"sign.js":function(e,t,n){"use strict";n.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}}},Error:{"custom.js":["../Object/descriptor","../Object/extend",function(e,t,n){"use strict";var r=e("../Object/descriptor"),i=e("../Object/extend"),a=Error.captureStackTrace,f;f=n.exports=function e(t,n){var r=arguments[2];null!=r&&i(this,r),this.message=String(t),null!=n&&(this.code=String(n)),a&&a(this,e)},f.prototype=Object.create(Error.prototype,{constructor:r(f),name:r("CustomError")})}]},Array:{prototype:{"e-index-of.js":["../../Number/is-nan","../../Object/is","../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Number/is-nan"),i=e("../../Object/is"),a=e("../../Object/valid-value"),f=Array.prototype.indexOf;n.exports=function(e){var t;if(!r(e)&&0!==e)return f.apply(this,arguments);for(t=arguments[1]>>>0;t<a(this).length>>>0;++t)if(this.hasOwnProperty(t)&&i(e,this[t]))return t;return-1}}],"last.js":["./last-index",function(e,t,n){"use strict";var r=e("./last-index");n.exports=function(){var e;if(null!==(e=r.call(this)))return this[e]}}],"last-index.js":["../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Object/valid-value");n.exports=function(){var e,t;if(!(t=r(this).length>>>0))return null;for(e=t-1;!this.hasOwnProperty(e);)if(--e===-1)return null;return e}}]},"from.js":["../Function/is-arguments",function(e,t,n){"use strict";var r=e("../Function/is-arguments"),i=Array.isArray,a=Array.prototype.slice;n.exports=function(e){return i(e)?e:r(e)?1===e.length?[e[0]]:Array.apply(null,e):a.call(e)}}]},Function:{"is-arguments.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());n.exports=function(e){return r.call(e)===i}}},"global.js":function(e,t,n){"use strict";n.exports=new Function("return this")()}}},memoizee:{"package.json":function(e,t){t.name="memoizee",t.version="0.2.5",t.main="lib"},lib:{"index.js":["./regular","./primitive","./ext/dispose","./ext/resolvers","./ext/async","./ext/ref-counter","./ext/method","./ext/max-age","./ext/max",function(e,t,n){"use strict";var r=e("./regular"),i=e("./primitive"),a=Function.prototype.call;e("./ext/dispose"),e("./ext/resolvers"),e("./ext/async"),e("./ext/ref-counter"),e("./ext/method"),e("./ext/max-age"),e("./ext/max"),n.exports=function(e){var t=Object(arguments[1]);return a.call(t.primitive?i:r,this,e,t)}}],"regular.js":["es5-ext/lib/Error/custom","es5-ext/lib/Array/prototype/e-index-of","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("es5-ext/lib/Array/prototype/e-index-of"),a=e("event-emitter/lib/has-listeners"),f=Function.prototype.apply;n.exports=e("./_base")(function(e,t){var n,o,c,l,s,u,d,p,b,m,h,v=e.cache={},g;0===t?(n=null,l=e.get=function(){return n},s=function(){return n=1},u=function(){n=null},e.clearAll=function(){n=null,v=e.cache={}}):(d=0,1===t?(o=[],c=[],l=e.get=function(e){var t=i.call(o,e[0]);return t===-1?null:c[t]},s=function(e){return o.push(e[0]),c.push(++d),d},u=function(e){var t=i.call(c,e);t!==-1&&(o.splice(t,1),c.splice(t,1))},e.clearAll=function(){o=[],c=[],v=e.cache={}}):t===!1?(n=[],g={},l=e.get=function(e){var t=0,r=n,a,f=e.length;if(0===f)return r[f]||null;if(r=r[f]){for(;t<f-1;){if(a=i.call(r[0],e[t]),a===-1)return null;r=r[1][a],++t}return a=i.call(r[0],e[t]),a===-1?null:r[1][a]||null}return null},s=function(e){var t=0,r=n,a,f=e.length;if(0===f)r[f]=++d;else{for(r[f]||(r[f]=[[],[]]),r=r[f];t<f-1;)a=i.call(r[0],e[t]),a===-1&&(a=r[0].push(e[t])-1,r[1].push([[],[]])),r=r[1][a],++t;a=i.call(r[0],e[t]),a===-1&&(a=r[0].push(e[t])-1),r[1][a]=++d}return g[d]=e,d},u=function(e){var t=0,r=n,a,f=g[e],o=f.length,c=[];if(0===o)delete r[o];else if(r=r[o]){for(;t<o-1;){if(a=i.call(r[0],f[t]),a===-1)return;c.push(r,a),r=r[1][a],++t}if(a=i.call(r[0],f[t]),a===-1)return;for(e=r[1][a],r[0].splice(a,1),r[1].splice(a,1);!r[0].length&&c.length;)a=c.pop(),r=c.pop(),r[0].splice(a,1),r[1].splice(a,1)}delete g[e]},e.clearAll=function(){n=[],v=e.cache={},g={}}):(n=[[],[]],g={},l=e.get=function(e){for(var r=0,a=n,f;r<t-1;){if(f=i.call(a[0],e[r]),f===-1)return null;a=a[1][f],++r}return f=i.call(a[0],e[r]),f===-1?null:a[1][f]||null},s=function(e){for(var r=0,a=n,f;r<t-1;)f=i.call(a[0],e[r]),f===-1&&(f=a[0].push(e[r])-1,a[1].push([[],[]])),a=a[1][f],++r;return f=i.call(a[0],e[r]),f===-1&&(f=a[0].push(e[r])-1),a[1][f]=++d,g[d]=e,d},u=function(e){for(var r=0,a=n,f,o=[],c=g[e];r<t-1;){if(f=i.call(a[0],c[r]),f===-1)return;o.push(a,f),a=a[1][f],++r}if(f=i.call(a[0],c[r]),f!==-1){for(e=a[1][f],a[0].splice(f,1),a[1].splice(f,1);!a[0].length&&o.length;)f=o.pop(),a=o.pop(),a[0].splice(f,1),a[1].splice(f,1);delete g[e]}},e.clearAll=function(){n=[[],[]],v=e.cache={},g={}})),e.memoized=function(){var t=l(arguments),n;if(null!=t)return b&&e.emit("hit",t,arguments,this),v[t];if(n=f.call(p,this,arguments),t=l(arguments),null!=t)throw new r("Circular invocation","CIRCULAR_INVOCATION");return t=s(arguments),v[t]=n,m&&e.emit("init",t),n},e.clear=function(t){v.hasOwnProperty(t)&&(h&&e.emit("purge",t),u(t),delete v[t])},e.once("ready",function(){p=e.fn,b=a(e,"hit"),m=a(e,"init"),h=a(e,"purge")})})}],"_base.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","event-emitter/lib/core",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/valid-callable"),i=e("es5-ext/lib/Object/for-each"),a=e("event-emitter/lib/core"),f;n.exports=t=function(e){return function t(n){var o,c,l,s,u;return r(n),n.memoized?n:(o=Object(arguments[1]),u=a({memoize:t,fn:n}),isNaN(o.length)?(c=n.length,o.async&&f.async&&--c):c=o.length!==!1&&o.length>>>0,e(u,c),i(f,function(e,t){e.force?e(u,o):o[t]&&e(o[t],u,o)}),n=u.fn,l=u.get,s=u.clear,u.memoized.clear=function(){s(l(arguments))},u.memoized.clearAll=function(){u.emit("purgeall"),u.clearAll()},u.memoized.memoized=!0,u.emit("ready"),u.memoized)}},f=t.ext={}}],"primitive.js":["es5-ext/lib/Error/custom","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("event-emitter/lib/has-listeners"),a=function(){return""},f=function(e){return e[0]},o=Function.prototype.apply,c=Function.prototype.call;n.exports=e("./_base")(function(e,t){var n,l=e.cache={},s,u,d,p;n=1===t?e.get=f:t===!1?e.get=function(e){var t="",n,r=e.length;if(r)for(t+=e[n=0];--r;)t+=""+e[++n];else t="";return t}:t?e.get=function(e){for(var n=String(e[0]),r=0,i=t;--i;)n+=""+e[++r];return n}:e.get=a,e.memoized=1===t?function(t){var n;if(l.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),l[t];if(n=1===arguments.length?c.call(s,this,t):o.call(s,this,arguments),l.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return l[t]=n,d&&e.emit("init",t),n}:function(){var t=n(arguments),i;if(l.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),l[t];if(i=o.call(e.fn,this,arguments),l.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return l[t]=i,d&&e.emit("init",t),i},e.clear=function(t){l.hasOwnProperty(t)&&(p&&e.emit("purge",t),delete l[t])},e.clearAll=function(){l=e.cache={}},e.once("ready",function(){s=e.fn,u=i(e,"hit"),d=i(e,"init"),p=i(e,"purge")})})}],ext:{"dispose.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/valid-callable"),n=e("es5-ext/lib/Object/for-each"),r=e("../_base").ext,i=Array.prototype.slice;r.dispose=function(e,a,f){var o,c;t(e),c=f.async&&r.async,a.on("purge"+(c?"async":""),o=c?function(t){var n=a.async[t];delete a.cache[t],e.apply(a.memoized["_memoize:context_"],i.call(n,1))}:function(t){var n=a.cache[t];delete a.cache[t],e.call(a.memoized["_memoize:context_"],n)}),c||a.on("purgeall",function(){n(a.cache,function(e,t){o(t)})})}}],"resolvers.js":["es5-ext/lib/Array/from","es5-ext/lib/Object/for-each","es5-ext/lib/Object/valid-callable","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Object/for-each"),r=e("es5-ext/lib/Object/valid-callable"),i=Array.prototype.slice,a;a=function(e){return this.map(function(t,n){return t?t(e[n]):e[n]}).concat(i.call(e,this.length))},e("../_base").ext.resolvers=function(e,i){var f;f=t(e),f.forEach(function(e){null==e||r(e)}),f=a.bind(f),function(e){i.memoized=function(){var t;return i.memoized.args=arguments,t=e.apply(this,f(arguments)),delete i.memoized.args,t},n(e,function(t,n){i.memoized[n]=function(){return e[n].apply(this,f(arguments))}})}(i.memoized)}}],"async.js":["es5-ext/lib/Array/from","es5-ext/lib/Array/prototype/last","es5-ext/lib/Object/for-each","es5-ext/lib/Object/is-callable","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Array/prototype/last"),r=e("es5-ext/lib/Object/for-each"),i=e("es5-ext/lib/Object/is-callable"),a=e("next-tick"),f=Array.isArray,o=Array.prototype.slice,c=Function.prototype.apply;e("../_base").ext.async=function(e,l){var s,u;s=l.async={},function(e){var u,d,p,b,m,h;l.on("init",function(e){u.id=e,s[e]=d?[d]:[]}),l.on("hit",function(e,t,n){d&&(f(s[e])?s[e].push(d):(a(function(e,r,i,a){s[r]?(l.emit("hitasync",r,t,n),c.call(e,this.context,this)):m.apply(i,a)}.bind(s[e],d,e,p,b)),p=b=null))}),l.fn=function(){var n,r;return n=arguments,r=t(n),r.push(u=function e(t){var n,r,i,f;if(null==e.id)return void a(c.bind(e,this,arguments));for(i=s[e.id],l.cache.hasOwnProperty(e.id)?t?(delete s[e.id],l.clear(e.id)):(arguments.context=this,s[e.id]=arguments,l.emit("initasync",e.id,i.length)):delete s[e.id],n=0;r=i[n];++n)f=c.call(r,this,arguments);return f}),c.call(e,this,r)},m=l.memoized,h=function(e){return d=n.call(e),i(d)?o.call(e,0,-1):(d=null,e)},l.memoized=function(){return m.apply(p=this,b=h(arguments))},r(m,function(e,t){l.memoized[t]=function(){return m[t].apply(this,h(arguments))}})}(l.fn),l.on("purge",u=function(e){f(s[e])||(l.emit("purgeasync",e),delete s[e])}),l.on("purgeall",function(){r(l.async,function(e,t){u(t)})})}}],"ref-counter.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.refCounter=function(e,n,r){var i,a;i={},a=r.async&&t.async,n.on("init"+(a?"async":""),a?function(e,t){i[e]=t}:function(e){i[e]=1}),n.on("hit"+(a?"async":""),function(e){++i[e]}),n.on("purge"+(a?"async":""),function(e){delete i[e]}),a||n.on("purgeall",function(){i={}}),n.memoized.clearRef=function(){var e=n.get(arguments);return i.hasOwnProperty(e)?!--i[e]&&(n.clear(e),!0):null}}}],"method.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/global","es5-ext/lib/Object/extend","es5-ext/lib/String/is-string","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/descriptor"),n=e("es5-ext/lib/global"),r=e("es5-ext/lib/Object/extend"),i=e("es5-ext/lib/String/is-string"),a=Object.create,f=Object.defineProperty;e("../_base").ext.method=function(e,o,c){i(c.method)?e={name:String(c.method),descriptor:{configurable:!0,writable:!0}}:(e=c.method,e.name=String(e.name),e.descriptor=null==e.descriptor?{configurable:!0,writable:!0}:Object(e.descriptor)),c=a(c),c.method=void 0,function(i){o.memoized=function(){var r;return this&&this!==n?(r=e.descriptor.value=o.memoize(o.fn.bind(this),c),f(this,e.name,e.descriptor),f(r,"_memoize:context_",t(this)),r.apply(this,arguments)):i.apply(this,arguments)},r(o.memoized,i)}(o.memoized)}}],"max-age.js":["es5-ext/lib/Number/is-number","es5-ext/lib/Object/for-each","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Number/is-number"),n=e("es5-ext/lib/Object/for-each"),r=e("next-tick"),i=e("../_base").ext,a=Math.max,f=Math.min;i.maxAge=function(e,o,c){var l,s,u,d;e>>>=0,e&&(l={},s=c.async&&i.async,o.on("init"+(s?"async":""),function(t){l[t]=setTimeout(function(){o.clear(t)},e),d&&(d[t]=setTimeout(function(){delete d[t]},u))}),o.on("purge"+(s?"async":""),function(e){clearTimeout(l[e]),d&&d[e]&&(clearTimeout(d[e]),delete d[e]),delete l[e]}),c.preFetch&&(u=t(c.preFetch)?a(f(Number(c.preFetch),1),0):.333,u&&(d={},u=(1-u)*e,o.on("hit"+(s?"async":""),function(e,t,n){d[e]||(d[e]=!0,r(function(){d[e]===!0&&(delete d[e],o.clear(e),o.memoized.apply(n,t))}))}))),s||o.on("purgeall",function(){n(l,function(e){clearTimeout(e)}),l={},d&&(n(d,function(e){clearTimeout(e)}),d={})}))}}],"max.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.max=function(e,n,r){var i,a,f,o,c,l;e>>>=0,e&&(i=-1,a=f=0,o={},c={},l=r.async&&t.async,n.on("init"+(l?"async":""),function(t){o[++i]=t,c[t]=i,++f,f>e&&n.clear(o[a])}),n.on("hit"+(l?"async":""),function(e){var t=c[e];if(o[++i]=e,c[e]=i,delete o[t],a===t)for(;!o.hasOwnProperty(++a);)continue}),n.on("purge"+(l?"async":""),function(e){var t=c[e];if(delete o[t],--f,a===t)if(f)for(;!o.hasOwnProperty(++a);)continue;else i=-1,a=0}),l||n.on("purgeall",function(){i=-1,a=f=0,o={},c={}}))}}]}},node_modules:{"event-emitter":{lib:{"has-listeners.js":["es5-ext/lib/Object/is-empty","es5-ext/lib/Object/valid-value","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/is-empty"),i=e("es5-ext/lib/Object/valid-value"),a=e("./_id");n.exports=function(e){var t;return i(e),t=arguments[1],arguments.length>1?e.hasOwnProperty(a)&&e[a].hasOwnProperty(t):e.hasOwnProperty(a)&&!r(e[a])}}],"_id.js":function(e,t,n){"use strict";n.exports="_ee2_"},"core.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/valid-callable","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/valid-callable"),a=e("./_id"),f=Function.prototype.apply,o=Function.prototype.call,c=Object.create,l=Object.defineProperty,s=Object.defineProperties,u={configurable:!0,enumerable:!1,writable:!0},d,p,b,m,h,v,g,x;h=a+"l_",d=function(e,t){var n;return i(t),this.hasOwnProperty(a)?n=this[a]:(n=u.value={},l(this,a,u),u.value=null),n.hasOwnProperty(e)?n[e].hasOwnProperty(h)?n[e].push(t):(n[e]=[n[e],t])[h]=!0:n[e]=t,this},p=function(e,t){var n,r;return i(t),r=this,d.call(this,e,n=function(){b.call(r,e,n),f.call(t,this,arguments)}),n._listener=t,this},b=function(e,t){var n,r,f,o;if(i(t),!this.hasOwnProperty(a))return this;if(n=this[a],!n.hasOwnProperty(e))return this;if(r=n[e],r.hasOwnProperty(h))for(o=0;f=r[o];++o)f!==t&&f._listener!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r._listener!==t||delete n[e];return this},m=function(e){var t,n,r,i,c,l;if(this.hasOwnProperty(a)&&(t=this[a],t.hasOwnProperty(e)))if(c=t[e],c.hasOwnProperty(h)){for(r=arguments.length,l=new Array(r-1),n=1;n<r;++n)l[n-1]=arguments[n];for(c=c.slice(),n=0;i=c[n];++n)f.call(i,this,l)}else switch(arguments.length){case 1:o.call(c,this);break;case 2:o.call(c,this,arguments[1]);break;case 3:o.call(c,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,l=new Array(r-1),n=1;n<r;++n)l[n-1]=arguments[n];f.call(c,this,l)}},v={on:d,once:p,off:b,emit:m},g={on:r(d),once:r(p),off:r(b),emit:r(m)},x=s({},g),n.exports=t=function(e){return null==e?c(x):s(Object(e),g)},t.methods=v}]}},"next-tick":{"package.json":function(e,t){t.name="next-tick",t.version="0.1.0",t.main="lib/next-tick"},lib:{"next-tick.js":function(e,t,n){"use strict";"undefined"!=typeof o&&o&&"function"==typeof o.nextTick?n.exports=o.nextTick:"function"==typeof setImmediate?n.exports=function(e){setImmediate(e)}:n.exports=function(e){setTimeout(e,0)}}}}}}}}}}}}},{extensions:[".js",".json"]});s("./node_modules/meteor/logging/logging.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.logging={},{Log:c})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,r=Package.meteor.meteorEnv,c=Package.tracker.Tracker,k=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),function(e,a){for(var r in a)r in e||(e[r]=a[r])}(Package.deps={},{Tracker:c,Deps:k})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,i=Package.meteor.meteorEnv,r=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,i){for(var r in i)t.call(i,r)&&(e[r]=i[r]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var i=this,r=function t(){o.Visitor.apply(this,arguments)};return r.prototype=new i,r.extend=i.extend,r.def=i.def,t&&e(r.prototype,t),r},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),i=t,r=0;r<t.length;r++){var n=t[r];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(i===t&&(i=t.slice()),i[r]=o)}return i},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,i=s.call(arguments);i[0]=e;var r=this.visitChildren.apply(this,i),n=t.attrs;i[0]=n;var a=this.visitAttributes.apply(this,i);if(a===n&&r===e)return t;var l=o.getTag(t.tagName).apply(null,r);return l.attrs=a,l},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var i=s.call(arguments),r=t,n=0;n<t.length;n++){var a=t[n];i[0]=a;var l=this.visitAttributes.apply(this,i);l!==a&&(r===t&&(r=t.slice()),r[n]=l)}return r}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var u=t,f=u;if(u){var c=[null,null];c.push.apply(c,arguments);for(var h in u){var p=u[h];c[0]=h,c[1]=p;var m=this.visitAttribute.apply(this,c);m!==p&&(f===u&&(f=e({},u)),f[h]=m)}}return f},visitAttribute:function(t,e,i){var r=s.call(arguments,2);return r[0]=e,this.visit.apply(this,r)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.visit(t[i]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],i=t.tagName,r=t.children,n=t.attrs;if(n){n=o.flattenAttributes(n);for(var a in n)if("value"===a&&"textarea"===i)r=[n[a],r];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}}var l="<"+i+e.join("")+">",u=[],f;if("textarea"===i){for(var c=0;c<r.length;c++)u.push(this.toText(r[c],o.TEXTMODE.RCDATA));f=u.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<r.length;c++)u.push(this.visit(r[c]));f=u.join("")}var h=l+f;return!r.length&&o.isVoidElement(i)||(h+="</"+i+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,i=0,r=arguments.length&&arguments[0];if(r&&"object"==typeof r)if(o.isConstructedObject(r)){if(r instanceof o.Attrs){var n=r.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),i++}}else t.attrs=r,i++;return i<arguments.length&&(t.children=s.call(arguments,i)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var i=o.getSymbolName(e);if(i===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[i]||(o[i]=t(e)),o[i]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var i={yes:!0},r=function(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=i;return e},n=r(o.voidElementNames),a=r(o.knownElementNames),l=r(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===i},o.isKnownSVGElement=function(t){return l[t]===i},o.isVoidElement=function(t){return n[t]===i};for(var u=0;u<o.knownElementNames.length;u++)o.ensureTag(o.knownElementNames[u]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var i={},r=0,n=e?t.length:1;r<n;r++){var a=e?t[r]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var l=a[s];o.isNully(l)||(i[s]=l)}}return i},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var i=new o.ToTextVisitor({textMode:e});return i.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var i in e)i in t||(t[i]=e[i])}(Package.htmljs={},{HTML:o})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.tracker.Tracker,t=Package.tracker.Deps,i=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,v;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)},n=i.idStringify,r=i.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var r=null,i=null,f=[],u=o.autorun(function(){var u=e();o.nonreactive(function(){var e;if(i&&(f=c.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),u)if(u instanceof Array)e=s(f,u,n);else{if(!a(u))throw t();var o=v(f,u,n);e=o[0],i=o[1]}else e=d(f,n);l(f,e,n),r=u,f=e})});return{stop:function(){u.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(a(e))return e.fetch();throw t()}return[]}};var t=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},a=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},l=function(e,o,t){var i=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},v=e.length;c.each(o,function(e,r){f.push({_id:e._id}),d[n(e._id)]=r}),c.each(e,function(e,r){a.push({_id:e._id}),u[n(e._id)]=r,s[n(e._id)]=r}),i(a,f,{addedBefore:function(e,r,i){var a=i?s[n(i)]:v;i&&c.each(s,function(e,n){e>=a&&s[n]++}),v++,s[n(e)]=a,t.addedAt(e,o[d[n(e)]].item,a,i)},movedBefore:function(e,r){if(e!==r){var i=s[n(e)],a=r?s[n(r)]:v;a>i&&a--,c.each(s,function(e,n){i<e&&e<a?s[n]--:a<=e&&e<i&&s[n]++}),s[n(e)]=a,t.movedTo(e,o[d[n(e)]].item,i,a,r)}},removed:function(r){var o=s[n(r)];c.each(s,function(e,n){e>=o&&s[n]--}),delete s[n(r)],v--,t.removedAt(r,e[u[n(r)]].item,o)}}),c.each(d,function(n,i){var a=r(i);if(c.has(u,i)){var f=o[n].item,d=e[u[i]].item;"object"!=typeof f&&f===d||t.changedAt(a,f,d,n)}})};d=function(e,n){return[]},s=function(r,o,t){var i={},a=c.map(o,function(r,t){var a;if("string"==typeof r)a="-"+r;else if("number"==typeof r||"boolean"==typeof r||void 0===r)a=r;else{if("object"!=typeof r)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof r);a=r&&"_id"in r?r._id:t}var c=n(a);return i[c]?("object"==typeof r&&"_id"in r&&e("duplicate id "+a+" in",o),a=f.id()):i[c]=!0,{_id:a,item:r}});return a},v=function(e,n,r){var o=!0,t=[],i=n.observe({addedAt:function(e,n,i){if(o){if(null!==i)throw new Error("Expected initial data from observe in order");t.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,i)},changedAt:function(e,n,o){r.changedAt(e._id,e,n,o)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,o,t){r.movedTo(e._id,e,n,o,t)}});return o=!1,[t,i]}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["observe-sequence"]={},{ObserveSequence:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.jquery.$,i=Package.jquery.jQuery,a=Package.tracker.Tracker,o=Package.tracker.Deps,s=Package.check.check,l=Package.check.Match,c=Package.underscore._,u=Package.htmljs.HTML,d=Package["observe-sequence"].ObserveSequence,p=Package["reactive-var"].ReactiveVar,f,h,m,w,v,_;(function(){f={},f._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),f._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)}}).call(this),function(){var e={};f._DOMBackend=e;var t="undefined"!=typeof i?i:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,i){t(e).on(n,r,i)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,i,a){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(i))&&a.call(n,e)};a._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var n=function(){},r=function(e){this.next=this,this.prev=this,this.func=e};r.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},r.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},r.prototype.go=function(){var e=this.func;e&&e()},r.prototype.stop=r.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(i,a){var o=new r(a),s=e.Teardown._CB_PROP;return i[s]||(i[s]=new r,t(i).on(e.Teardown._JQUERY_EVENT_NAME,n)),o.linkBefore(i[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),i=0;i<r.length;i++)n.push(r[i]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];f._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var i=0;i<r.length;i++)this._memberIn(r[i]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=f._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(t){e=!0}return e}(),t._insert=function(e,n,r,i){var a=e;a instanceof t?a.attach(n,r,i):i?t._moveNodeWithHooks(a,n,r):t._insertNodeWithHooks(a,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,i){if((r||i)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var a=this.members;if(a.length){this.emptyRangePlaceholder=null;for(var o=0;o<a.length;o++)t._insert(a[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!i)for(var o=0;o<this.attachedCallbacks.length;o++){var l=this.attachedCallbacks[o];l.attached&&l.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var i=this.lastNode().nextSibling,a=this.parentElement;this.detach(!0),this.members=t,this.attach(a,i,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var i=0;i<r.length;i++)t._remove(r[i]);else{var a=this.emptyRangePlaceholder;this.parentElement.removeChild(a),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var i=0;i<this.attachedCallbacks.length;i++){var o=this.attachedCallbacks[i];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var i=this.members;if(!(n>=0&&n<=i.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===i.length)this.setMembers([e]);else{var a;if(n===i.length)a=this.lastNode().nextSibling;else{var o=i[n];a=o instanceof t?o.firstNode():o}i.splice(n,0,e),t._insert(e,this.parentElement,a,r)}else i.splice(n,0,e)},t.prototype.removeMember=function(n,r){var i=this.members;if(!(n>=0&&n<i.length))throw new Error("Bad index in range.removeMember: "+n);if(r)i.splice(n,1);else{var a=i[n];this._memberOut(a),1===i.length?this.setMembers(e):(i.splice(n,1),this.attached&&t._remove(a))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&f._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(f._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!f._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=f._DOMBackend.findBySelector(e,n),i=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(i);else{for(var a=[],o=0;o<r.length;o++){var s=r[o];i(s)&&a.push(s)}r=a}return r},f._elementContains=function(e,t){return 1===e.nodeType&&(e!==t&&(e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,!(!t||1!==t.nodeType)&&(e===t||e.contains(t)))))}}.call(this),function(){var e=f._EventSupport={},t=f._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},i=1,a=function(e,a,o,s,l){this.elem=e,this.type=a,this.selector=o,this.handler=s,this.recipient=l,this.id=i++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){if(e.selector||t.currentTarget===t.target)return e.handler.apply(e.recipient,arguments)}}(this);var u=e.addEventListener&&!c.has(n,t.Events.parseEventType(a));u?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=a,a.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},a.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,i,o){try{e=e}finally{}var s=[];t.replace(/[^ \/]+/g,function(e){s.push(e)});for(var l=[],c=0,u=s.length;c<u;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new a(e,d,n,r,i);if(l.push(m),m.bind(),h.push(m),o)for(var w=o(i);w;w=o(w))for(var v=0,_=h.length;v<_;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var r=l[n],i=t[r.type];if(i)for(var a=i.handlers,o=a.length-1;o>=0;o--)a[o]===r&&(r.unbind(),a.splice(o,1))}l.length=0}}}}}.call(this),function(){var t=!1;f._allowJavascriptUrls=function(){t=!0},f._javascriptUrlsAllowed=function(){return t},h=function(e,t){this.name=e,this.value=t},f._AttributeHandler=h,h.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},h.extend=function(e){var t=this,n=function e(){h.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&c.extend(n.prototype,e),n};var n=h.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},i=n?this.parseValue(n):{},a=this.getCurrentValue(e),o=a?this.parseValue(a):{};c.each(c.keys(r),function(e){e in i||delete o[e]}),c.each(c.keys(i),function(e){o[e]=i[e]}),this.setValue(e,c.values(o).join(" "))}}),i=n.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return c.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),a=i.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),o=n.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,i=n.exec(e);i;)t[" "+i[1]]=i[0].trim?i[0].trim():r.trim(i[0]),i=n.exec(e);return t}}),s=h.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=h.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),u=h.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),d=function(e){return"ownerSVGElement"in e},p=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return c.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=h.prototype.update,y=h.extend({update:function(e,t,n){var r=this,i=arguments;if(f._javascriptUrlsAllowed())g.apply(r,i);else{var a="javascript:"===_(n),o="vbscript:"===_(n);a||o?(f._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,i)}}});m=function(e,t,n){return"class"===t?d(e)?new a(t,n):new i(t,n):"style"===t?new o(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new s(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new u(t.substring(6),n):p(e.tagName,t)?new y(t,n):new h(t,n):new l(t,n)},w=function(e){this.elem=e,this.handlers={}},w.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!c.has(e,r)){var i=n[r],a=i.value;i.value=null,i.update(t,a,null),delete n[r]}for(var r in e){var i=null,a,o=e[r];c.has(n,r)?(i=n[r],a=i.value):null!==o&&(i=m(t,r,o),n[r]=i,a=null),a!==o&&(i.value=o,i.update(t,a,o),null===o&&delete n[r])}}}.call(this),function(){f._materializeDOM=function(t,n,r,i){var a=i||[];if(e(t,n,r,a),!i)for(;a.length;){var o=a.pop();o()}return n};var e=function(e,n,r,i){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case u.Tag.htmljsType:return void n.push(t(e,r,i));case u.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case u.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case u.Raw.htmljsType:for(var a=f._DOMBackend.parseHTML(e.value),o=0;o<a.length;o++)n.push(a[o]);return}else{if(u.isArray(e)){for(var o=e.length-1;o>=0;o--)i.push(c.bind(f._materializeDOM,null,e[o],n,r,i));return}if(e instanceof f.Template&&(e=e.constructView()),e instanceof f.View)return void f._materializeView(e,r,i,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,r){var i=e.tagName,o;o=(u.isKnownSVGElement(i)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i);var s=e.attrs,l=e.children;if("textarea"===i&&e.children.length&&!(s&&"value"in s)){if("function"==typeof s||u.isArray(s))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");s=c.extend({},s||null),s.value=f._expand(l,t),l=[]}if(s){var d=new w(o),p=function(){var e=f._expandAttributes(s,t),n=u.flattenAttributes(e),r={};for(var i in n)r[i]=f._toText(n[i],t,u.TEXTMODE.STRING);d.update(r)},h;h=t?t.autorun(p,void 0,"updater"):a.nonreactive(function(){return a.autorun(function(){a._withCurrentView(t,p)})}),f._DOMBackend.Teardown.onElementTeardown(o,function e(){h.stop()})}if(l.length){var m=[];r.push(function(){for(var e=0;e<m.length;e++){var t=m[e];t instanceof f._DOMRange?t.attach(o):o.appendChild(t)}}),r.push(c.bind(f._materializeDOM,null,l,m,t,r))}return o},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;f._throwNextException=!1,f._reportException=function(n,r){if(f._throwNextException)throw f._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},f._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(e){f._reportException(e,"Exception in "+t+":")}}}}.call(this),function(){f.View=function(e,t){return this instanceof f.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},void(this.renderCount=0)):new f.View(e,t)},f.View.prototype._render=function(){return null},f.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},f.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},f.View.prototype.onViewReady=function(e){var t=this,n=function(){a.afterFlush(function(){t.isDestroyed||f._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function e(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},f.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},f.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=c.lastIndexOf(t,e);n!==-1&&(t[n]=null)}},f.View.prototype.autorun=function(e,t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(a.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var i=f.Template._currentTemplateInstanceFunc,o=function n(a){return f._withCurrentView(t||r,function(){return f.Template._withTemplateInstanceFunc(i,function(){return e.call(r,a)})})};o.displayName=(r.name||"anonymous")+":"+(n||"anonymous");var s=a.autorun(o),l=function(){s.stop()};return r.onViewDestroyed(l),s.onStop(function(){r.removeViewDestroyedListener(l)}),s},f.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},f.View.prototype.subscribe=function(t,n){var r=this;n=n||{},r._errorIfShouldntCallSubscribe();var i;return i=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){i.stop()}),i},f.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},f.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},f._fireCallbacks=function(e,t){f._withCurrentView(e,function(){a.nonreactive(function n(){for(var r=e._callbacks[t],i=0,a=r&&r.length;i<a;i++)r[i]&&r[i].call(e)})})},f._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),f._fireCallbacks(e,"created")};var t=function(e,t){var n=new f._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,f._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function t(n,i){e._isAttached=!0,r=f._DOMBackend.Teardown.onElementTeardown(i,function t(){f._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};f._materializeView=function(e,n,r,i){f._createView(e,n);var o,s;return a.nonreactive(function(){e.autorun(function t(n){e.renderCount++,e._isInRender=!0;var r=e._render();e._isInRender=!1,n.firstRun||a.nonreactive(function t(){var n=f._materializeDOM(r,[],e);f._isContentEqual(s,r)||(o.setMembers(n),f._fireCallbacks(e,"rendered"))}),s=r,a.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;r?(n=[],r.push(function(){o=t(e,n),n=null,i.push(o)}),r.push(c.bind(f._materializeDOM,null,s,n,e,r))):(n=f._materializeDOM(s,[],e),o=t(e,n),n=null)}),r?null:o},f._expandView=function(e,t){f._createView(e,t,!0),e._isInRender=!0;var n=f._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var r=f._expand(n,e);return a.active?a.onInvalidate(function(){f._destroyView(e)}):f._destroyView(e),r},f._HTMLJSExpander=u.TransformingVisitor.extend(),f._HTMLJSExpander.def({visitObject:function(e){return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View?f._expandView(e,this.parentView):u.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=f._withCurrentView(this.parentView,e)),u.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=f._withCurrentView(this.parentView,t)),u.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=f.currentView;return e&&e._isInRender?e:null};f._expand=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visit(e)},f._expandAttributes=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visitAttributes(e)},f._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,f._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},f._destroyNode=function(e){1===e.nodeType&&f._DOMBackend.Teardown.tearDownElement(e)},f._isContentEqual=function(e,t){return e instanceof u.Raw?t instanceof u.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},f.currentView=null,f._withCurrentView=function(e,t){var n=f.currentView;try{return f.currentView=e,t()}finally{f.currentView=n}};var r=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof f.View||e instanceof f.Template||"function"==typeof e))try{(new u.Visitor).visit(e)}catch(e){throw new Error("Expected Template or View")}},i=function(e){if(r(e),e instanceof f.Template)return e.constructView();if(e instanceof f.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),f.View("render",t)},o=function(e){return r(e),"function"!=typeof e?function(){return e}:e};f.render=function(e,t,r,a){if(t||f._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof f.View&&(a=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");a=a||n();var o=i(e);return f._materializeView(o,a),t&&o._domrange.attach(t,r),o},f.insert=function(e,t,n){if(f._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},f.renderWithData=function(e,t,n,r,i){return f.render(f._TemplateWith(t,o(e)),n,r,i)},f.remove=function(e){if(!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},f.toHTML=function(e,t){return t=t||n(),u.toHTML(f._expandView(i(e),t))},f.toHTMLWithData=function(e,t,r){return r=r||n(),u.toHTML(f._expandView(f._TemplateWith(t,o(e)),r))},f._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof f.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==u.TEXTMODE.STRING&&r!==u.TEXTMODE.RCDATA&&r!==u.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return u.toText(f._expand(e,t),r)},f.getData=function(e){var t;if(e)if(e instanceof f.View){var n=e;t="with"===n.name?n:f.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=f.getView(e,"with")}else t=f.getView("with");return t?t.dataVar.get():null},f.getElementData=function(e){if(f._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return f.getData(e)},f.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof f.View)return f._getParentView(e,n);if("number"==typeof e.nodeType)return f._getElementView(e,n);throw new Error("Expected DOM element or View")}return f._getCurrentView(n)},f._getCurrentView=function(e){var t=f.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},f._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},f._getElementView=function(e,t){for(var n=f._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:f._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},f._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function i(a,o){c.each(t,function(t,i){var s=i.split(/,\s+/);c.each(s,function(i){var s=i.split(/\s+/);if(0!==s.length){var l=s.shift(),c=s.join(" ");r.push(f._EventSupport.listen(o,l,c,function(r){if(!a.containsElement(r.currentTarget))return null;var i=n||this,o=arguments;return f._withCurrentView(e,function(){return t.apply(i,o)})},a,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){c.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){f._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},f.With=function(e,t){var n=f.View("with",t);return n.dataVar=new p,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},f._attachBindingsToView=function(e,t){t.onViewCreated(function(){c.each(e,function(e,n){t._scopeBindings[n]=new p,"function"==typeof e?t.autorun(function(){t._scopeBindings[n].set(e())},t.parentView):t._scopeBindings[n].set(e)})})},f.Let=function(e,t){var n=f.View("let",t);return f._attachBindingsToView(e,n),n},f.If=function(e,t,n,r){var i=new p,a=f.View(r?"unless":"if",function(){return i.get()?t():n?n():null});return a.__conditionVar=i,a.onViewCreated(function(){this.autorun(function(){var t=f._calculateCondition(e());i.set(r?!t:t)},this.parentView,"condition")}),a},f.Unless=function(e,t,n){return f.If(e,t,n,!0)},f.Each=function(e,t,n){var r=f.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new a.Dependency,this.expandedValueDep.depend()),e});r.initialSubviews=[],r.numItems=0,r.inElseMode=!1,r.stopHandle=null,r.contentFunc=t,r.elseFunc=n,r.argVar=new p,r.variableName=null;var i=function(e,t){void 0===t&&(t=r.numItems-1);for(var n=e;n<=t;n++){var i=r._domrange.members[n].view;i._scopeBindings["@index"].set(n)}};return r.onViewCreated(function(){r.autorun(function(){var t=e();c.isObject(t)&&c.has(t,"_sequence")&&(r.variableName=t._variable||null,t=t._sequence),r.argVar.set(t)},r.parentView,"collection"),r.stopHandle=d.observe(function(){return r.argVar.get()},{addedAt:function(e,t,n){a.nonreactive(function(){var e;e=r.variableName?f.View("item",r.contentFunc):f.With(t,r.contentFunc),r.numItems++;var a={};if(a["@index"]=n,r.variableName&&(a[r.variableName]=t),f._attachBindingsToView(a,e),r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange){r.inElseMode&&(r._domrange.removeMember(0),r.inElseMode=!1);var o=f._materializeView(e,r);r._domrange.addMember(o,n),i(n)}else r.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){a.nonreactive(function(){r.numItems--,r.expandedValueDep?r.expandedValueDep.changed():r._domrange?(r._domrange.removeMember(n),i(n),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r._domrange.addMember(f._materializeView(f.View("each_else",r.elseFunc),r),0))):r.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,i){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else{var e;e=r._domrange?r._domrange.getMember(i).view:r.initialSubviews[i],r.variableName?e._scopeBindings[r.variableName].set(t):e.dataVar.set(t)}})},movedTo:function(e,t,n,o){a.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange)r._domrange.moveMember(n,o),i(Math.min(n,o),Math.max(n,o));else{var e=r.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}})}}),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r.initialSubviews[0]=f.View("each_else",r.elseFunc))}),r.onViewDestroyed(function(){r.stopHandle&&r.stopHandle.stop()}),r},f._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var i=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?f._withCurrentView(e,r):r()},a=function(){var e=t.call(this);return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View&&(e._hasGeneratedParent=!0),e};return n=f.With(i,a),n.__isTemplateWith=!0,n},f._InOuterTemplateScope=function(e,t){var n=f.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0}),n},f.InOuterTemplateScope=f._InOuterTemplateScope}.call(this),function(){f._globalHelpers={},f.registerHelper=function(e,t){f._globalHelpers[e]=t},f.deregisterHelper=function(e){delete f._globalHelpers[e]};var e=function(e,t){return"function"!=typeof e?e:c.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=f.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};f._OLDSTYLE_HELPER={},f._getTemplateHelper=function(e,r,i){var a=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==f._OLDSTYLE_HELPER)return null!=o?n(t(o),i):null;a=!0}return r in e&&(a||(e.__helpers.set(r,f._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||f._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),i):null};var n=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return f.Template._withTemplateInstanceFunc(t,function(){return f._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};f._lexicalBindingLookup=function(e,t){var n=e,r=[];do if(c.has(n._scopeBindings,t)){var i=n._scopeBindings[t];return function(){return i.get()}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},f._getTemplate=function(e,t){return e in f.Template&&f.Template[e]instanceof f.Template?f.Template[e]:null},f._getGlobalHelper=function(e,r){return null!=f._globalHelpers[e]?n(t(f._globalHelpers[e]),r):null;
},f.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,i,a,o,s;if(this.templateInstance&&(o=c.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return f._parentData(e.length-1,!0)}return n&&null!=(i=f._getTemplateHelper(n,e,o))?i:n&&null!=(a=f._lexicalBindingLookup(f.currentView,e))?a:r&&null!=(s=f._getTemplate(e,o))?s:null!=(i=f._getGlobalHelper(e,o))?i:function(){var t=arguments.length>0,n=f.getData(),i=n&&n[e];if(!i){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&(null===i||void 0===i))throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof i){if(t)throw new Error("Can't call non-function: "+i);return i}return i.apply(n,arguments)}},f._parentData=function(e,t){null==e&&(e=1);for(var n=f.getView("with"),r=0;r<e&&n;r++)n=f.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},f.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){f.Template=function(e,n){if(!(this instanceof f.Template))return new f.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=f.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},f.isTemplate=function(e){return e instanceof f.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;e<r;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var i=this,a=f.View(i.viewName,i.renderFunction);a.template=i,a.templateContentBlock=t?new e("(contentBlock)",t):null,a.templateElseBlock=r?new e("(elseBlock)",r):null,(i.__eventMaps||"object"==typeof i.events)&&a._onViewRendered(function(){1===a.renderCount&&(i.__eventMaps.length||"object"!=typeof i.events||e.prototype.events.call(i,i.events),c.each(i.__eventMaps,function(e){f._addEventMap(a,e,a)}))}),a._templateInstance=new f.TemplateInstance(a),a.templateInstance=function(){var e=a._templateInstance;return e.data=f.getData(a),a._domrange&&!a.isDestroyed?(e.firstNode=a._domrange.firstNode(),e.lastNode=a._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=i._getCallbacks("created");a.onViewCreated(function(){n(o,a.templateInstance())});var s=i._getCallbacks("rendered");a.onViewReady(function(){n(s,a.templateInstance())});var l=i._getCallbacks("destroyed");return a.onViewDestroyed(function(){n(l,a.templateInstance())}),a},f.TemplateInstance=function(e){if(!(this instanceof f.TemplateInstance))return new f.TemplateInstance(e);if(!(e instanceof f.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new a.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},f.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},f.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},f.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},f.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},f.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=c.toArray(arguments),r={};if(n.length){var i=c.last(n),a={onReady:l.Optional(Function),onError:l.Optional(Function),onStop:l.Optional(Function),connection:l.Optional(l.Any)};c.isFunction(i)?r.onReady=n.pop():i&&!c.isEmpty(i)&&l.test(i,a)&&(r=n.pop())}var o,s=r.onStop;r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)};var u=r.connection,d=c.pick(r,["onReady","onError","onStop"]);return n.push(d),o=e.view.subscribe.call(e.view,n,{connection:u}),c.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},f.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=c.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){if(!c.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){if(!c.isObject(t))throw new Error("Event map has to be an object");var n=this,r={};for(var i in t)r[i]=function(t,n){return function(t){var r=this,i=f.getData(t.currentTarget);null==i&&(i={});var a=Array.prototype.slice.call(arguments),o=c.bind(r.templateInstance,r);return a.splice(1,0,o()),e._withTemplateInstanceFunc(o,function(){return n.apply(i,a)})}}(i,t[i]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=f.getData,e.parentData=f._parentData,e.registerHelper=f.registerHelper,e.deregisterHelper=f.deregisterHelper}.call(this),function(){v=f,f.ReactiveVar=p,v._templateInstance=f.Template.instance,_={},_.registerHelper=f.registerHelper,_._escape=f._escape,_.SafeString=function(e){this.string=e},_.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.blaze={},{Blaze:f,UI:v,Handlebars:_})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.htmljs.HTML,a=Package.tracker.Tracker,u=Package.tracker.Deps,i=Package.blaze.Blaze,o=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package["observe-sequence"].ObserveSequence,f=Package.underscore._,p;(function(){p={};var e=function(e,t){return e===t};p.include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t;if(!i.isTemplate(a))throw new Error("Expected template or null, found: "+a);var u=t.constructView(n,r);return u.__startsNewLexicalScope=!0,u}var o=i.ReactiveVar(null,e),u=i.View("Spacebars.include",function(){var e=o.get();if(null===e)return null;if(!i.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)});return u.__templateVar=o,u.onViewCreated(function(){this.autorun(function(){o.set(t())})}),u.__startsNewLexicalScope=!0,u},p.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof p.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=p.kw(r)}else n=p.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return p.call.apply(null,t)},p.mustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t instanceof p.SafeString?r.Raw(t.toString()):null==t||t===!1?null:String(t)},p.attrMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&r.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},p.dataMustache=function(e){var t=p.mustacheImpl.apply(null,arguments);return t},p.makeRaw=function(e){return null==e?null:e instanceof r.Raw?e:r.Raw(e)},p.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},p.kw=function(e){return this instanceof p.kw?void(this.hash=e||{}):new p.kw(e)},p.SafeString=function(e){return this instanceof p.SafeString?new c.SafeString(e):new p.SafeString(e)},p.SafeString.prototype=c.SafeString.prototype,p.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(p.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),p.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},p.With=function(e,t,n){var r=new i.ReactiveVar,u=i.View("Spacebars_with",function(){return i.If(function(){return r.get()},function(){return i.With(function(){return r.get()},t)},n)});return u.onViewCreated(function(){this.autorun(function(){r.set(e()),a.onInvalidate(function(){r.dep.changed()})})}),u},p.TemplateWith=i._TemplateWith}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.spacebars={},{Spacebars:p})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.underscore._,n=Package.mongo.Mongo;(function(){var t="undefined"!=typeof n?n.Collection:e.Collection,o=t.prototype.update,r={},c=function(){return"undefined"!=typeof SAFE_UPDATE_CONFIG?SAFE_UPDATE_CONFIG:r};t.prototype.update=function(t,n,r,p){var i=c(),u=this._name,l=!n||r&&r.replace||i.except&&a.include(i.except,u)||i.only&&!a.include(i.only,u);if(l||(l=a.some(n,function(e,t){return/^\$/.test(t)})),l)return o.apply(this,arguments);throw new e.Error(500,"modifier doesn’t contain any $-operators, if you want to completely replace whatever was previously in the database pass {replace:true} to the update options")}}).call(this),"undefined"==typeof Package&&(Package={}),Package["artpolikarpov:safe-update"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,c=Package.random.Random,r=Package.underscore._,n=Package.ejson.EJSON,o=Package["ddp-client"].DDP,i;(function(){i={config:{}}}).call(this),function(){i._write=function(e,a,t,c){switch(a){case"insert":case"remove":return e[a](t.selector,c);case"update":case"upsert":return e[a](t.selector,t.modifier,t.options,c)}}}.call(this),function(){i.write=function(e,a,t){t=t||{},t.selector=t.selector||t.doc;var c=r.last(r.toArray(arguments)),n=r.isFunction(c);return i._write(e,a,t,n&&c)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var t in a)t in e||(e[t]=a[t])}(Package["chatra:redpubsub"]={},{RPS:i})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["ddp-rate-limiter"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["standard-minifier-css"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["standard-minifier-js"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["shell-server"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv,r;"undefined"==typeof Package&&(Package={}),function(e,a){for(var o in a)o in e||(e[o]=a[o])}(Package["chatra:meteors"]={},{Meteors:r})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.modules.meteorInstall,r=Package.modules.Buffer,s=Package.modules.process,c=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,i=Package["babel-runtime"].meteorBabelHelpers,l=Package.promise.Promise,p,d=o({node_modules:{meteor:{webapp:{"webapp_client.js":function(){p={_isCssLoaded:function(){function e(){return 0===document.styleSheets.length||n.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!n.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}return e}()}}}}}},{extensions:[".js",".json"]});d("./node_modules/meteor/webapp/webapp_client.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package.webapp={},{WebApp:p})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,c=Package["ddp-client"].DDP,n;"undefined"==typeof Package&&(Package={}),function(e,a){for(var t in a)t in e||(e[t]=a[t])}(Package.livedata={},{DDP:c,LivedataTest:n})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["hot-code-push"]={}}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,c=Package.meteor.meteorEnv,g=Package.blaze.Blaze,n=Package.blaze.UI,k=Package.blaze.Handlebars,l=Package.htmljs.HTML;"undefined"==typeof Package&&(Package={}),function(a,e){for(var c in e)c in a||(a[c]=e[c])}(Package.ui={},{Blaze:g,UI:n,Handlebars:k})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",function(){var e=this;return a.map(l.body.contentRenderFuncs,function(t){return t.apply(e)})}),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",function(){var e=this;return[o.View("lookup:checkContext",function(){return i.mustache(e.lookup("checkContext"))}),"\n  ",o.If(function(){return i.call(e.lookup("dataContextPresent"))},function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",o._TemplateWith(function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}},function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})]}),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",function(){var e=this;return i.With(function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))},function(){return["\n    \n    ",o._TemplateWith(function(){return i.call(i.dot(e.lookup(".."),"data"))},function(){return i.include(e.lookupTemplate(".."),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,function(){return e.instance()})}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)})}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.templating={},{Template:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,o=Package.retry.Retry,i=Package["ddp-client"].DDP,s=Package.mongo.Mongo,c=Package.underscore._,u,l;(function(){var t=__meteor_runtime_config__.autoupdateVersion||"unknown",n=__meteor_runtime_config__.autoupdateVersionRefreshable||"unknown";u=new s.Collection("meteor_autoupdate_clientVersions"),l={},l.newClientAvailable=function(){return!!u.findOne({_id:"version",version:{$ne:t}})||!!u.findOne({_id:"version-refreshable",version:{$ne:n}})},l._ClientVersions=u;var a=!1,r=new o({minCount:0,baseTimeout:3e4}),i=0;l._retrySubscription=function(){e.subscribe("meteor_autoupdate_clientVersions",{onError:function(t){e._debug("autoupdate subscription failed:",t),i++,r.retryLater(i,function(){l._retrySubscription()})},onReady:function(){if(Package.reload)var r=function(r){var i=this;if("version-refreshable"===r._id&&r.version!==n){n=r.version;var s=r.assets&&r.assets.allCss||[],u=[];c.each(document.getElementsByTagName("link"),function(e){"__meteor-css__"===e.className&&u.push(e)});var l=function(t,n){var r=c.once(n);if(t.onload=function(){a=!0,r()},!a)var o=e.setInterval(function(){t.sheet&&(r(),e.clearInterval(o))},50)},d=c.after(s.length,function(){c.each(u,function(e){e.parentNode.removeChild(e)})}),f=function(t){document.getElementsByTagName("head").item(0).appendChild(t),l(t,function(){e.setTimeout(d,200)})};0!==s.length?c.each(s,function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("class","__meteor-css__"),t.setAttribute("href",e.url),f(t)}):d()}else"version"===r._id&&r.version!==t&&(o&&o.stop(),Package.reload&&Package.reload.Reload._reload())},o=u.find().observe({added:r,changed:r})}})},l._retrySubscription()}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.autoupdate={},{Autoupdate:l})}();

ReactiveVar=Package["reactive-var"].ReactiveVar,ReactiveDict=Package["reactive-dict"].ReactiveDict,HTTP=Package.http.HTTP,Mongo=Package.mongo.Mongo,Session=Package.session.Session,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,Log=Package.logging.Log,Reload=Package.reload.Reload,Random=Package.random.Random,EJSON=Package.ejson.EJSON,Spacebars=Package.spacebars.Spacebars,check=Package.check.check,Match=Package.check.Match,RPS=Package["chatra:redpubsub"].RPS,meteorInstall=Package.modules.meteorInstall,Buffer=Package.modules.Buffer,process=Package.modules.process,Meteors=Package["chatra:meteors"].Meteors,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,_=Package.underscore._,DDP=Package["ddp-client"].DDP,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Template=Package.templating.Template,Autoupdate=Package.autoupdate.Autoupdate,HTML=Package.htmljs.HTML;

var require=meteorInstall({client:{templates:{_helpers:{animate:{"template.animate.js":function(){Template.__checkName("animate"),Template.animate=new Template("Template.animate",function(){var e=this;return Blaze._InOuterTemplateScope(e,function(){return Spacebars.include(function(){return Spacebars.call(e.templateContentBlock)})})})},"animate.js":function(){var e=function(){};Template.animate.rendered=function(){console.log("Template.animate.rendered");var e=this;e.parentNode=e.firstNode.parentNode,e.parentNode._uihooks=e.parentNode._uihooks||{insertElement:function(e,t){console.log("Template.animate → insertElement",e);var n=$(e),r=n.data(),o=r.animateInsert||r.animate,a=r.animateInsertionDelay||r.animateDelay,i=r.animateInsertJquery||r.animateJquery;o?(n.addClass(o).insertBefore(t).width(),Meteor.setTimeout(function(){n.removeClass(o)},a||0)):i?n.hide().insertBefore(t)[i](r.animateDuration||0):n.insertBefore(t)},removeElement:function(e){console.log("Template.animate → removeElement",e);var t=$(e),n=t.data(),r=n.animateRemove||n.animate,o=n.animateRemovalDelay||n.animateDelay,a=n.animateRemoveJquery||n.animateJquery;t.addClass(r),a?t[a](n.animateDuration||0,function(){t.remove()}):Meteor.setTimeout(function(){t.remove()},o||0)}}},Template.animate.destroyed=function(){console.log("Template.animate.destroyed"),this.parentNode&&(this.parentNode._uihooks=null)}}},"available-operators.js":function(){Meteor.startup(function(){Tracker.autorun(function(){if(Session.get("ready")){var e=Chtr.client({servingBy:1,groupId:1})||{};Session.set("availableOperators",Chtr.filterAvailableOperators(Chtr.findOperators({client:e}).fetch(),{filter:function(t){return!t.invisible||_._property(e,"servingBy."+t._id)}}).length)}})})},"chatra-slogan.js":function(){Template.registerHelper("chatraSlogan",Chtr.chatraSlogan=function(){var e=Chtr.hostname,t="get",n=Session.get("Localizer.language"),r="ru"!==n?"":"ru/",o=Chtr.hostGeoCode(),a=Chtr.hostIsPaid();"--"===o&&(o="");var i=function(t){var i=r+(e?"?"+Chtr.objectToSearch(_._compact({utm_source:_._compact(["logo",a?"p":"f"]).join("_"),utm_campaign:_._compact([o,e]).join("_"),utm_medium:_._compact(["selfie",n,t]).join("_")})):"");return L("chatra."+t,{utm:i})},s=i(t);return s||(t="poweredBy",Chtr.setStoredItem("sloganKey","",!1),s=i(t)),s})},"client-value.js":function(){Template.registerHelper("clientValue",function(e){var t={integrationData:1};return t[e]=1,Chtr.clientValue(Chtr.client(t),e)})},"color.js":function(){function e(e){var t=/^(#([0-9a-f]{3}|[0-9a-f]{6})|transparent)$/i,n=["buttonText","buttonBg","chatBg","clientBubbleBg","agentBubbleBg"],r=["chatBg"],o=[];_.isArray(e)&&(e={buttonText:e[0],buttonBg:e[1]});for(var a in e)if(e.hasOwnProperty(a)){if(!t.test(e[a]))return void console.warn("Invalid `colors` format!");(!a in n||"transparent"==e[a]&&(Chtr.isWidget()||!Chtr.isInFrame||!a in r))&&o.push(a)}Session.set("customColor",_.omit(e,o))}Template.registerHelper("color",function(){var e=(Chtr.hostSettings("color")||"").split("/"),t={buttonText:e[0],buttonBg:e[1]},n=Session.get("customColor");return _.extend(t,n)}),Meteor.startup(function(){if(Chtr.queryParams.colors)try{var t=JSON.parse(Chtr.queryParams.colors);e(t)}catch(e){}}),$document.on("message:colors",function(t,n){e(n)}),$document.on("message:resetColors",function(e){Session.set("customColor")})},"display-name.js":function(){Template.registerHelper("displayName",Chtr.displayName)},"file-size.js":function(){Template.registerHelper("fileSize",function(e){e=e||0;for(var t=["b","kb","mb","gb"],n=0;n<t.length;n++){if(e/1024<1||n==t.length-1)return parseFloat(e.toFixed(1))+" "+L("units."+t[n]);e/=1024}})},"helpers.js":function(){Template.registerHelper("isWidget",Chtr.isWidget=function(){return Chtr.isInFrame&&"frame"!==Chtr.queryParams.mode}),Template.registerHelper("isMobileWidget",Chtr.isMobileWidget=function(){return Chtr.isInFrame&&"frame"!==Chtr.queryParams.mode&&Chtr.queryParams.isMobile}),Template.registerHelper("equal",function(e,t){return _.isEqual(e,t)}),Template.registerHelper("mods",function(e){if(this.mods)return this.mods.split(" ").map(function(t){return e+"--"+t}).join(" ")}),Template.registerHelper("hasMod",function(e){return!!this.mods&&this.mods.split(" ").indexOf(e)!==-1}),Template.registerHelper("mod",function(e){var t=_.clone(this);return t.mods=e,t}),Template.registerHelper("Session",function(e){return Session.get(e)}),Template.registerHelper("chatState",function(){return!Chtr.isWidget()||Session.get("chatOpened")?"opened":"closed"}),Template.registerHelper("get",Chtr.getVar=function(e,t){var n=_._property(Template.instance(),e),r=n&&n.get?n.get():n;return console.log("get; key, result:",e,r),t&&_.isString(t)?_._property(r,t):r}),Template.registerHelper("getDict",Chtr.getDict=function(e,t){var n=_._property(Template.instance(),e);return n&&n.get&&n.get(t)}),Template.registerHelper("getEqual",Chtr.getVarEqual=function(e,t,n){return _.isEqual(Chtr.getVar(e,t),n)}),Template.registerHelper("anti",function(e){return!e}),Template.registerHelper("property",function(e,t){return _._property(e,t)}),Template.registerHelper("status",function(){return Meteor.status()})},"host.js":function(){var e=new ReactiveVar,t=new ReactiveVar,n=new ReactiveVar(null,_.isEqual),r=new ReactiveVar,o=new ReactiveVar,a=new ReactiveVar;Tracker.autorun(function(i){var s=Hosts.findOne();e.set(s),t.set(_._property(s,"_id")),n.set(_._property(s,"settings")),r.set(_._property(s,"geo.code")),o.set(_._property(s,"isPaid")),a.set(_._property(s,"groups"));var c=_._property(s,"sloganKey");c&&!Chtr.getStoredItem("sloganKey",!1)&&Chtr.setStoredItem("sloganKey",c,!1)}),Template.registerHelper("host",Chtr.host=function(){return e.get()}),Template.registerHelper("hostSettings",Chtr.hostSettings=function(e){console.log("hostSettings; key:",e);var t=n.get();return e&&_.isString(e)?_._property(t,e):t}),Template.registerHelper("hostGeoCode",Chtr.hostGeoCode=function(){return r.get()}),Template.registerHelper("hostIsPaid",Chtr.hostIsPaid=function(){return o.get()}),Template.registerHelper("hostId",Chtr.hostId=function(){return t.get()}),Template.registerHelper("hostGroups",Chtr.hostGroups=function(){return a.get()})},"is-in-frame.js":function(){Template.registerHelper("isInFrame",Chtr.isInFrame)},"last-active.js":function(){Template.registerHelper("lastActive",function(){return Tracker.nonreactive(function(){var e=Chtr.client(),t=_._property(e,"__hostActiveAt");if(t){var n=36e5,r=Chtr.now(),o=r-t;return o<n?L("active.short"):o>12*n?L("active.long"):L("active")+" "+Chtr.date.when(t)}})})},"logo.js":function(){Template.registerHelper("logo",Chtr.logo=function(){return!Chtr.hostIsPaid()||Chtr.hostSettings("logo")})},"need-to-preform.js":function(){Template.registerHelper("needToPreform",Chtr.needToPreform)},"typing.js":function(){Template.registerHelper("clientTyping",Chtr.clientTyping=function(e){var t=_.compact(_.map(Typings.findOne(e),function(t,n){if(t&&n!==e){var r=Chtr.displayName(_._property(Meteor.users.findOne({_id:n}),"profile"));return r&&"<strong>"+sanitize(r)+"</strong>"}}));return!!t.length&&Chtr.join(t,",",L("and"))+" "+L(t.length>1?"areTyping":"typing")})},"user-title.js":function(){Template.registerHelper("userTitle",Chtr.userTitle)}},chat:{"template.chat-message.js":function(){Template.__checkName("chatMessage"),Template.chatMessage=new Template("Template.chatMessage",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("show"))},function(){return["\n        ",HTML.DIV({class:function(){return["chat-message is-",Spacebars.mustache(e.lookup("who"))," js-show-after-flush"]},id:function(){return Spacebars.mustache(e.lookup("_id"))}},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("isServiceMessage"))},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("joined"))},function(){return["\n                    ",HTML.FIGURE({class:"joined-message"},"\n                        ",Blaze.If(function(){return Spacebars.call(e.lookup("showJoinedUserpic"))},function(){return["\n                            ",HTML.DIV({class:"joined-message__userpic"},"\n                                ",Blaze._TemplateWith(function(){return{message:Spacebars.call(e.lookup(".")),size:Spacebars.call("80")}},function(){return Spacebars.include(e.lookupTemplate("userpic"))}),"\n                            "),"\n                        "]}),"\n\n                        ",HTML.FIGCAPTION("\n                            ",HTML.P({class:"joined-message__name"},"\n                                ",Blaze.View("lookup:username",function(){return Spacebars.mustache(e.lookup("username"))}),Blaze.If(function(){return Spacebars.call(e.lookup("userTitle"))},function(){return HTML.SPAN({class:"joined-message__comma"},",")}),"\n                            "),"\n\n                            ",Spacebars.With(function(){return Spacebars.call(e.lookup("userTitle"))},function(){return["\n                                ",HTML.P({class:"joined-message__title"},"\n                                    ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                                "),"\n                            "]}),"\n\n                            ",HTML.P({class:"joined-message__message"},"\n                                ",Blaze.If(function(){return Spacebars.call(e.lookup("flexStatus"))},function(){return["\n                                    ",Blaze.If(function(){return Spacebars.call(e.lookup("isOperatorAvailable"))},function(){return["\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"messageTypes.joinedFirst")}),"\n                                    "]},function(){return["\n                                        ",Spacebars.With(function(){return Spacebars.call(e.lookup("lastActive"))},function(){return["\n                                            ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                                        "]}),"\n                                    "]}),"\n                                "]},function(){return["\n                                    ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"messageTypes.joinedFirst")}),"\n                                "]}),"\n                            "),"\n                        "),"\n                    "),"\n                "]},function(){return["\n                    ",Blaze._TemplateWith(function(){return{template:Spacebars.call(e.lookup("serviceMessageTemplate"))}},function(){return Spacebars.include(function(){return Spacebars.call(Template.__dynamic)})}),"\n                "]}),"\n            "]},function(){return["\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("showName"))},function(){return["\n                    ",HTML.DIV({class:"chat-message__name"},"\n                        ",Blaze.View("lookup:username",function(){return Spacebars.mustache(e.lookup("username"))}),"\n                    "),"\n                "]}),"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("showUserpic"))},function(){return["\n                    ",HTML.DIV({class:"chat-message__userpic"},"\n                        ",Blaze._TemplateWith(function(){return{message:Spacebars.call(e.lookup(".")),mods:Spacebars.call("message")}},function(){return Spacebars.include(e.lookupTemplate("userpic"))}),"\n                    "),"\n                "]}),"\n                ",HTML.DIV({class:"chat-message__content"},"\n                    ",HTML.DIV({class:function(){return["chat-message__bubble chat-bubble chat-bubble--",Spacebars.mustache(e.lookup("who"))," ",Blaze.If(function(){return Spacebars.call(e.lookup("file"))},function(){return["chat-bubble--",Blaze.If(function(){return Spacebars.call(e.lookup("isImage"))},function(){return"image"},function(){return"file"})]})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("userId"))},function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"saved")},function(){return Blaze.If(function(){return Spacebars.call(e.lookup("unsent"))},function(){return"is-unsent"})},function(){return"is-unsaved"})})]}},"\n                        ",HTML.DIV({class:"chat-bubble__message"},"\n                            ",Blaze.Unless(function(){return Spacebars.call(e.lookup("file"))},function(){return["\n                                ",Blaze.View("lookup:message",function(){return Spacebars.mustache(e.lookup("message"))}),"\n                            "]},function(){return["\n                                ",Blaze.If(function(){return Spacebars.call(e.lookup("isImage"))},function(){return["\n                                    ",HTML.A({class:function(){return["attachment-image ",Blaze.Unless(function(){return Spacebars.call(e.lookup("imgSrc"))},function(){return"is-thumb-not-ready"},function(){return Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadComplete"))},function(){return"is-incomplete"})})]},href:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"id"))},function(){return["https://ucarecdn.com/",Blaze.View("lookup:file.id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("file"),"id"))}),"/"]})},style:function(){return["width: ",Spacebars.mustache(e.lookup("thumbWidth")),"px;"]},target:"_blank"},"\n                                        ",HTML.DIV({class:"attachment-image__inner",style:function(){return["padding-bottom: ",Spacebars.mustache(e.lookup("thumbPadding")),";"]}},"\n                                            ",HTML.DIV({class:"attachment-image__thumb-holder"},"\n                                                ",HTML.DIV({class:"attachment-image__thumb-holder-table"},"\n                                                    ",HTML.DIV({class:"attachment-image__thumb-holder-row"},"\n                                                        ",HTML.DIV({class:"attachment-image__thumb-holder-cell"},"\n                                                            ",Blaze.If(function(){return Spacebars.call(e.lookup("imgSrc"))},function(){return["\n                                                                ",HTML.IMG({class:"attachment-image__thumb",src:function(){return Spacebars.mustache(e.lookup("imgSrc"))},alt:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("file"),"fileName"))}}),"\n                                                            "]}),"\n                                                        "),"\n                                                    "),"\n                                                "),"\n                                            "),"\n\n                                            ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadComplete"))},function(){return["\n                                                ",HTML.DIV({class:"attachment-image__loader"},"\n                                                    ",Blaze._TemplateWith(function(){return{progress:Spacebars.call(e.lookup("progress")),err:Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadFailed")),complete:Spacebars.call(e.lookup("fileUploadComplete")),size:Spacebars.call(50),uploadId:Spacebars.call(e.lookup("_id"))}},function(){return Spacebars.include(e.lookupTemplate("uploadProgress"))}),"\n                                                "),"\n                                            "]}),"\n                                        "),"\n                                    "),"\n                                "]},function(){return["\n                                    ",HTML.A({class:function(){return["attachment attachment--",Spacebars.mustache(e.lookup("who"))]},href:function(){return Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"id"))},function(){return["https://ucarecdn.com/",Blaze.View("lookup:file.id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("file"),"id"))}),"/"]})},download:""},"\n                                        ",HTML.DIV({class:"attachment__pic"},"\n                                            ",Blaze.Unless(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadComplete"))},function(){return["\n                                                ",Blaze._TemplateWith(function(){return{progress:Spacebars.call(e.lookup("progress")),err:Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadFailed")),complete:Spacebars.call(e.lookup("fileUploadComplete")),size:Spacebars.call(36),uploadId:Spacebars.call(e.lookup("_id")),mods:Spacebars.call("file")}},function(){return Spacebars.include(e.lookupTemplate("uploadProgress"))}),"\n                                            "]},function(){return["\n                                                ",HTML.DIV({class:"attachment__icon-wrapper"},"\n                                                    ",HTML.SVG({class:"attachment__icon"},"\n                                                        ",HTML.USE({"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#ei-arrow-down-icon"}),"\n                                                    "),"\n                                                "),"\n                                            "]}),"\n                                        "),"\n\n                                        ",HTML.DIV({class:"attachment__info"},"\n                                            ",HTML.H1({class:"attachment__name"},Blaze.View("lookup:file.fileName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("file"),"fileName"))})),"\n\n                                            ",HTML.P({class:"attachment__size"},Blaze.View("lookup:fileSize",function(){return Spacebars.mustache(e.lookup("fileSize"),Spacebars.dot(e.lookup("file"),"size"))})),"\n                                        "),"\n                                    "),"\n                                "]}),"\n                            "]}),"\n                        "),"\n                    "),"\n                "),"\n\n                ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("showStatus"))},function(){return["\n                        ",HTML.DIV({class:"chat-message__status","data-animate-remove-jquery":"slideUp","data-animate-duration":"200"},"\n                            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("file"),"uploadFailed"))},function(){return["\n                                ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"uploadFailed")}),"\n                            "]},function(){return["\n                                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"saved")},function(){return["\n                                    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"seen")},function(){return["\n                                        ",Blaze.View("lookup:when",function(){return Spacebars.mustache(e.lookup("when"))}),", ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"seen")}),"\n                                    "]},function(){return["\n                                        ",Blaze.If(function(){return Spacebars.call(e.lookup("sendWarning"))},function(){return["\n                                            ",HTML.SPAN({class:"color--from-danger-to-barely"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"unsent")})),"\n                                        "]},function(){return["\n                                            ",Blaze.View("lookup:sent",function(){return Spacebars.mustache(e.lookup("sent"))}),", ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"notSeen")}),"\n                                        "]}),"\n                                    "]}),"\n                                "]},function(){return["\n                                    ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"sending")}),"\n                                "]}),"\n                            "]}),"\n                        "),"\n                    "]}),"\n                "]}),"\n            "]}),"\n        "),"\n    "]})})},"template.chat-rating-tab.js":function(){Template.__checkName("chatRatingTab"),Template.chatRatingTab=new Template("Template.chatRatingTab",function(){var e=this;return HTML.DIV({class:"chat-rating-tab"},"\n        ",HTML.DIV({class:"scroller"},"\n            ",HTML.DIV({class:"scroller__inner js-scroller"},"\n                ",HTML.DIV({class:"scroller__shaft"},"\n                    ",HTML.FORM({class:function(){return["rating-form ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"rated")},function(){return"is-rated"})," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"alreadyRated")},function(){return"is-already-rated"})," js-rating-form"]}},"\n                        ",HTML.DIV({class:"rating-form__rating"},"\n                            ",HTML.DIV({class:"rating-form__rating-row"},"\n                                ",HTML.DIV({class:"rating-form__rating-cell"},"\n                                    ",HTML.H1({class:"rating-form__header"},"\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"rateConversation")}),"\n                                    "),"\n\n                                    ",HTML.LABEL({class:"rating-form__rating-switch chat-rating-switch"},"\n                                        ",HTML.INPUT({class:"chat-rating-switch__radio js-rating",type:"radio",name:"rating",value:"true",required:"",checked:function(){return Spacebars.mustache(e.lookup("rating"),!0)}}),"\n\n                                        ",HTML.SVG({class:"chat-rating-switch__icon chat-rating-switch__icon--like"},"\n                                            ",HTML.USE({"xlink:href":"#ei-like-icon"}),"\n                                        "),"\n                                    "),"\n\n                                    ",HTML.LABEL({class:"rating-form__rating-switch chat-rating-switch"},"\n                                        ",HTML.INPUT({class:"chat-rating-switch__radio js-rating",type:"radio",name:"rating",value:"false",required:"",checked:function(){return Spacebars.mustache(e.lookup("rating"),!1)}}),"\n\n                                        ",HTML.SVG({class:"chat-rating-switch__icon chat-rating-switch__icon--dislike"},"\n                                            ",HTML.USE({"xlink:href":"#ei-like-icon"}),"\n                                        "),"\n                                    "),"\n\n                                    ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                                        ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("get"),"rated")},function(){return["\n                                        ",HTML.DIV({class:"rating-form__cancel","data-animate-remove-jquery":"slideUp","data-animate-duration":"300","data-animate-remove":"is-hidden"},"\n                                            ",HTML.BUTTON({class:"button js-cancel",type:"button"},"\n                                                ",HTML.SPAN({class:"button__inner"},"\n                                                    ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"cancel")}),"\n                                                "),"\n                                            "),"\n                                        "),"\n                                        "]}),"\n                                    "]}),"\n                                "),"\n                            "),"\n                        "),"\n\n                        ",HTML.DIV({class:"rating-form__comment-and-submit"},"\n                            ",Blaze._TemplateWith(function(){return{value:Spacebars.call(e.lookup("comment")),name:Spacebars.call("comment"),placeholder:Spacebars.call("comment"),type:Spacebars.call("textarea"),class:Spacebars.call("js-comment"),maxlength:Spacebars.call("2048")}},function(){return Spacebars.include(e.lookupTemplate("formItem"))}),"\n\n                            ",HTML.DIV({class:"form-item form-item--single"},"\n                                ",HTML.BUTTON({class:function(){return["button button--chtr ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"loading")},function(){return"is-loading"})]},type:"submit",disabled:function(){return Spacebars.mustache(e.lookup("disabled"))}},"\n                                    ",HTML.SPAN({class:"button__inner"},"\n                                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"alreadyRated")},function(){return["\n                                            ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"update")}),"\n                                        "]},function(){return["\n                                            ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"rate")}),"\n                                        "]}),"\n                                    "),"\n                                "),"\n\n                                ",HTML.BUTTON({class:"button button--transparent js-cancel",type:"button"},"\n                                    ",HTML.SPAN({class:"button__inner"},"\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"cancel")}),"\n                                    "),"\n                                "),"\n\n                                ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("get"),"error")},function(){return["\n                                    ",HTML.P({class:"form-error-notice"},"\n                                        ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                                    "),"\n                                "]}),"\n                            "),"\n                        "),"\n                    "),"\n\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n                        ",HTML.DIV({class:"modal-logo"},"\n                            ",Blaze.View("lookup:chatraSlogan",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("chatraSlogan")))}),"\n                        "),"\n                    "]}),"\n                "),"\n            "),"\n        "),"\n    ")})},"template.chat-view.js":function(){Template.__checkName("chatView"),Template.chatView=new Template("Template.chatView",function(){var e=this;return HTML.DIV({class:"chat-scroller js-chat-scroller"},"\n        ",HTML.DIV({class:function(){return["chat-shaft chat-shaft--",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"availableOperators")},function(){return"online"},function(){return"offline"})]}},"\n            ",HTML.DIV({class:function(){return["chat-shaft__inner js-chat-shaft ",Blaze.If(function(){return Spacebars.call(e.lookup("underWelcome"))},function(){return"is-under-welcome"})]}},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"isSubReady")},function(){return["\n                    ",HTML.DIV({class:"chat-message-loader"},"\n                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"isGettingHistory")},function(){return["\n                            ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.retrievingHistory")}),"\n                        "]},function(){return["\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"isFinished")},function(){return["\n                                ",Spacebars.With(function(){return Spacebars.call(e.lookup("count"))},function(){return["\n                                    ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.messagesCount",Spacebars.kw({count:e.lookup(".")}))}),"\n                                "]},function(){return["\n                                    ",HTML.DIV({class:"chat-message-loader__no-messages"},"\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.noMessages")}),"\n                                    "),"\n                                "]}),"\n                            "]},function(){return["\n                                ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.more")}),"\n                            "]}),"\n                        "]}),"\n                    "),"\n                "]},function(){return["\n                    ",HTML.DIV({class:"chat-message-loader"},"\n                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.loading")}),"\n                    "),"\n                "]}),"\n\n                ",Blaze.Each(function(){return Spacebars.call(e.lookup("messages"))},function(){return["\n                    ",Spacebars.include(e.lookupTemplate("chatMessage")),"\n                "]}),"\n            "),"\n\n            ",HTML.DIV({class:"chat-typing"},"\n                ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                    ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("clientTyping"),e.lookup("clientId"))},function(){return["\n                        ",HTML.DIV({class:"chat-typing__inner","data-animate-insert":"is-inserting","data-animate-remove":"is-removing","data-animate-removal-delay":"10000"},"\n                            ",HTML.I({class:"bubble__typing-icon fa fa-pencil"})," ",Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup(".")))}),"...\n                        "),"\n                    "]}),"\n                "]}),"\n            "),"\n        "),"\n    ")})},"template.chat-welcome.js":function(){Template.__checkName("chatWelcome"),Template.chatWelcome=new Template("Template.chatWelcome",function(){var e=this;return HTML.DIV({class:"chat-welcome__inner js-welcome-scroller"},"\n        ",HTML.DIV({class:"chat-welcome__table"},"\n            ",HTML.DIV({class:"chat-welcome__row"},"\n                ",HTML.DIV({class:"chat-welcome__cell"},"\n                    ",HTML.DIV({class:"chat-welcome__shaft"},"\n                        ",HTML.DIV({class:function(){return["chat-faces chat-faces--",Spacebars.mustache(e.lookup("get"),"operatorsCount")]}},"\n                            ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("get"),"operators")},function(){return HTML.DIV({class:"chat-faces__face"},"\n                                ",HTML.DIV({class:"chat-faces__userpic"},"\n                                    ",Blaze._TemplateWith(function(){return{profile:Spacebars.call(e.lookup("profile")),size:Spacebars.call(e.lookup("userpicSize"))}},function(){return Spacebars.include(e.lookupTemplate("userpic"))}),"\n                                "),"\n                                ",HTML.DIV({class:"chat-faces__name"},"\n                                    ",Blaze.View("lookup:displayName",function(){return Spacebars.mustache(e.lookup("displayName"),e.lookup("profile"))}),"\n                                "),"\n                                ",Blaze.If(function(){return Spacebars.call(e.lookup("__online"))},function(){return["\n                                    ",HTML.DIV({class:"chat-faces__message"},"\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"online")}),"\n                                    "),"\n                                "];
}),"\n                            ")}),"\n                        "),"\n\n                        ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("get"),"onlineCount")},function(){return["\n                            ",Spacebars.With(function(){return Spacebars.call(e.lookup("lastActive"))},function(){return["\n                                ",HTML.DIV({class:"chat-welcome__active"},"\n                                    ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                                "),"\n                            "]}),"\n                        "]}),"\n\n                        ",HTML.DIV({class:"chat-welcome-message"},"\n                            ",Blaze.View("lookup:welcome",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("welcome")))}),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),"\n    ")})},"template.chat-wrapper.js":function(){Template.__checkName("chatWrapper"),Template.chatWrapper=new Template("Template.chatWrapper",function(){var e=this;return HTML.DIV({class:function(){return["chat-wrapper ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("Session"),"showChat")},function(){return"chat-wrapper--hidden"})," js-chat-wrapper"]}},"\n        ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"showWelcome")},function(){return["\n                ",HTML.DIV({class:"chat-welcome","data-animate-remove":function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatFullyOpened")},function(){return"is-hiding"})},"data-animate-removal-delay":function(){return Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatFullyOpened")},function(){return"1000"})}},"\n                    ",Spacebars.include(e.lookupTemplate("chatWelcome")),"\n                "),"\n            "]}),"\n        "]}),"\n\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("clientId"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{id:Spacebars.call(e.lookup("."))}},function(){return Spacebars.include(e.lookupTemplate("chatView"))}),"\n        "]}),"\n    ")})},"template.chat.js":function(){Template.__checkName("chat"),Template.chat=new Template("Template.chat",function(){var e=this;return HTML.DIV({id:"main",class:function(){return["main is-",Blaze.If(function(){return Spacebars.call(e.lookup("statusConnected"))},function(){return"connected"},function(){return"disconnected"})," is-chat-",Spacebars.mustache(e.lookup("chatState"))," is-",Blaze.If(function(){return Spacebars.call(e.lookup("isWidget"))},function(){return"widget"},function(){return"separate"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("isMobileWidget"))},function(){return"is-mobile-widget"})," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatFullyOpened")},function(){return"is-fully-opened"})," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatFullyClosed")},function(){return"is-fully-closed"})," is-side-",Spacebars.mustache(e.lookup("Session"),"widgetSide")," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatIsToggling")},function(){return"is-toggling"})," is-style-",Spacebars.mustache(e.lookup("Session"),"buttonType")]}},"\n\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("color"))},function(){return["\n        ",HTML.STYLE("\n            :root {\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("chatBg"))},function(){return["\n                    --chat-bg-color: ",Blaze.View("lookup:chatBg",function(){return Spacebars.mustache(e.lookup("chatBg"))}),";\n                    --chat-transparent-bg-color: rgba(",Blaze.View("lookup:hexToRgb",function(){return Spacebars.mustache(e.lookup("hexToRgb"),e.lookup("chatBg"))}),", 0);\n                "]}),"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("clientBubbleBg"))},function(){return["\n                    --client-bubble-bg: ",Blaze.View("lookup:clientBubbleBg",function(){return Spacebars.mustache(e.lookup("clientBubbleBg"))}),";\n                "]}),"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("agentBubbleBg"))},function(){return["\n                    --agent-bubble-bg: ",Blaze.View("lookup:agentBubbleBg",function(){return Spacebars.mustache(e.lookup("agentBubbleBg"))}),";\n                "]}),"\n            }\n        "),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("unreadCount"))},function(){return["\n            ",HTML.DIV({class:"unread-counter"},"\n                ",Blaze.View("lookup:unreadCount",function(){return Spacebars.mustache(e.lookup("unreadCount"))}),"\n            "),"\n        "]}),"\n\n        ",HTML.DIV({class:"container"},"\n            ",HTML.DIV({class:"container__inner",style:function(){return["\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("equal"),e.lookup("chatState"),"closed")},function(){return["\n                    ",Spacebars.With(function(){return Spacebars.call(e.lookup("color"))},function(){return["\n                        ",Blaze.If(function(){return Spacebars.call(e.lookup("buttonBg"))},function(){return["\n                            background-color: ",Blaze.View("lookup:buttonBg",function(){return Spacebars.mustache(e.lookup("buttonBg"))}),";\n                        "]}),"\n                    "]}),"\n                "]})]}},"\n                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"ready")},function(){return["\n                    ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                        ",Blaze.If(function(){return Spacebars.call(e.lookup("showDndOverlay"))},function(){return["\n                        ",HTML.DIV({class:"file-dnd-overlay","data-animate":"is-hidden","data-animate-removal-delay":"200"},"\n                            ",HTML.DIV({class:"file-dnd-overlay__row"},"\n                                ",HTML.DIV({class:"file-dnd-overlay__cell"},"\n                                    ",HTML.DIV("\n                                        ",HTML.DIV({class:"file-dnd-overlay__icon-wrapper"},"\n                                            ",HTML.SVG({class:"file-dnd-overlay__icon"},"\n                                                ",HTML.USE({"xlink:href":"#ei-arrow-up-icon"}),"\n                                            "),"\n                                        "),"\n\n                                        ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"dropToUpload")}),"\n                                    "),"\n                                "),"\n                            "),"\n                        "),"\n                        "]}),"\n                    "]}),"\n\n                    ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("client"))},function(){return Spacebars.include(e.lookupTemplate("header"))}),"\n\n                    ",HTML.DIV({class:"container__main-wrapper"},"\n                        ",HTML.DIV({class:function(){return["container__main ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"showForm")},function(){return"is-form"})]}},"\n                            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"loading")},function(){return["\n                                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"chatOpened")},function(){return["\n                                    ",Spacebars.include(e.lookupTemplate("spinner")),"\n                                "]}),"\n                            "]},function(){return["\n                                ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"showChatRatingTab")},function(){return["\n                                    ",Spacebars.include(e.lookupTemplate("chatRatingTab")),"\n                                "]}),"\n\n                                ",HTML.DIV("\n                                    ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                                        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("Session"),"showPreform")},function(){return["\n                                            ",HTML.DIV({"data-animate-removal-delay":"1000"},"\n                                                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("client"))},function(){return Spacebars.include(e.lookupTemplate("preform"))}),"\n                                            "),"\n                                        "]}),"\n                                    "]}),"\n                                "),"\n\n                                ",Spacebars.include(e.lookupTemplate("chatWrapper")),"\n                                ",Blaze._TemplateWith(function(){return Spacebars.call(e.lookup("clientId"))},function(){return Spacebars.include(e.lookupTemplate("inputArea"))}),"\n                            "]}),"\n                        "),"\n                    "),"\n                "]}),"\n            "),"\n        "),"\n    ")})},"template.form-item.js":function(){Template.__checkName("formItem"),Template.formItem=new Template("Template.formItem",function(){var e=this;return HTML.DIV({class:"form-item"},"\n        ",HTML.LABEL({for:function(){return Spacebars.mustache(e.lookup("get"),"labelId")},class:function(){return["form-label ",Blaze.If(function(){return Spacebars.call(e.lookup("labelHidden"))},function(){return"is-hidden"})]}},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),e.lookup("name"))})),"\n\n        ",HTML.DIV({class:"form-input-wrapper"},"\n            ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("equal"),e.lookup("type"),"textarea")},function(){return["\n                ",HTML.INPUT({id:function(){return Spacebars.mustache(e.lookup("get"),"labelId")},class:function(){return["form-input-wrapper__input form-input form-input--unobtrusive form-input--ellipsis js-input ",Spacebars.mustache(e.lookup("class"))," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("input"))},function(){return"is-empty"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return"is-invalid"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("autofocus"))},function(){return"js-autofocus-form"})]},"data-pattern":function(){return Spacebars.mustache(e.lookup("pattern"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},required:function(){return Spacebars.mustache(e.lookup("required"))},spellcheck:"false",autocorrect:"off",autocomplete:"off",type:function(){return Spacebars.mustache(e.lookup("type"))},value:function(){return Spacebars.mustache(e.lookup("value"))},name:function(){return Spacebars.mustache(e.lookup("name"))}}),"\n            "]},function(){return["\n                ",HTML.TEXTAREA({id:function(){return Spacebars.mustache(e.lookup("get"),"labelId")},class:function(){return["form-input-wrapper__input form-input form-input--textarea form-input--unobtrusive form-input--ellipsis js-input ",Spacebars.mustache(e.lookup("class"))," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("input"))},function(){return"is-empty"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("error"))},function(){return"is-invalid"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("autofocus"))},function(){return"js-autofocus-form"})]},"data-pattern":function(){return Spacebars.mustache(e.lookup("pattern"))},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},maxlength:function(){return Spacebars.mustache(e.lookup("maxlength"))},required:function(){return Spacebars.mustache(e.lookup("required"))},name:function(){return Spacebars.mustache(e.lookup("name"))},value:function(){return Spacebars.mustache(e.lookup("value"))}}),"\n            "]}),"\n\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("required"))},function(){return Blaze.Unless(function(){return Spacebars.call(e.lookup("input"))},function(){return["\n                ",HTML.DIV({class:"form-input-wrapper__required",title:function(){return Spacebars.mustache(e.lookup("L"),"requiredField")},"aria-label":function(){return Spacebars.mustache(e.lookup("L"),"requiredField")}},"*"),"\n            "]})}),"\n\n            ",Spacebars.With(function(){return Spacebars.call(e.lookup("error"))},function(){return["\n                ",HTML.P({class:"form-error-notice"},"\n                    ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                "),"\n            "]}),"\n        "),"\n    ")})},"template.header.js":function(){Template.__checkName("header"),Template.header=new Template("Template.header",function(){var e=this;return HTML.HEADER(HTML.Attrs({class:function(){return["header header--",Spacebars.mustache(e.lookup("agentsState"))," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("hostIsPaid"))},function(){return"header--logo"})," js-header"]},title:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("showButtonTip"))},function(){return Blaze.View("lookup:get",function(){return Spacebars.mustache(e.lookup("get"),"title")})})}},function(){return Spacebars.attrMustache(e.lookup("button"))}),"\n        ",HTML.DIV({class:"header__inner js-header-inner",style:function(){return["\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("equal"),e.lookup("chatState"),"closed")},function(){return["\n                ",Spacebars.With(function(){return Spacebars.call(e.lookup("color"))},function(){return["\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("buttonText"))},function(){return["\n                        color: ",Blaze.View("lookup:buttonText",function(){return Spacebars.mustache(e.lookup("buttonText"))}),";\n                    "]}),"\n                "]}),"\n            "]})]}},"\n            ",HTML.SPAN({class:"header__welcome-text"},"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("connected"))},function(){return["\n                    ",Blaze.View("lookup:get",function(){return Spacebars.mustache(e.lookup("get"),"title")}),"\n                "]},function(){return["\n                    ",HTML.SPAN({class:"header__disconnected"},"\n                        ",Spacebars.include(e.lookupTemplate("disconnected")),"\n                    "),"\n                "]}),"\n            "),"\n\n            ",HTML.SVG({class:"header__round-button-icon"},"\n                ",HTML.USE({"xlink:href":function(){return["#chat-icon-",Spacebars.mustache(e.lookup("chatIcon"))]}}),"\n            "),"\n\n            ",Blaze.Unless(function(){return Spacebars.call(e.lookup("isMobileWidget"))},function(){return["\n            ",HTML.DIV({class:"header__logo"},"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("hostIsPaid"))},function(){return["\n                    ",HTML.STRONG("···"),"\n                "]},function(){return["\n                    ",HTML.SPAN({class:"logo"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chatra.logo")})),"\n                "]}),"\n            "),"\n            "]}),"\n\n            ",HTML.DIV({class:"header__close",title:function(){return Spacebars.mustache(e.lookup("L"),"minimize")}},"\n                ",Blaze.If(function(){return Spacebars.call(e.lookup("isMobileWidget"))},function(){return["\n                    ",HTML.SVG({class:"header__close-icon"},"\n                        ",HTML.USE({"xlink:href":"#ei-close-icon"}),"\n                    "),"\n                "]},function(){return["\n                    ",HTML.SPAN({class:"header__close-symbol"},"\n                        ",HTML.CharRef({html:"&minus;",str:"−"}),"\n                    "),"\n                "]}),"\n            "),"\n        "),"\n    ")})},"template.input-area.js":function(){Template.__checkName("inputArea"),Template.inputArea=new Template("Template.inputArea",function(){var e=this;return HTML.DIV({class:function(){return["input-area-wrapper ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("Session"),"showChat")},function(){return"input-area-wrapper--hidden"})," js-input-area-wrapper"]}},"\n        ",HTML.DIV({class:function(){return["input-area js-input-area ",Blaze.If(function(){return Spacebars.call(e.lookup("inactive"))},function(){return"is-inactive"})," ",Blaze.Unless(function(){return Spacebars.call(e.lookup("statusConnected"))},function(){return"is-disconnected"})," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"isEmpty")},function(){return"is-empty"})]}},"\n            ",HTML.DIV({class:"input-area__row"},"\n                ",HTML.DIV({class:"input-area__input"},"\n                    ",HTML.TEXTAREA({class:function(){return["chat-textarea js-chat-textarea js-autofocus-chat ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"isEmpty")},function(){return"is-empty"})]},placeholder:function(){return Spacebars.mustache(e.lookup("placeholder"))},disabled:function(){return Spacebars.mustache(e.lookup("inactive"))},autocorrect:"off",autocomplete:"off",spellcheck:"true"}),"\n                "),"\n\n                ",HTML.DIV({class:function(){return["input-area__button-cell input-area__button-cell--rate ",Blaze.Unless(function(){return Spacebars.call(e.lookup("showRatingButton"))},function(){return"is-hidden"})]}},"\n                    ",HTML.BUTTON({class:"input-area__button js-rate-chat",title:function(){return Spacebars.mustache(e.lookup("L"),"chat.rate")},"aria-label":function(){return Spacebars.mustache(e.lookup("L"),"chat.rate")}},"\n                        ",HTML.SVG({class:"input-area__button-icon input-area__button-icon--stroke"},"\n                            ",HTML.USE({"xlink:href":"#ei-half-star-icon"}),"\n                        "),"\n                    "),"\n                "),"\n\n                ",HTML.LABEL({class:function(){return["input-area__button-cell input-area__button-cell--attachment ",Blaze.Unless(function(){return Spacebars.call(e.lookup("showFileInput"))},function(){return"is-hidden"})]},for:"file_upload_input",title:function(){return Spacebars.mustache(e.lookup("L"),"uploadFile")},"aria-label":function(){return Spacebars.mustache(e.lookup("L"),"uploadFile")}},"\n                    ",HTML.SVG({class:"input-area__button-icon"},"\n                        ",HTML.USE({"xlink:href":"#ei-paperclip-icon"}),"\n                    "),"\n\n                    ",HTML.FORM({class:"js-file-upload-form"},"\n                        ",HTML.Raw('<input class="js-file-upload-input" name="file" style="display: none;" id="file_upload_input" type="file">'),"\n\n                        ",HTML.Raw('<input type="hidden" name="UPLOADCARE_STORE" value="0">'),"\n                        ",HTML.INPUT({type:"hidden",name:"UPLOADCARE_PUB_KEY",value:function(){return Spacebars.mustache(e.lookup("uploadcarePublicKey"))}}),"\n                    "),"\n                "),"\n\n                ",HTML.DIV({class:"input-area__button-cell input-area__button-cell--submit"},"\n                    ",HTML.BUTTON({class:"input-area__button input-area__button--submit js-chat-submit-button",disabled:function(){return Spacebars.mustache(e.lookup("disabled"))},title:function(){return Spacebars.mustache(e.lookup("L"),"chat.button")},"aria-label":function(){return Spacebars.mustache(e.lookup("L"),"chat.button")}},"\n                        ",HTML.SPAN({class:"input-area__button-text"},"\n                            ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.button")}),"\n                        "),"\n                    "),"\n                "),"\n            "),"\n        "),"\n\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n            ",HTML.DIV({class:"input-area-wrapper__logo"},"\n                ",Blaze.View("lookup:chatraSlogan",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("chatraSlogan")))}),"\n            "),"\n        "]}),"\n    ")})},"template.preform-message.js":function(){Template.__checkName("preformMessage"),Template.preformMessage=new Template("Template.preformMessage",function(){var e=this;return[HTML.Raw('<div class="chat-message__userpic">\n            <span class="chatra-userpic"></span>\n        </div>\n\n        '),HTML.DIV({class:"chat-message__content"},"\n            ",HTML.DIV({class:"chat-message__bubble chat-bubble chat-bubble--operator"},"\n                ",HTML.DIV({class:"chat-bubble__message preform-bubble"},"\n                    ",HTML.DIV({class:"preform-bubble__message"},"\n                        ",HTML.LABEL({for:function(){return[Spacebars.mustache(e.lookup("_id")),"__input"]}},Blaze.View("lookup:message",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("message")))})),"\n                    "),"\n\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("showInput"))},function(){return["\n                        ",HTML.DIV({class:"preform-bubble__input"},"\n                            ",HTML.INPUT({id:function(){return[Spacebars.mustache(e.lookup("_id")),"__input"]},type:"text",class:"form-input form-input--blink js-show-preform",placeholder:function(){return[Spacebars.mustache(e.lookup("L"),"name.your"),"..."]}}),"\n                        "),"\n                    "]},function(){return["\n                        ",HTML.DIV({class:"preform-bubble__info"},"\n                            ",HTML.DIV({class:"preform-bubble__info-text"},Blaze.View("lookup:info",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("info")))})),"\n                            ",HTML.BUTTON({class:"preform-bubble__button text-button js-show-preform"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"change")})),"\n                        "),"\n                    "]}),"\n                "),"\n            "),"\n        ")]})},"template.preform.js":function(){Template.__checkName("preform"),Template.preform=new Template("Template.preform",function(){var e=this;return HTML.DIV({class:"preform"},"\n        ",HTML.DIV({class:"scroller"},"\n            ",HTML.DIV({class:"scroller__inner js-scroller"},"\n                ",HTML.DIV({class:"scroller__shaft"},"\n                    ",HTML.DIV({class:"form-item"},"\n                        ",HTML.DIV({class:"form-tip form-tip--before form-tip--spacer color--tinted"},"\n                            ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                                ",Spacebars.With(function(){return Spacebars.call(e.lookup("note"))},function(){return["\n                                    ",HTML.SPAN({"data-animate-removal-delay":"1000"},Blaze.View("lookup:.",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup(".")))})),"\n                                "]},function(){return["\n                                    ",HTML.SPAN({"data-animate-insert":"hidden","data-animate-insertion-delay":"1000"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"chat.introduce")}),":"),"\n                                "]}),"\n                            "]}),"\n                        "),"\n                    "),"\n\n                    ",HTML.FORM({class:"js-preform"},"\n                        ",Blaze._TemplateWith(function(){return{client:Spacebars.call(e.lookup(".")),name:Spacebars.call("name"),placeholder:Spacebars.call("name.your"),required:Spacebars.call(Spacebars.dot(e.lookup("hostSettings"),"preform","nameRequired")),autofocus:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("formItem"))}),"\n\n                        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("hostSettings"),"preform","email"))},function(){return["\n                            ",Blaze._TemplateWith(function(){return{client:Spacebars.call(e.lookup(".")),name:Spacebars.call("email"),pattern:Spacebars.call("email"),type:Spacebars.call("email"),required:Spacebars.call(Spacebars.dot(e.lookup("hostSettings"),"preform","emailRequired")),autofocus:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("formItem"))}),"\n                        "]}),"\n\n                        ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("hostSettings"),"preform","phone"))},function(){return["\n                            ",Blaze._TemplateWith(function(){return{client:Spacebars.call(e.lookup(".")),name:Spacebars.call("phone"),type:Spacebars.call("tel"),required:Spacebars.call(Spacebars.dot(e.lookup("hostSettings"),"preform","phoneRequired")),autofocus:Spacebars.call(1)}},function(){return Spacebars.include(e.lookupTemplate("formItem"))}),"\n                        "]}),"\n\n                        ",HTML.DIV({class:"form-item form-item--single"},"\n                            ",HTML.BUTTON({class:function(){return["button button--chtr ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"loading")},function(){return"is-loading"})]},type:"submit",disabled:function(){return Spacebars.mustache(e.lookup("disabled"))}},"\n                                ",HTML.SPAN({class:"button__inner"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"save")})),"\n                            "),"\n\n                            ",Spacebars.include(e.lookupTemplate("animate"),function(){return["\n                                ",Blaze.If(function(){return Spacebars.call(e.lookup("okToCancel"))},function(){return["\n                                    ",HTML.BUTTON({class:"button button--transparent js-cancel","data-animate-insert":"hidden","data-animate-insertion-delay":"1000",type:"button"},"\n                                        ",HTML.SPAN({class:"button__inner"},Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"cancel")}))),"\n                                "]}),"\n                            "]}),"\n\n                            ",Spacebars.With(function(){return Spacebars.dataMustache(e.lookup("get"),"error")},function(){return["\n                                ",HTML.P({class:"form-error-notice"},"\n                                    ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n                                "),"\n                            "]}),"\n                        "),"\n                    "),"\n\n                    ",Blaze.If(function(){return Spacebars.call(e.lookup("logo"))},function(){return["\n                        ",HTML.DIV({class:"modal-logo"},"\n                            ",Blaze.View("lookup:chatraSlogan",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("chatraSlogan")))}),"\n                        "),"\n                    "]}),"\n                "),"\n            "),"\n        "),"\n    ")})},"template.rated-chat-message.js":function(){Template.__checkName("ratedChatMessage"),Template.ratedChatMessage=new Template("Template.ratedChatMessage",function(){var e=this;return HTML.DIV({class:"service-message service-message--ratedChat chat-rating-message"},"\n            ",HTML.SPAN({class:"chat-rating-message__label"},"\n                ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"messageTypes.ratedChat")}),"\n            "),"\n\n            ",HTML.SVG({class:function(){return["chat-rating-message__icon like-icon like-icon--",Blaze.If(function(){return Spacebars.call(e.lookup("rating"))},function(){return"like"},function(){return"dislike"})]}},"\n                ",HTML.TITLE(Blaze.If(function(){return Spacebars.call(e.lookup("rating"))},function(){return"👍"},function(){return"👎"})),"\n                ",HTML.USE({"xlink:href":"#ei-like-icon"}),"\n            "),"\n    ")})},"template.service-message.js":function(){Template.__checkName("serviceMessage"),Template.serviceMessage=new Template("Template.serviceMessage",function(){var e=this;return HTML.DIV({class:function(){return["service-message service-message--",Spacebars.mustache(e.lookup("type"))]}},"\n        ",Blaze.View("lookup:message",function(){return Spacebars.mustache(e.lookup("message"))}),"\n    ")})},"template.welcome-message.js":function(){Template.__checkName("welcomeMessage"),Template.welcomeMessage=new Template("Template.welcomeMessage",function(){var e=this;return[HTML.DIV({class:"welcome-message"},"\n        ",HTML.DIV({class:"welcome-message__row"},"\n            ",HTML.DIV({class:"welcome-message__faces"},"\n                ",Blaze.Each(function(){return Spacebars.dataMustache(e.lookup("get"),"operators")},function(){return HTML.DIV({class:"welcome-message__face",title:function(){return Spacebars.mustache(e.lookup("displayName"),e.lookup("profile"))}},"\n                    ",Blaze._TemplateWith(function(){return{profile:Spacebars.call(e.lookup("profile")),size:Spacebars.call("48"),mods:Spacebars.call("border")}},function(){return Spacebars.include(e.lookupTemplate("userpic"))}),"\n                ")}),"\n            "),"\n            ",HTML.DIV({class:"welcome-message__message"},"\n                ",Blaze.View("lookup:get",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("get"),"welcome"))}),"\n            "),"\n        "),"\n    "),"\n\n    ",Blaze.Unless(function(){return Spacebars.dataMustache(e.lookup("get"),"onlineCount")},function(){return["\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("lastActive"))},function(){return["\n            ",HTML.DIV({class:"service-message service-message--active"},"\n                ",Blaze.View("lookup:.",function(){return Spacebars.mustache(e.lookup("."))}),"\n            "),"\n        "]}),"\n    "]})]})},"chat-message.js":function(){function e(e,t){return e>t?Math.max(Math.min(e,r),n):Math.max(e/t*Math.min(t,r),n)}function t(e){return e.isImage&&Chtr.isImage(e.mimeType)}var n=60,r=300;Meteor.startup(function(){Tracker.autorun(function(){Session.set("servedByMany",_.size(_._compact(_._property(Chtr.client({servedBy:1}),"servedBy")))>1)})});var o,a,i=new ReactiveDict,s=new ReactiveDict,c=function(){return i.get(this._id)||s.get(this._id)},u=0;Template.chatMessage.onCreated(function(){var e=this;e.data.userId||e.data.type||(e.seen=new ReactiveVar,e.saved=new ReactiveVar,e.autorun(function(t){var n=Template.currentData(),r=Chtr.client(["readAt","servedBy"]),c=_.max(_.pick(_._property(r,"readAt"),_.keys(_._property(r,"servedBy")||{})));Chtr.shouldShowMessage(n)&&c&&n.createdAt&&(c<n.createdAt?(!a||n.createdAt>a.createdAt&&n._id!==a._id)&&(console.info("last not seen",n._id),s.set(n._id,!0),a&&s.set(a._id),a=n):(e.seen.set(!0),(!o||n.createdAt>o.createdAt)&&(i.set(n._id,!0),o&&i.set(o._id),o=n),t.stop()),n.saved?e.saved.set(!t.unsaved||Session.get("chatStarted")):t.unsaved=!0,console.log("Template.chatMessage; autorunCount:",u))}))}),Template.chatMessage.helpers({show:function(){return console.log("Template.chatMessage.show"),Chtr.shouldShowMessage(this)},showName:function(){return!this.type&&!!this.userId&&Session.get("servedByMany")},username:function(){return this.userId&&Chtr.displayName(_._property(Meteor.users.findOne(this.userId,{fields:{profile:1}}),"profile"))},userTitle:function(){return this.userId&&Chtr.userTitle(_._property(Meteor.users.findOne(this.userId,{fields:{profile:1}}),"profile"))},showJoinedUserpic:function(){return!!_._property(Meteor.users.findOne(this.userId,{fields:{profile:1}}),"profile.photo.cdnUrl")},isServiceMessage:function(){return!!this.type},showUserpic:function(){return!!this.userId},who:function(){return this.userId||this.type?"operator":"client"},message:function(){
return chatParser(this.message)},mask:function(){return chatParser(this.message,{mask:'<span class="bubble__dot"></span>'})},joined:function(){return"joined"===this.type&&!this.repeated},serviceMessageTemplate:function(){return"welcome"===this.type?"welcomeMessage":this.type.match(/^preform/)?"preformMessage":"ratedChat"==this.type?"ratedChatMessage":"serviceMessage"},createdAt:function(){return Chtr.date.when(this.createdAt)},createdAtShort:function(){return Chtr.date.time(this.createdAt)},createdAtISO:function(){return Chtr.date.ISOUTC(this.createdAt)},when:function(){return Chtr.date.when(this.createdAt)},sendWarning:function(){return Chtr.sendWarning()},unsent:function(){return c.call(this)&&Chtr.sendWarning()},sent:function(){return Chtr.date.when(this.createdAt,{moment:"sent"})},showStatus:c,flexStatus:function(){var e=this;return"offline"===e.beforeSmartWhen&&Tracker.nonreactive(function(){return e.createdAt>=_._property(Chtr.client(["sessionCreatedAt"]),"sessionCreatedAt")})},isOperatorAvailable:function(){return Chtr.isOperatorAvailable(Meteor.users.findOne(this.userId),{filter:function(e){return Chtr.isOperatorVisible(e,Chtr.client(["servingBy"]))}})},thumbWidth:function(){return e(this.file.imageInfo.width,this.file.imageInfo.height)},thumbPadding:function(){var t=e(this.file.imageInfo.width,this.file.imageInfo.height),r=e(this.file.imageInfo.height,this.file.imageInfo.width),o=r/t;return o*t>n?100*o+"%":n+"px"},isImage:function(){return t(this.file)},progress:function(){var e=this._id,n=Chtr.uploads.progress.get(e);return n>1||!t(this.file)?n:1},fileUploadComplete:function(){var e=this._id,t=Chtr.uploads.progress.get(e);return 100==t||this.file.uploadComplete},imgSrc:function(){var e=this._id;return Chtr.uploads.blob.get(this._id)||this.file.id&&"https://ucarecdn.com/"+this.file.id+"/-/preview/"+2*r+"x"+2*r+"/-/quality/lighter/"}})},"chat-rating-tab.js":function(){Template.chatRatingTab.onCreated(function(){var e=this,t=!!_._property(Chtr.client({latestImpression:1}),"latestImpression");e.loading=new ReactiveVar,e.error=new ReactiveVar,e.rated=new ReactiveVar(t),e.alreadyRated=t}),Template.chatRatingTab.onRendered(function(){var e=this,t=e.$(".js-scroller"),n=e.$(".js-comment");e.customScrollbar=new CustomScrollbar(t),e.autorun(function(t){e.rated.get()&&(Tracker.afterFlush(function(){e.responsiveTextarea=new ResponsiveTextarea(n,{minRows:2,maxRows:7,handleEnter:!1}),!Sniff.features.mobile&&n.focus()}),t.stop())})}),Template.chatRatingTab.onDestroyed(function(){var e=this;e.customScrollbar&&e.customScrollbar.kill(),e.responsiveTextarea&&e.responsiveTextarea.kill()}),Template.chatRatingTab.helpers({comment:function(){return _._property(Chtr.client({"latestImpression.comment":1}),"latestImpression.comment")},rating:function(e){return _._property(Chtr.client({"latestImpression.rating":1}),"latestImpression.rating")==e}}),Template.chatRatingTab.events({"click .js-cancel":function(e,t){Session.set("showChatRatingTab",!1)},"change .js-rating":function(e,t){t.rated.set(!0)},"submit .js-rating-form":function(e,t){if(e.preventDefault(),!t.loading.get()){t.loading.set(!0),t.error.set(!1);var n=$(e.currentTarget),r=Chtr.parseFormData(n.serializeArray(),{plain:!0});Meteor.call("rateChat",{clientId:Chtr.clientId(),hostId:Chtr.hostId(),data:r},function(e,n){return t.loading.set(!1),e?(t.error.set(L("error."+e.reason)||e.reason),void console.warn(e.error,e.reason)):(Chtr.postMessage("analyticsEvent","Chat rated"),void Session.set("showChatRatingTab",!1))})}}})},"chat-view.js":function(){Chtr.messages=new Mongo.Collection("messages",{connection:null}),Template.chatView.onCreated(function(){var e=this;e.id=e.data.id,e.limit=e.data.limit||25,e.skip=0;var t=Chtr.now(),n=t-t%6e4;e.historyDivider=n,e.isReady=new ReactiveVar,e.isAtBottom=new ReactiveVar,e.isGettingHistory=new ReactiveVar,e.isFinished=new ReactiveVar,e.isSubReady=new ReactiveVar,e.group=new Chtr.groupMessages;var r=Chtr.client({sessionCreatedAt:1}),o=_._property(r,"sessionCreatedAt");if(o&&(o>=e.historyDivider||!Session.get("chatStarted"))){var a={_id:Random.id(),clientId:r._id,type:"welcome",ready:!0,createdAt:Math.min(o,e.historyDivider)};Chtr.messages.insert(a),e.group.addAt(a,0),e.skip++,e.miniWelcome=a}});var e,t;Template.chatView.helpers({messages:e=function(){return Chtr.messages.find({},{sort:{createdAt:1}})},count:t=function(){return Chtr.messages.find({ready:!0,type:null}).count()},underWelcome:function(){return Session.get("showWelcome")!==!1}}),Template.chatView.onRendered(function(){var e=this;e.observer=Messages.find({clientId:e.id,ready:!0},{sort:{createdAt:1}}).observe({addedAt:function(t,n,r){if(Chtr.messages.upsert(t._id,{$set:_.omit(t,"_id")}),n+=e.skip,e.group.addAt(t,n),e.updateScroller(n,!t.userId),t.smart&&e.miniWelcome){var o=e.group.findMessageIndex(e.miniWelcome);Chtr.messages.remove(e.miniWelcome._id),e.group.removeAt(e.miniWelcome,o),e.updateScroller(o),e.skip--,e.miniWelcome=null}},changedAt:function(t,n,r){Chtr.messages.update(t._id,t,{replace:!0}),r+=e.skip,e.group.changeAt(t,r),e.updateScroller(r,!t.userId)},movedTo:function(t,n,r,o){Chtr.messages.update(t._id,t,{replace:!0}),n+=e.skip,r+=e.skip,e.group.moveTo(t,n,r),e.updateScroller([n,r])},removedAt:function(t,n){Chtr.messages.remove(t._id),n+=e.skip,e.group.removeAt(t,n),e.updateScroller(n)}});var n=_._property(Chtr.client({sessionCreatedAt:1}),"sessionCreatedAt");Session.set("showWelcome"),e.autorun(function(n){if(t())Session.set("showWelcome",!1),n.stop();else if(e.isFinished.get())Session.set("showWelcome",!0);else{var r=Chtr.client({phantom:1,hasHistory:1}),o=!!_._property(r,"phantom")&&!_._property(r,"hasHistory");Session.set("showWelcome",o)}}),e.sub=Chtr.subscribe("actualMessages",e.id,e.historyDivider),e.autorun(function(t){var n=e.sub.ready();e.isSubReady.set(n),n&&Session.get("chatFullyOpened")&&(Tracker.afterFlush(function(){e.group.groupAt(),e.showAfterFlush(),e.scrollDown(),e.isReady.set(!0),console.log("refresh scroll"),e.scrollEdger.refresh()}),t.stop())}),e.$scroller=e.$(".js-chat-scroller"),e.$shaft=e.$(".js-chat-shaft"),e.showAfterFlush=function(){e.$(".js-show-after-flush").removeClass("js-show-after-flush")},e.scrollDown=function(t,n){n=n||e.$shaft.height(),"number"==typeof t&&("gecko"==Sniff.browser.engine?(e.$shaft.css({top:t+"px",transitionDuration:"0s"}),setTimeout(function(){e.$shaft.css({top:"",transitionDuration:""})},0)):(e.$shaft.css({transform:"translate(0,"+t+"px)",transitionDuration:"0s"}),setTimeout(function(){e.$shaft.css({transform:"",transitionDuration:""})},0))),t===!0?e.$scroller.animate({scrollTop:n},300):e.$scroller.scrollTop(n)},e.updateScroller=function(t,n){e.isReady.get()&&Session.get("chatFullyOpened")&&Tracker.afterFlush(function(){var r=e.isAtBottom.get(),o=r||n,a=r&&e.$shaft.height();"undefined"!=typeof t&&e.group.groupAt(t),e.showAfterFlush(),o&&e.scrollDown(!!a&&e.$shaft.height()-a,a)})},e.customScrollbar=new CustomScrollbar(e.$scroller);var r;e.scrollEdger=new ScrollEdges(e.$scroller,{throttle:Sniff.features.mobile?500:100,atTop:[{threshold:"50%",enter:function(){e.isGettingHistory.set(!0),clearTimeout(r),e.isAtBottom.set(),Meteor.call("getHistoryMessages",e.id,e.historyDivider,e.limit,e.skip-(e.miniWelcome?1:0),function(t,n){if(t)return e.isGettingHistory.set(),console.warn("Can’t get history messages; template.id:",e.id);var r=function(){var t=e.$shaft.height();n.length&&e.group.groupAt(_.range(n.length)),e.showAfterFlush(),e.$scroller.scrollTop(e.$scroller.scrollTop()+(e.$shaft.height()-t)),e.isGettingHistory.set(),e.isFinished.get()||e.scrollEdger.refresh()};n.length?(Chtr.messages._collection.pauseObservers(),_.each(n,function(t){Chtr.messages.insert(t),e.group.addAt(t,0),e.skip++}),Chtr.messages._collection.resumeObservers()):e.isFinished.set(!0),Tracker.afterFlush(r)})},leave:function(){},disable:function(){return!e.isReady.get()||e.isGettingHistory.get()||!Session.get("chatFullyOpened")||e.isFinished.get()}}],atBottom:[{threshold:65,enter:function(){clearTimeout(r),r=setTimeout(function(){e.isAtBottom.set(!0)},100)},leave:function(){clearTimeout(r),r=setTimeout(function(){e.isAtBottom.set()},100)},disable:function(){return!Session.get("chatFullyOpened")}}]}),e.autorun(function(){e.updateScroller()}),e.autorun(function(t){if(Session.get("showChat")&&Session.get("chatFullyOpened")&&e.isAtBottom.get()&&e.isReady.get()&&!e.isGettingHistory.get()){var n=Chtr.client({lastMessage:1}),r=n&&n._id,o=_._property(n,"lastMessage");if(o&&o.userId){var a=o.createdAt;(t.updatedAt||0)<a&&(Chtr.markClientAsRead(r,a),t.updatedAt=a)}}}),e.updateScrollOnResize=function(){Session.get("chatFullyOpened")&&(e.isAtBottom.get()?e.scrollDown():e.scrollEdger.refresh())},$document.on("inputHeightChange.chatView:"+e.id,function(t,n){e.updateScrollOnResize()}),$window.on("resize.chatView:"+e.id,e.updateScrollOnResize)}),Template.chatView.onDestroyed(function(){var e=this;e.sub.stop(),e.observer.stop(),delete e.group,Chtr.messages.remove({}),e.customScrollbar.kill(),e.scrollEdger.kill(),e.$scroller.off(),$document.off(".chatView:"+e.id),$window.off(".chatView:"+e.id)})},"chat-welcome.js":function(){function e(){return Math.min(Session.get("availableOperators")||Meteor.users.find().count(),Chtr.getVar("maxOperatorsCount"))}function t(){var e=window.innerWidth;return e>320?3:e>280?2:1}Template.chatWelcome.onCreated(function(){var e=this;e.maxOperatorsCount=new ReactiveVar,e.operators=new ReactiveVar,e.operatorsCount=new ReactiveVar,e.onlineCount=new ReactiveVar,e.autorun(function(){Session.get("chatFullyOpened")&&e.maxOperatorsCount.set(t())}),$window.on("resize orientationchange",_.throttle(function(){Session.get("chatFullyOpened")&&e.maxOperatorsCount.set(t())},300)),e.autorun(function(t){var n=Chtr.operatorsForWelcome({mixAvatars:!0,availableOperators:Session.get("availableOperators")}),r=n.inPrinciple;console.log("chat-welcome.js; inPrinciple:",r),n&&t.inPrinciple!==r&&(e.operators.set(n.operators),e.operatorsCount.set(n.operators.length),e.onlineCount.set(n.onlineCount),t.inPrinciple=r)})}),Template.chatWelcome.onRendered(function(){var e=this;e.$scroller=e.$(".js-welcome-scroller"),e.customScrollbar=new CustomScrollbar(e.$scroller)}),Template.chatWelcome.onDestroyed(function(){var e=this;e.customScrollbar.kill(),e.$scroller.off()}),Template.chatWelcome.helpers({welcome:function(){return Chtr.hostSettings(),chatParser(L("customStrings."+(Session.get("availableOperators")?"welcome":"offlineNote")))},userpicSize:function(){switch(Chtr.getVar("operatorsCount")){case 1:return 80;case 2:return 72;case 3:return 64}}})},"chat-wrapper.js":function(){Template.chatWrapper.onRendered(function(){var e=this;e.$wrapper=e.$(".js-chat-wrapper"),$document.on("inputHeightChange.chatWrapper",function(t,n){console.log("$document.inputHeightChange; height:",n),e.$wrapper.css("bottom",n+"px")})}),Template.chatWrapper.onDestroyed(function(){$document.off(".chatWrapper")})},"chat.js":function(){Chtr.rawClientSelector={};var e=Chtr.queryParams,t=Chtr.rawClientSelector.hostId=e.hostId,n=Chtr.hostname=e.currentPage?Chtr.url(e.currentPage).host:Chtr.getHostedItem("lastHostname")||t,r=Chtr.rawClientSelector.id=e.clientId||Chtr.getDomainItem("clientId")||Random.id();Meteor.startup(function(){Chtr.hostname!==t&&Chtr.setHostedItem("lastHostname",Chtr.hostname),Chtr.setDomainItem("clientId",r)}),Template.chat.onCreated(function(){Chtr.clientData=_._compact(_.extend({userAgent:navigator.userAgent,browserLanguage:Chtr.getBrowserLanguage()},_.pick(e,["currentPage","currentPageTitle","referrer"]))),Chtr.saveClientData(Chtr.clientData),Chtr.subscribeAndCache(["host",{hostId:t,host:Chtr.hostname}],{collection:HostsPubSub,localCollection:Hosts}),Chtr.subscribeAndCache(["agents",{hostId:t}],{collection:UsersPubSub,localCollection:Meteor.users});var n=this;console.log("Template.chat.onCreate"),n.autorun(function(e){if(Session.get("ready")){Chtr.clientData.displayedLanguage=Session.get("Localizer.language");var t=Chtr.isRecentSubscriber();if(console.log("Template.chat.onCreate; recentVisitor:",t),Chtr.getClient({subscribe:t}),Chtr.isInFrame){$document.on("message:clientData",function(e,t){_.extend(Chtr.clientData,t),Chtr.onClientReady(function(e,t){Meteor.call("updateClientSession",e,Chtr.clientData,{timeDiff:t})})}),Chtr.postMessage("readyToRetriveData");var n=Chtr.getClientItem("chatStartedAt"),r=Chtr.getDomainItem("visitOpenedAt"),o=Chtr.getClientItem("lastHumanMessageAt");!Chtr.isMobileWidget()&&Chtr.getDomainItem("chatOpened")&&!Session.get("chatOpened")&&n&&o&&n<=o&&n>=r&&Chtr.openChat(!0,!1,!0)}else Chtr.onClientReady(function(e,t){if(Meteor.call("updateClientSession",e,Chtr.clientData,{timeDiff:t}),Chtr.queryParams.updateIntegration||Chtr.queryParams.integration){var n=!!Chtr.queryParams.updateIntegration,r;try{r=JSON.parse(Chtr.queryParams.updateIntegration||Chtr.queryParams.integration),Meteor.call("setClientIntegration",e,r,n)}catch(e){}}});e.stop()}})}),Template.chat.onRendered(function(){var e=this;Sniff.features.mobile||$document.on("autofocus.chat",function(){setTimeout(function(){Session.get("chatOpened")&&!Session.get("loading")&&e.$(".js-autofocus-"+(Session.get("showChat")?"chat":"form")).eq(0).focus()},100)})}),Template.chat.helpers({hexToRgb:function(e){return"transparent"==e?"0,0,0":(e=e.replace("#",""),3==e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[e.substr(0,2),e.substr(2,2),e.substr(4,2)].map(function(e){return parseInt(e,16)}).join(","))},showDndOverlay:function(){return Chtr.hostIsPaid()&&Session.get("chatFullyOpened")&&Session.get("draggingFile")},unreadCount:function(){if(Session.get("chatFullyClosed")){var e=_._property(Chtr.client({unreadCount:1}),"unreadCount");return Math.min(e||0,99)}}})},"form-item.js":function(){function e(e){return e.value||Chtr.clientValue(e.client,e.name)||Chtr.getDomainItem(e.name)}Template.formItem.onCreated(function(){var e=this;e.input=new ReactiveVar,e.labelId=Random.id()}),Template.formItem.onRendered(function(){var e=this;e.$(".js-input").trigger("_input")}),Template.formItem.helpers({value:function(){return e(this)},labelHidden:function(){return"trident"!=Sniff.browser.engine&&!Chtr.getVar("input")},input:function(){return Chtr.getVar("input")},placeholder:function(){var e=_._property(this.client,"integrationData."+this.name);return"trident"==Sniff.browser.engine?e:e||(this.placeholder?L(this.placeholder):L(this.name))},type:function(){return this.type||"text"},autofocus:function(){return this.autofocus&&!e(this)}}),Template.formItem.events({"input .js-input, _input .js-input":function(e,t){var n=e.currentTarget,r=$(n),o=r.val();t.input.set(o),Chtr.setDomainItem(r.attr("name"),o)}})},"header.js":function(){var e=function(){var e=Chtr.client({servingBy:1});if(e){var t=[];return _.each(e.servingBy,function(e,n){if(e){var r=Meteor.users.findOne(n);r&&r.online&&t.push(r)}}),_.map(t,function(e){return _.extend(e,{name:Chtr.displayName(e.profile)})}),t.sort(function(e,t){return+(e.name>t.name)||-(e.name<t.name)||0}),_.map(_.pluck(t,"profile"),Chtr.displayName).join(", ")}};Template.header.onCreated(function(){var t=this;t.title=new ReactiveVar,t.autorun(function(){var n=e(),r=Session.get("chatOpened"),o=Session.get("availableOperators")?n&&r?n:Chtr.isMobileWidget()&&!r?L("mobile.chat"):L("customStrings.chatWithUs"):Chtr.isMobileWidget()&&!r?L("mobile.message"):L("customStrings.leaveUsAMessage");console.log("Template.header.onRender; title:",o),t.title.set(o),document.title=o+(Chtr.logo()?" "+L("chatra.logo"):"")})}),Template.header.onRendered(function(){function e(){window.innerHeight<a?n.css("max-width",window.innerHeight-o):n.css("max-width","")}var t=this,n=t.$(".js-header"),r=t.$(".js-header-inner"),o=11,a;t.autorun(function(e){if(Chtr.isMobileWidget()||Chtr.hostSettings("adjustLabelToText")||{left:1,right:1}[Session.get("widgetSide")]){var i=t.title.get(),s=Session.get("buttonType");if(!Session.get("chatOpened")){if(e.title==i&&e.buttonType==s)return;e.title=i,e.buttonType=s,Tracker.afterFlush(function(){r.css("max-width","none"),n.css("display","block"),a=r[0].scrollWidth+o,Chtr.postMessage("labelWidth",a),n.css("display",""),r.css("max-width","")})}}else e.title=void 0,Chtr.postMessage("labelWidth",null)}),t.autorun(function(){({left:1,right:1})[Session.get("widgetSide")]&&Session.get("chatFullyClosed")?(e(),$window.on("resize.header",e)):($window.off("resize.header"),n.css("max-width",""))}),Tracker.afterFlush(function(){Chtr.postMessage("headerReady")})}),Template.header.helpers({button:function(){if(Chtr.isWidget())return{tabindex:0,role:"button"}},connected:function(){return Chtr.statusConnected()||!Session.get("chatOpened")},agentsState:function(){return!Session.get("availableOperators")||!Chtr.statusConnected()&&Session.get("chatOpened")?"offline":"online"},chatIcon:function(){return Chtr.hostIsPaid()?Chtr.hostSettings().buttonIcon||"chatra":"chatra"},showButtonTip:function(){return"round"==Session.get("buttonType")&&Session.get("chatFullyClosed")}}),Template.header.events({"click .js-header, keypress .js-header":function(e,t){"keypress"==e.type&&13!==e.keyCode&&10!==e.keyCode||Chtr.isWidget()&&(U.checkEventHandled(e)||(Session.get("chatOpened")?(console.log("Template.header... close chat; event",e),!Session.get("targetedChatRejected")&&!Session.get("chatStarted")&&Chtr.getDomainItem("targetedChatShownAt")>Chtr.getDomainItem("pageOpenedAt")&&(Chtr.postMessage("analyticsEvent","Targeted chat rejected by visitor"),Chtr.setDomainItem("targetedChatRejectedAt",Chtr.now()),Session.set("targetedChatRejected",!0)),Chtr.openChat(!1)):(console.log("Template.header... open chat; event",e),Chtr.openChat(!0,!0)),U.markEventHandled(e)))}})},"input-area.js":function(){function e(e,t){return!(e>1024*o*1024)||(t&&alert(L("maximumFileSize",{size:o})),!1)}function t(t,n,r){if(r||e(n.size,!0)){var o=new FormData,a=n.name;o.append("UPLOADCARE_STORE",0),o.append("UPLOADCARE_PUB_KEY",Meteor.settings.public.uploadcarePublicKey);var i=Random.id();Chtr.uploads.progress.set(i,0),Chtr.getImageOrientation(n,function(s){function c(e,n){console.warn(e),$document.off("cancelUpload:"+i),Meteor.call("fileUploadFailed",t,i,!!n,function(e,t){e&&console.warn("fileUploadFailed ->",e.reason,e)})}var u=s>4,l={clientId:t,createdAt:Chtr.now(),file:{connectionId:Chtr.connectionId,cdn:"uploadcare",fileName:n.name,size:n.size,mimeType:n.type,isImage:!!r,imageInfo:r?{width:u?r.height:r.width,height:u?r.width:r.height}:null}};console.log("uploadFile message",l),Meteor.call("insertFile",i,l,function(u){if(u)return void console.warn("insertFile -> error",u.reason,u);var l=!1;console.info("file inserted:",i),$document.on("cancelUpload:"+i,function(){l=!0,c("Cancelled",!0)}),Chtr.shrinkImage(r,{skip:!r||"image/gif"==n.type&&e(n.size),mime:n.type,orientation:s},function(s,u){return s||(n=u),e(n.size,!0)?(r&&Chtr.blobToImg(n,function(e,t){Chtr.shrinkImage(t,{skip:!t,mime:n.type,size:36e4,killAnimation:"image/gif"==n.type},function(e,t){t=t||n,Chtr.uploads.blob.set(i,window.URL.createObjectURL(t)),window.URL.revokeObjectURL(t)})}),o.append("file",n,a),void HTTP.call("POST","https://upload.uploadcare.com/base/",{content:o,beforeSend:function(e){if(l)return!1;$document.off("cancelUpload:"+i).on("cancelUpload:"+i,function(){l=!0,e.abort()});var t=0;e.upload&&e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var n=e.loaded/e.total*100;console.info("Progress",n),n>t&&(Chtr.uploads.progress.set(i,n),t=n)}},!1)}},function(e,n){if($document.off("cancelUpload:"+i),e||!n.data||!n.data.file)return void c(e||"Invalid response!",l);console.info(n);var r=n.data.file;Meteor.call("fileUploaded",t,i,r,function(e,t){e&&(console.warn("fileUploaded ->",e.reason,e),c(e))})})):void c("File zise limit exceeded")})})})}}Template.inputArea.onCreated(function(){var e=this;e.isEmpty=new ReactiveVar((!0)),e.oneMoreMessage=new ReactiveVar((!1)),e.sendCount=0}),Template.inputArea.onRendered(function(){var e=this,t=e.$(".js-chat-textarea");e.$inputAreaWrapper=e.$(".js-input-area-wrapper"),e.$inputArea=e.$(".js-input-area"),e.$textarea=t,e.$submitButton=e.$(".js-chat-submit-button"),e.$fileForm=e.$(".js-file-upload-form"),e.onHeightChange=function(){$document.trigger("inputHeightChange",[e.$inputAreaWrapper.outerHeight()])},e.responsiveTextarea=new ResponsiveTextarea(t,{maxRows:5,onHeightChange:e.onHeightChange}),e.customScrollbar=new CustomScrollbar(t),$document.on("inputHeightChange.inputArea",function(){e.customScrollbar.refresh()});var n;if(e.autorun(function(e){Session.get("showChat")&&Tracker.afterFlush(function(){console.log("Template.chatInputArea → autorun → $textarea.val(message.message)"),t.val()||U.scrollDown(t.val(Chtr.getDomainItem("offlineMessage")).trigger("contentchange")),n=!0})}),e.autorun(function(){Chtr.host(),Tracker.afterFlush(function(){e.onHeightChange()})}),Modernizr.filereader&&Modernizr.bloburls){var r=_.debounce(function(){Session.set("draggingFile",!1)},100);$("body").on("dragover",function(e){e.preventDefault(),Session.set("draggingFile",!0),r()}).on("dragend drop",function(e){e.preventDefault(),Session.set("draggingFile",!1)}).on("drop",function(t){Session.get("chatFullyOpened")&&(e.droppedFile=_._property(t,"originalEvent.dataTransfer.files.0"),e.droppedFile&&e.$fileForm.submit())})}}),Template.inputArea.onDestroyed(function(){var e=this;e.customScrollbar.kill(),e.responsiveTextarea.kill(),$document.off(".inputArea")}),Template.inputArea.helpers({placeholder:function(){return Chtr.statusConnected()?Chtr.needToPreform()?L("chat.input.notIntroduced"):Chtr.getVar("oneMoreMessage")?L("chat.input.oneMore"):L("chat.input.placeholder"):L("status.failed")},inactive:function(){return Chtr.needToPreform()||_._property(Chtr.client({banned:1}),"banned")},disabled:function(){return Chtr.getVar("isEmpty")||!Chtr.statusConnected()||Chtr.needToPreform()||_._property(Chtr.client({banned:1}),"banned")},uploadcarePublicKey:function(){return Meteor.settings.public.uploadcarePublicKey},showFileInput:function(){return Chtr.hostIsPaid()&&Modernizr.filereader&&Modernizr.bloburls},showRatingButton:function(){return Chtr.hostIsPaid()&&Chtr.client({isAllowedToRate:1}).isAllowedToRate&&Chtr.hostSettings("ratings")}});var n,r=function(e,t){if(console.log("inputMessage",e,t),!_._property(Chtr.client({banned:1}),"banned")){var r=Chtr.statusConnected(),o=e.currentTarget.value,a="save"===e.type;if(a){if(!o||!r)return;t.$inputArea.addClass("is-loading")}var i=Chtr.clientId(),s=Chtr.clientIp();if(i)s||Chtr.getClientIp();else if(Chtr.getClient({create:!0,getIp:!0}),!a)return;Chtr.onClientReady(function(i){var s=n||Chtr.getHostedItem("unreadyMessageId",!1)||(n=Random.id()),c={message:e.currentTarget.value,clientId:i,createdAt:Chtr.now()};a&&o?(Meteor.call("insertMessage",s,c),t.$inputArea.removeClass("is-loading"),$(e.currentTarget).trigger("clean").trigger("contentchange"),Chtr.setDomainItem("offlineMessage",""),Chtr.setHostedItem("unreadyMessageId","",!1),n=null,t.sendCount||Session.get("chatStarted")||Session.get("availableOperators")||t.oneMoreMessage.set(!0),t.sendCount&&t.oneMoreMessage.get()&&t.oneMoreMessage.set(),t.sendCount++):(Chtr.setDomainItem("offlineMessage",o),Chtr.setHostedItem("unreadyMessageId",s,!1),Meteor.call("updateMessage",s,c),o&&r&&Meteor.call("setTyping",i))})}};Chtr.uploads={progress:new ReactiveDict,blob:new ReactiveDict};var o=_._property(Meteor.settings,"public.maxFileSizeMB")||20;Template.inputArea.events({"click .js-input-area":function(){Chtr.needToPreform()&&Session.set("showPreform",!0)},"focus .js-chat-textarea":function(e,t){t.$inputArea.addClass("is-focused"),Chtr.ensureOpenState()},"blur .js-chat-textarea":function(e,t){t.$inputArea.removeClass("is-focused")},"clean .js-chat-textarea":function(e){e.currentTarget.value=""},"change .js-chat-textarea, blur .js-chat-textarea, keypress .js-chat-textarea, keyup .js-chat-textarea, cut .js-chat-textarea, input .js-chat-textarea, contentchange .js-chat-textarea":function(e,t){t.isEmpty.set(!e.currentTarget.value)},"click .js-rate-chat":function(e,t){Chtr.hostIsPaid()&&Session.set("showChatRatingTab",!0)},"click .js-chat-submit-button":function(e,t){t.$textarea.trigger("save"),t.$textarea.focus()},"input .js-chat-textarea":_.throttle(r,500),"save .js-chat-textarea":r,"change .js-file-upload-input":function(e,t){console.log("file input",e.target.files),console.log(e.originalEvent.target.files),_._property(e,"target.files.length")&&t.$fileForm.submit()},"submit .js-file-upload-form":function(e,n){if(e.preventDefault(),Chtr.hostIsPaid()){var r=n.$(".js-file-upload-input")[0],o=n.droppedFile||r.files[0];Chtr.onClientReady(function(e){Chtr.isImage(o.type)?(console.info("Image upload"),Chtr.blobToImg(o,function(n,r){t(e,o,r)})):t(e,o)}),n.droppedFile=!1,n.$fileForm[0].reset()}}})},"preform-message.js":function(){Template.preformMessage.helpers({message:function(){return chatParser(L("customStrings.preform_"+this.when))},showInput:function(){return _.isEmpty(this.info)},info:function(){return this.info&&chatParser(_.compact([this.info.name,this.info.email,this.info.phone]).join(", "))}}),Template.preformMessage.events({"click .js-show-preform":function(e,t){e.currentTarget.blur(),Session.set("showPreform",!!t.data._id),Session.set("showPreformId",t.data._id)}})},"preform.js":function(){Template.preform.onCreated(function(){var e=this;e.disabled=new ReactiveVar,e.loading=new ReactiveVar,e.error=new ReactiveVar}),Template.preform.onRendered(function(){var e=this,t=e.$(".js-scroller"),n=e.$(".js-preform");e.customScrollbar=new CustomScrollbar(t),e.autorun(function(){Chtr.needToIntroduce(),Tracker.afterFlush(function(){n.trigger("_input")})})}),Template.preform.onDestroyed(function(){var e=this;e.customScrollbar&&e.customScrollbar.kill()});var e=function(){var e=Session.get("showPreform")&&Session.get("showPreformId");return e===!0&&(e=_._property(Chtr.messages.findOne({type:/^preform/},{sort:{createdAt:-1}}),"_id")),e},t;Template.preform.helpers({note:function(){var n=Session.get("showPreform"),r=t||(t=Tracker.nonreactive(function(){return Chtr.messages.findOne(e())}));return n||(t=null),"preformInvite"===_._property(r,"type")&&chatParser(L("customStrings.preform_"+_._property(r,"when")))},okToCancel:function(){return!Chtr.needToIntroduce()},disabled:function(){return Chtr.getVar("disabled")||Chtr.getVar("loading")}}),Template.preform.events({"input .js-preform, change .js-preform, refresh .js-preform, _input .js-preform":function(e,t){var n=$(e.currentTarget);t.error.set(),t.disabled.set(!Chtr.formIsOk(n))},"submit .js-preform":function(t,n){if(t.preventDefault(),!n.loading.get()){n.loading.set(!0);var r=$(t.currentTarget),o=Chtr.parseFormData(r.serializeArray(),{plain:!0}),a=e()||"";Meteor.call("submitForm",{clientId:Chtr.clientId(),messageId:a,hostId:Chtr.hostId(),data:o},function(e,t){n.loading.set(!1),e&&(n.error.set(L("error."+e.reason)||e.reason),console.warn(e.error,e.reason)),t&&(Chtr.postMessage("analyticsEvent","Pre-chat form submitted"),t.preformInviteId!==a&&setTimeout(function(){Chtr.messages.remove(a)},1e3),Session.set("showPreform"))})}},"click .js-cancel":function(e,t){Session.set("showPreform")}})},"service-message.js":function(){Template.serviceMessage.helpers({message:function(){var e=Chtr.displayName(_._property(Meteor.users.findOne(this.userId,{fields:{profile:1}}),"profile"));return chatParser(L("messageTypes."+this.type,{username:e}))}})},"welcome-message.js":function(){Template.welcomeMessage.onCreated(function(){var e=this;e.operators=new ReactiveVar,e.onlineCount=new ReactiveVar,e.welcome=new ReactiveVar,e.autorun(function(t){var n=Chtr.operatorsForWelcome({mixAvatars:!0,availableOperators:Session.get("availableOperators")}),r=n.inPrinciple;console.log("welcome-message.js; inPrinciple:",r),n&&t.inPrinciple!==r&&(e.operators.set(n.operators),e.onlineCount.set(n.onlineCount),t.inPrinciple=r),Session.get("chatStarted")&&t.stop()}),e.autorun(function(t){Chtr.hostSettings(),e.welcome.set(chatParser(L("customStrings."+(Session.get("availableOperators")?"welcome":"offlineNote")))),Session.get("chatStarted")&&t.stop()})})}},includes:{"template.disconnected.js":function(){Template.__checkName("disconnected"),Template.disconnected=new Template("Template.disconnected",function(){var e=this;return Spacebars.With(function(){return Spacebars.call(e.lookup("status"))},function(){return["\n        ",Blaze.Unless(function(){return Spacebars.call(e.lookup("retry"))},function(){return["\n            ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),e.lookup("statusTitle"))}),"\n        "]},function(){return["\n            ",HTML.BUTTON({class:"ghost-button ghost-button--reconnect js-reconnect"},"\n                ",Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"status.retry")}),"\n            "),"\n        "]}),"\n    "]})})},"template.progress-circle.js":function(){Template.__checkName("progressCircle"),Template.progressCircle=new Template("Template.progressCircle",function(){var e=this;return HTML.SVG({class:function(){return["progress-circle ",Spacebars.mustache(e.lookup("mods"),"progress-circle")," ",Blaze.If(function(){return Spacebars.call(e.lookup("processing"))},function(){return"is-processing"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("ok"))},function(){return"is-ok"})," ",Blaze.If(function(){return Spacebars.call(e.lookup("err"))},function(){return"is-err"})]},viewBox:function(){return["0 0 ",Spacebars.mustache(e.lookup("width"))," ",Spacebars.mustache(e.lookup("width"))]},width:function(){return Spacebars.mustache(e.lookup("width"))},height:function(){return Spacebars.mustache(e.lookup("width"))}},"\n        ",HTML.CIRCLE({class:"progress-circle__base js-circle",id:"bar",r:function(){return Spacebars.mustache(e.lookup("radius"))},cx:function(){return Spacebars.mustache(e.lookup("center"))},cy:function(){return Spacebars.mustache(e.lookup("center"))},fill:"transparent","stroke-width":function(){return Spacebars.mustache(e.lookup("border"))}}),"\n\n        ",HTML.CIRCLE({class:"progress-circle__bar js-circle",id:"bar",r:function(){return Spacebars.mustache(e.lookup("radius"))},cx:function(){return Spacebars.mustache(e.lookup("center"))},cy:function(){return Spacebars.mustache(e.lookup("center"))},fill:"transparent","stroke-dasharray":function(){return Spacebars.mustache(e.lookup("dasharray"))},"stroke-dashoffset":function(){return Spacebars.mustache(e.lookup("offset"))},"stroke-width":function(){return Spacebars.mustache(e.lookup("border"))}}),"\n    ")})},"template.spinner.js":function(){Template.__checkName("spinner"),Template.spinner=new Template("Template.spinner",function(){var e=this;return HTML.Raw('<div class="spinner"></div>')})},"template.svg-icons.js":function(){Template.__checkName("svgIcons"),Template.svgIcons=new Template("Template.svgIcons",function(){var e=this;return HTML.SVG({style:"display: none;"},"\n        ",HTML.DEFS("\n            ",HTML.SYMBOL({id:"ei-arrow-down-icon",viewBox:"8 8 34 34"},"\n                ",HTML.PATH({d:"M25 42c-9.4 0-17-7.6-17-17S15.6 8 25 8s17 7.6 17 17-7.6 17-17 17zm0-32c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15z"}),"\n                ",HTML.PATH({d:"M25 34.4l-9.7-9.7 1.4-1.4 8.3 8.3 8.3-8.3 1.4 1.4z"}),"\n                ",HTML.PATH({d:"M24 16h2v17h-2z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-arrow-up-icon",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M25 42c-9.4 0-17-7.6-17-17S15.6 8 25 8s17 7.6 17 17-7.6 17-17 17zm0-32c-8.3 0-15 6.7-15 15s6.7 15 15 15 15-6.7 15-15-6.7-15-15-15z"}),"\n                ",HTML.PATH({d:"M33.3 26.7L25 18.4l-8.3 8.3-1.4-1.4 9.7-9.7 9.7 9.7z"}),"\n                ",HTML.PATH({d:"M24 17h2v17h-2z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-paperclip-icon",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M13.8 39.6c-1.5 0-3.1-.6-4.2-1.8-2.3-2.3-2.3-6.1 0-8.5l17-17c3.1-3.1 8.2-3.1 11.3 0 3.1 3.1 3.1 8.2 0 11.3L25.1 36.4 23.7 35l12.7-12.7c2.3-2.3 2.3-6.1 0-8.5-2.3-2.3-6.1-2.3-8.5 0l-17 17c-.8.8-1.2 1.8-1.2 2.8 0 1.1.4 2.1 1.2 2.8 1.6 1.6 4.1 1.6 5.7 0l12.7-12.7c.8-.8.8-2 0-2.8-.8-.8-2-.8-2.8 0L18 29.3l-1.4-1.4 8.5-8.5c1.6-1.6 4.1-1.6 5.7 0 1.6 1.6 1.6 4.1 0 5.7L18 37.8c-1.1 1.2-2.7 1.8-4.2 1.8z"
}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-close-icon",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M37.304 11.282l1.414 1.414-26.022 26.02-1.414-1.413z"}),"\n                ",HTML.PATH({d:"M12.696 11.282l26.022 26.02-1.414 1.415-26.022-26.02z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-check-icon",viewBox:"10 10 30 30"},"\n                ",HTML.PATH({d:"M23 32.4l-8.7-8.7 1.4-1.4 7.3 7.3 11.3-11.3 1.4 1.4z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-exclamation-icon",viewBox:"10 10 30 30"},"\n                ",HTML.PATH({d:"M24 32h2v2h-2z"}),"\n                ",HTML.PATH({d:"M25.6 30h-1.2l-.4-8v-6h2v6z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"chat-icon-bubble",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M15 42h-2l1.2-1.6c.8-1.1 1.3-2.5 1.6-4.2C10.8 33.9 8 29.6 8 24c0-8.6 6.5-14 17-14s17 5.4 17 14c0 8.8-6.4 14-17 14h-.7c-1.6 1.9-4.4 4-9.3 4zm10-30c-9.4 0-15 4.5-15 12 0 6.4 3.9 9.4 7.2 10.7l.7.3-.1.8c-.2 1.6-.5 3-1.1 4.2 3.3-.4 5.2-2.1 6.3-3.5l.3-.4H25c13.5 0 15-8.4 15-12C40 16.5 34.4 12 25 12z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"chat-icon-bubbles",viewBox:"0 0 25 25"},"\n                ",HTML.PATH({d:"M20.5 18.58c0 .712.407 1.328 1 1.63v.248c-.166.023-.335.035-.508.035-1.063 0-2.02-.446-2.7-1.16-.41.11-.843.168-1.292.168-2.485 0-4.5-1.79-4.5-4s2.015-4 4.5-4 4.5 1.794 4.5 4c0 .868-.31 1.668-.834 2.32-.107.235-.166.49-.166.764zm-9-14.08c4.35 0 7.89 2.822 7.997 6.336-.768-.343-1.62-.524-2.497-.524-1.493 0-2.903.523-3.97 1.472-1.108.984-1.718 2.304-1.718 3.716 0 .698.15 1.373.433 1.997l-.246.003c-.427 0-.844-.027-1.25-.08-1.718 1.72-3.77 2.028-5.753 2.073v-.42c1.07-.526 2-1.48 2-2.573 0-.152-.013-.302-.035-.448C4.655 14.86 3.5 13.04 3.5 11c0-3.59 3.58-6.5 8-6.5z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"chat-icon-chatra",viewBox:"0 0 40 40"},"\n                ",HTML.PATH({d:"M24 20c0 1.105.895 2 2 2 1.104 0 2-.895 2-2s-.896-2-2-2c-1.105 0-2 .895-2 2zm-6 0c0 1.105.896 2 2.002 2 1.105 0 2-.895 2-2s-.895-2-2-2C18.896 18 18 18.895 18 20zm-6 0c0 1.105.895 2 2 2 1.104 0 2-.895 2-2s-.896-2-2-2c-1.105 0-2 .895-2 2z"}),"\n                ",HTML.PATH({d:"M24.24 10.55c4.554 0 8.26 3.755 8.26 8.372 0 .654-.103 1.307-.215 1.915-.367 2.004-1.557 3.746-3.535 5.178-2.922 2.116-7.033 3.893-8.6 4.535l-6.563-3.704-.74 1.308c-.522.922-1.3 1.586-2.147 2.064.2-.64.3-1.33.3-2.055 0-1.15-.514-1.98-1.367-3.356-.28-.452-.596-.963-.97-1.598-.295-.507-.538-1.036-.72-1.577l-.03-.087C7.64 20.703 7.5 19.82 7.5 18.92c0-4.616 3.706-8.37 8.26-8.37 1.257 0 2.463.277 3.586.825l.654.32.655-.32c1.122-.548 2.328-.826 3.584-.826M24.234 9c-1.52 0-2.956.353-4.237.98C18.72 9.353 17.28 9 15.76 9 10.37 9 6 13.44 6 18.92c0 1.104.178 2.17.506 3.16l.007.02c.222.668.513 1.302.862 1.897 1.433 2.446 2.124 3.21 2.124 4.18C9.5 31.993 6 33 6 33s5.86 0 8.157-4.07l5.882 3.328s5.71-2.18 9.58-4.987c3.006-2.18 3.86-4.63 4.14-6.15.13-.713.24-1.443.24-2.2C34 13.44 29.626 9 24.235 9"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-like-icon",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M40 23.2c0-2.1-1.7-3.2-4-3.2h-6.7c.5-1.8.7-3.5.7-5 0-5.8-1.6-7-3-7-.9 0-1.6.1-2.5.6-.3.2-.4.4-.5.7l-1 5.4c-1.1 2.8-3.8 5.3-6 7V36c.8 0 1.6.4 2.6.9 1.1.5 2.2 1.1 3.4 1.1h9.5c2 0 3.5-1.6 3.5-3 0-.3 0-.5-.1-.7 1.2-.5 2.1-1.5 2.1-2.8 0-.6-.1-1.1-.3-1.6.8-.5 1.5-1.4 1.5-2.4 0-.6-.3-1.2-.6-1.7.8-.6 1.4-1.6 1.4-2.6zm-2.1 0c0 1.3-1.3 1.4-1.5 2-.2.7.8.9.8 2.1 0 1.2-1.5 1.2-1.7 1.9-.2.8.5 1 .5 2.2v.2c-.2 1-1.7 1.1-2 1.5-.3.5 0 .7 0 1.8 0 .6-.7 1-1.5 1H23c-.8 0-1.6-.4-2.6-.9-.8-.4-1.6-.8-2.4-1V23.5c2.5-1.9 5.7-4.7 6.9-8.2v-.2l.9-5c.4-.1.7-.1 1.2-.1.2 0 1 1.2 1 5 0 1.5-.3 3.1-.8 5H27c-.6 0-1 .4-1 1s.4 1 1 1h9c1 0 1.9.5 1.9 1.2z"}),"\n                ",HTML.PATH({d:"M16 38h-6c-1.1 0-2-.9-2-2V22c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zm-6-16v14h6V22h-6z"}),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-half-star-icon",viewBox:"0 0 55 55"},"\n                ",HTML.G({transform:"translate(1, 1)"},"\n                    ",HTML.PATH({d:"M15.2 40.6c-.2 0-.4-.1-.6-.2-.4-.3-.5-.7-.4-1.1l3.9-12-10.2-7.5c-.4-.3-.5-.7-.4-1.1s.5-.7 1-.7h12.7L25 5.9c.1-.4.5-.7 1-.7s.8.3 1 .7L30.9 18h12.7c.4 0 .8.2 1 .6s0 .9-.4 1.1L34 27.1l3.9 12c.1.4 0 .9-.4 1.1s-.8.3-1.2 0L26 33l-10.2 7.4c-.2.1-.4.2-.6.2zM26 30.7c.2 0 .4.1.6.2l8.3 6.1-3.2-9.8c-.1-.4 0-.9.4-1.1l8.3-6.1H30.1c-.4 0-.8-.3-1-.7L26 9.5z"}),"\n                "),"\n            "),"\n\n            ",HTML.SYMBOL({id:"ei-close-icon",viewBox:"0 0 50 50"},"\n                ",HTML.PATH({d:"M37.304 11.282l1.414 1.414-26.022 26.02-1.414-1.413z"}),"\n                ",HTML.PATH({d:"M12.696 11.282l26.022 26.02-1.414 1.415-26.022-26.02z"}),"\n            "),"\n        "),"\n    ")})},"template.upload-progress.js":function(){Template.__checkName("uploadProgress"),Template.uploadProgress=new Template("Template.uploadProgress",function(){var e=this;return HTML.DIV({class:function(){return["upload-progress ",Spacebars.mustache(e.lookup("mods"),"upload-progress")]},style:function(){return["width: ",Spacebars.mustache(e.lookup("size")),"px; height: ",Spacebars.mustache(e.lookup("size")),"px;"]}},"\n        ",HTML.DIV({class:"upload-progress__circle"},"\n            ",Blaze._TemplateWith(function(){return{width:Spacebars.call(e.lookup("size")),progress:Spacebars.call(e.lookup("progress")),err:Spacebars.call(e.lookup("err")),mods:Spacebars.call(Spacebars.dot(e.lookup("."),"mods"))}},function(){return Spacebars.include(e.lookupTemplate("progressCircle"))}),"\n        "),"\n\n        ",HTML.DIV({class:"upload-progress__icon-holder",title:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("err"))},function(){return Blaze.View("lookup:L",function(){return Spacebars.mustache(e.lookup("L"),"uploadFailed")})})}},"\n        ",Blaze.If(function(){return Spacebars.call(e.lookup("err"))},function(){return["\n            ",HTML.SVG({class:"upload-progress__err-icon","aria-label":function(){return Spacebars.mustache(e.lookup("L"),"uploadFailed")}},"\n                ",HTML.USE({"xlink:href":"#ei-exclamation-icon"}),"\n            "),"\n        "]},function(){return["\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("complete"))},function(){return["\n                ",HTML.SVG({class:"upload-progress__ok-icon"},"\n                    ",HTML.USE({"xlink:href":"#ei-check-icon"}),"\n                "),"\n            "]},function(){return["\n                ",HTML.BUTTON({class:"upload-progress__cancel js-cancel-upload",title:function(){return Spacebars.mustache(e.lookup("L"),"cancel")},"aria-label":function(){return Spacebars.mustache(e.lookup("L"),"cancel")}},"\n                    ",HTML.SVG({class:"upload-progress__cancel-icon"},"\n                        ",HTML.USE({"xlink:href":"#ei-close-icon"}),"\n                    "),"\n                "),"\n            "]}),"\n        "]}),"\n        "),"\n    ")})},"template.userpic.js":function(){Template.__checkName("userpic"),Template.userpic=new Template("Template.userpic",function(){var e=this;return HTML.DIV({class:function(){return["userpic ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("get"),"userpicImgLoaded")},function(){return"is-loaded"})," ",Spacebars.mustache(e.lookup("mods"),"userpic")]},style:function(){return Blaze.If(function(){return Spacebars.call(e.lookup("size"))},function(){return["width: ",Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))}),"px; height: ",Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))}),"px; line-height: ",Blaze.View("lookup:size",function(){return Spacebars.mustache(e.lookup("size"))}),"px;"]})}},"\n        ",Spacebars.With(function(){return Spacebars.call(e.lookup("profile"))},function(){return["\n            ",HTML.DIV({class:"userpic__inner"},"\n                ",HTML.DIV({class:"userpic__text"},"\n                    ",Blaze.View("lookup:initials",function(){return Spacebars.mustache(e.lookup("initials"))}),"\n                "),"\n                ",Spacebars.With(function(){return Spacebars.call(Spacebars.dot(e.lookup("photo"),"cdnUrl"))},function(){return["\n                    ",HTML.IMG({class:"userpic__img js-userpic-img",src:function(){return[Spacebars.mustache(e.lookup(".")),"-/resize/160x160/"]}}),"\n                "]}),"\n            "),"\n        "]}),"\n    ")})},"disconnected.js":function(){var e=Date.now();Template.disconnected.helpers({retry:function(){var t=Session.get("Date.now");return"waiting"===this.status&&this.retryCount>3&&t-e>3e3},statusTitle:function(){return"status."+this.status}}),Template.disconnected.events({"click .js-reconnect":function(t){t.stopPropagation(),e=Date.now(),Chtr.reconnect()}})},"progress-circle.js":function(){function e(e){var n=e.width||t,r=e.border||.06*e.width;return n/2-r/2}var t=50;Template.progressCircle.helpers({border:function(){return this.border||.06*this.width},width:function(){return this.width||t},radius:function(){return e(this)},center:function(){return(this.width||t)/2},dasharray:function(){var t=e(this),n=Math.PI*(2*t);return this.progress||this.err?n:n/4},offset:function(){var t=this.progress||0,n=e(this),r=Math.PI*(2*n);return t=Math.min(Math.max(0,t),100),!this.progress||this.err?0:(100-t)/100*r},processing:function(){return!this.progress&&!this.err},ok:function(){return 100==this.progress}})},"spinner.js":function(){Template.spinner.onRendered(function(){var e=_.extend({},{lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},this.data);this.spinner=new Spinner(e),this.spinner.spin(this.firstNode)}),Template.spinner.onDestroyed(function(){this.spinner&&this.spinner.stop()})},"upload-progress.js":function(){Template.uploadProgress.events({"click .js-cancel-upload":function(e,t){var n=t.data.uploadId;$document.trigger("cancelUpload:"+n)}})},"userpic.js":function(){Template.userpic.onCreated(function(){var e=this;e.userpicImgLoaded=new ReactiveVar}),Template.userpic.onRendered(function(){var e=this,t=e.$(".js-userpic-img");_._property(t,"0.complete")&&e.userpicImgLoaded.set(!0)}),Template.userpic.helpers({profile:function(){var e=_._property(this,"message.userId");return this.profile||e&&_._property(Meteor.users.findOne(e,{fields:{profile:1}}),"profile")},initials:function(){return Chtr.displayName(this,{initials:3})}}),Template.userpic.events({"load .js-userpic-img":function(e,t){t.userpicImgLoaded.set(!0)}})}},"template.index.js":function(){Template.body.addContent(function(){var e=this;return[Spacebars.include(e.lookupTemplate("svgIcons")),"\n\n    ",Spacebars.include(e.lookupTemplate("chat"))]}),Meteor.startup(Template.body.renderToDocument)}},lib:{_globals:{"chtr.js":function(){Chtr={}},"document.js":function(){$document=$(document)},"modernizr.js":function(e){!function(e,t,n){function r(e,t){return typeof e===t}function o(){var e,t,n,o,a,i,s;for(var c in C)if(C.hasOwnProperty(c)){if(e=[],t=C[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?S[s[0]]=o:(!S[s[0]]||S[s[0]]instanceof Boolean||(S[s[0]]=new Boolean(S[s[0]])),S[s[0]][s[1]]=o),v.push((o?"":"no-")+s.join("-"))}}function a(e){var t=T.className,n=S._config.classPrefix||"";if(y&&(t=t.baseVal),S._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}S._config.enableClasses&&(t+=" "+n+e.join(" "+n),y?T.className.baseVal=t:T.className=t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):y?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(e,t){return!!~(""+e).indexOf(t)}function c(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function u(){var e=t.body;return e||(e=i(y?"svg":"body"),e.fake=!0),e}function l(e,n,r,o){var a="modernizr",s,c,l,p,h=i("div"),d=u();if(parseInt(r,10))for(;r--;)l=i("div"),l.id=o?o[r]:a+(r+1),h.appendChild(l);return s=i("style"),s.type="text/css",s.id="s"+a,(d.fake?d:h).appendChild(s),d.appendChild(h),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),h.id=a,d.fake&&(d.style.background="",d.style.overflow="hidden",p=T.style.overflow,T.style.overflow="hidden",T.appendChild(d)),c=n(h,e),d.fake?(d.parentNode.removeChild(d),T.style.overflow=p,T.offsetHeight):h.parentNode.removeChild(h),!!c}function p(e,t){return function(){return e.apply(t,arguments)}}function h(e,t,n){var o;for(var a in e)if(e[a]in t)return n===!1?e[a]:(o=t[e[a]],r(o,"function")?p(o,n||t):o);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function f(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(d(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];o--;)a.push("("+d(t[o])+":"+r+")");return a=a.join(" or "),l("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function m(e,t,o,a){function u(){p&&(delete x.style,delete x.modElem)}if(a=!r(a,"undefined")&&a,!r(o,"undefined")){var l=f(e,o);if(!r(l,"undefined"))return l}for(var p,h,d,m,g,b=["modernizr","tspan","samp"];!x.style&&b.length;)p=!0,x.modElem=i(b.shift()),x.style=x.modElem.style;for(d=e.length,h=0;h<d;h++)if(m=e[h],g=x.style[m],s(m,"-")&&(m=c(m)),x.style[m]!==n){if(a||r(o,"undefined"))return u(),"pfx"!=t||m;try{x.style[m]=o}catch(e){}if(x.style[m]!=g)return u(),"pfx"!=t||m}return u(),!1}function g(e,t,n,o,a){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+L.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?m(s,t,o,a):(s=(e+" "+M.join(i+" ")+i).split(" "),h(s,t,n))}function b(e,t,r){return g(e,n,n,t,r)}var v=[],C=[],_={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){C.push({name:e,fn:t,options:n})},addAsyncTest:function(e){C.push({name:null,fn:e})}},S=function(){};S.prototype=_,S=new S,S.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader));var w=_._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];_._prefixes=w;var T=t.documentElement,y="svg"===T.nodeName.toLowerCase(),k="Moz O ms Webkit",M=_._config.usePrefixes?k.toLowerCase().split(" "):[];_._domPrefixes=M,S.addTest("csscalc",function(){var e="width:",t="calc(10px);",n=i("a");return n.style.cssText=e+w.join(t+e),!!n.style.length});var I="CSS"in e&&"supports"in e.CSS,j="supportsCSS"in e;S.addTest("supports",I||j);var L=_._config.usePrefixes?k.split(" "):[];_._cssomPrefixes=L;var z=_.testStyles=l,H=function(t){var r=w.length,o=e.CSSRule,a;if("undefined"==typeof o)return n;if(!t)return!1;if(t=t.replace(/^@/,""),a=t.replace(/-/g,"_").toUpperCase()+"_RULE",a in o)return"@"+t;for(var i=0;i<r;i++){var s=w[i],c=s.toUpperCase()+"_"+a;if(c in o)return"@-"+s.toLowerCase()+"-"+t}return!1};_.atRule=H;var D={elem:i("modernizr")};S._q.push(function(){delete D.elem});var x={style:D.elem.style};S._q.unshift(function(){delete x.style});var A=_.testProp=function(e,t,r){return m([e],n,t,r)};_.testAllProps=g,_.testAllProps=b,S.addTest("csstransforms",function(){return navigator.userAgent.indexOf("Android 2.")===-1&&b("transform","scale(1)",!0)}),S.addTest("csstransforms3d",function(){var e=!!b("perspective","1px",!0),t=S._config.usePrefixes;if(e&&(!t||"webkitPerspective"in T.style)){var n,r="#modernizr{width:0;height:0}";S.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",z(r+n,function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),S.addTest("csstransitions",b("transition","all",!0));var B=_.prefixed=function(e,t,n){return 0===e.indexOf("@")?H(e):(e.indexOf("-")!=-1&&(e=c(e)),t?g(e,t,n):g(e,"pfx"))},V=B("URL",e,!1);V=V&&e[V],S.addTest("bloburls",V&&"revokeObjectURL"in V&&"createObjectURL"in V),o(),a(v),delete _.addTest,delete _.addAsyncTest;for(var O=0;O<S._q.length;O++)S._q[O]();e.Modernizr=S}(window,document)},"production.js":function(){PRODUCTION=((Meteor.settings||{}).public||{}).production},"window.js":function(){$window=$(window)}},"connection-id.js":function(){Chtr.connectionId=Random.id()},"date-now-fix.js":function(){Date.now=Date.now||function(){return+new Date}},"hiddenScroll.js":["../modules/getScrollbarWidth",function(e){var t=e("../modules/getScrollbarWidth");t(function(e){$("html").addClass((e?"no-":"")+"hiddenscroll")})}],"hosted-storage.js":function(){Chtr.hostedStorage={}},"is-in-frame.js":function(){Chtr.isInFrame=window.parent!==window},"query-params.js":function(){Chtr.searchToObject=function(e){var t={},n=_.compact((e||"").replace(/^(\?|#)/,"").split("&"));return _.each(n,function(e){if(e=e.split("="),2===e.length){var n=decodeURIComponent(e[1].replace(/\+/g," "));t[decodeURIComponent(e[0])]="false"!==n&&("true"===n||n)}}),t};var e=location.href.split("#")[1];Chtr.queryParams=_.extend(Chtr.searchToObject(e),Chtr.searchToObject(location.search)),location.replace("#chatra")},"stored-item.js":function(){function e(e,t){var n=new Date;n.setTime(n.getTime()+31536e7),document.cookie=e+"="+t+";expires="+n.toGMTString()+";"}function t(e){var t=document.cookie.split(";");e+="=";for(var n=0;n<t.length;n++){for(var r=t[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}}Chtr.getStoredItem=function(e,n){n=n!==!1;var r=n&&Chtr.hostedStorage[e];try{r=r||localStorage.getItem(e)}catch(e){}return r||t(e)},Chtr.setStoredItem=function(t,n,r){r=r!==!1;try{localStorage.setItem(t,n)}catch(r){e(t,n)}Chtr.isInFrame&&r&&(Chtr.postMessage("setHostedItem",{key:t,value:n}),Chtr.hostedStorage[t]=n)},Chtr.getHostedItem=function(e,t){return Chtr.getStoredItem(Chtr.queryParams.hostId+"."+e,t)},Chtr.setHostedItem=function(e,t,n){Chtr.setStoredItem(Chtr.queryParams.hostId+"."+e,t,n)},Chtr.getDomainItem=function(e,t){return Chtr.getHostedItem(Chtr.hostname+"."+e,t)},Chtr.setDomainItem=function(e,t,n){Chtr.setHostedItem(Chtr.hostname+"."+e,t,n)},Chtr.setDomainData=function(e){_.each(e,function(e,t){Chtr.setDomainItem(t,e)})},Chtr.getClientItem=function(e,t){return Chtr.getHostedItem(Chtr.rawClientSelector.id+"."+e,t)},Chtr.setClientItem=function(e,t,n){Chtr.setHostedItem(Chtr.rawClientSelector.id+"."+e,t,n)}},"url.js":function(){Chtr.url=function(e){if(!e)return{};var t=document.createElement("a");return t.href=e,t}}},_utils:{"assets.js":function(){Chtr.assetsHost=_._property(Meteor,"settings.public.assetsHost")||"",Chtr.externalStaticHost=_._property(Meteor,"settings.public.externalStaticHost")||"",Template.registerHelper("assetUrl",Chtr.assetUrl=function(e){return Chtr.assetsHost+e})},"blob-to-img.js":function(){Chtr.blobToImg=function(e,t){var n=new Image,r=!1;n.addEventListener("load",function(){r||(r=!0,t(null,n))}),n.addEventListener("error",function(){r||(r=!0,t(!0,null))}),n.src=window.URL.createObjectURL(e),window.URL.revokeObjectURL(e)}},"console.js":function(){window.console=window.console||{},_.each(["log","dir","warn","error","info","log","trace","timeEnd","profile","profileEnd","group","groupCollapsed","groupEnd","trace","assert","clear"],function(e){var t=window.console[e]||_._noop;PRODUCTION&&!_.contains(["info","warn","error"],e)&&(t=_._noop),window.console[e]=t})},"date.js":function(){!function(){var e=(new Date).getTimezoneOffset(),t,n=function(e,t){return new Array(t-e.toString().length+1).join("0")+e},r=6e4,o=60*r,a=24*o,i=30.5*a;Meteor.startup(function(){Meteor.autorun(function(){var e=Session.get("Localizer.language");Session.get("Localizer.languageLoaded")&&(moment.defineLocale(e,{months:L("date.month.full").split("_"),monthsShort:L("date.month.short").split("_"),am:L("date.am").split("_"),longDateFormat:{},calendar:{},relativeTime:{},week:{dow:0|L("date.week.start")}}),moment.setLocale(e))})}),t=Chtr.date={ISOUTC:function(n){var r=n?new Date(n):new Date;return r.setMinutes(r.getMinutes()+e),t.ISO(r)},ISO:function(e){var t=e?new Date(e):new Date;return t.getFullYear()+"-"+n(t.getMonth()+1,2)+"-"+n(t.getDate(),2)+"T"+n(t.getHours(),2)+":"+n(t.getMinutes(),2)+":"+n(t.getSeconds(),2)+"Z"},date:function(e){var t=e?new Date(e):new Date,n=new Date(Session.get("now")),r=+n-t,o=r<0?-r:r,i;return n.setHours(0,0,0,0),t.setHours(0,0,0,0),+n===+t?L("date.today"):n-t===a?L("date.yesterday"):(i=n.getFullYear()===t.getFullYear(),moment(t).format(L(i?"date.format.date":"date.format.date.withYear")))},when:function(e,t){t=t||{};var n=e?new Date(e):new Date,s=new Date(Session.get("now")),c=+s-n,u=c<0?-c:c,l;return u<r?L(t.moment||"date.moment"):u<o?L("date.minute",{count:u/r|0}):u<a?L("date.hour",{count:u/o|0}):u<i?L("date.day",{count:u/a|0}):(l=s.getFullYear()===n.getFullYear(),moment(n).format(L(l?"date.format.when":"date.format.when.withYear")))},time:function(e){var t=e?new Date(e):new Date,n=new Date(Session.get("now")),a=+n-t,i=a<0?-a:a;return i<r?L("date.moment"):i<o?L("date.minute",{count:i/r|0}):moment(t).format(L("date.format.time"))},full:function(e){var t=e?new Date(e):new Date;return moment(t).format(L("date.format.date.withYear")+", "+L("date.format.time"))}}}()},"form-is-ok.js":function(){Chtr.inputIsOk=function(e,t){if(!e.is("[required]"))return!0;var n=e.data().pattern;if(n){var r=_._property(Chtr.patterns,n)||new RegExp(n);return r.test(t)}var o;try{o=$(":-webkit-autofill").filter(e).length}catch(e){o=!1}return!("password"!=e[0].type||!o)||!!t},Chtr.formIsOk=function(e){console.log("Chtr.formIsOk; $form:",e);var t=Chtr.parseFormData(e.serializeArray(),{plain:!0}),n=_.map(t,function(t,n){return Chtr.inputIsOk(e.find('[name="'+n+'"]'),t)}),r=_.every(n);return console.log("Chtr.formIsOk; formData, test, allPass:",t,n,r),r}},"get-image-orientation.js":function(){Chtr.getImageOrientation=function(e,t){var n=new FileReader;n.onload=function(e){var n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return void t(-2);for(var r=n.byteLength,o=2;o<r;){var a=n.getUint16(o,!1);if(o+=2,65505==a){if(1165519206!=n.getUint32(o+=2,!1))return void t(-1);var i=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,i);var s=n.getUint16(o,i);o+=2;for(var c=0;c<s;c++)if(274==n.getUint16(o+12*c,i))return void t(n.getUint16(o+12*c+8,i))}else{if(65280!=(65280&a))break;o+=n.getUint16(o,!1)}}t(-1)},n.readAsArrayBuffer(e.slice(0,65536))}},"group-messages.js":function(){Chtr.groupMessages=function(e){this.messages=[],this.o=_.extend({shouldShowMessage:Chtr.shouldShowMessage,getDate:Chtr.getDate,customDate:Chtr.date.date,dayDividerClass:"chat-date-block js-show-after-flush",groupClass:"is-group",firstClass:"is-first",groupTimeDiffThreshold:60},e)},Chtr.groupMessages.prototype={_action:function(e,t){console.log("Chtr.groupMessages._action; action, indexes:",e,t),t?(t=_.isArray(t)?t:[t],_.each(t,function(t){this[e](t)},this)):_.times(this.messages.length,function(t){this[e](t,!0)},this)},_findNeighbor:function(e,t){for(var n=1,r=this.messages[e+n*t];r&&!this.o.shouldShowMessage(r);)n++,r=this.messages[e+n*t];return r},_isClose:function(e,t){return e&&t&&!t.__dayDivider&&t.userId===e.userId&&t.type===e.type&&t.createdAt-e.createdAt<1e3*this.o.groupTimeDiffThreshold},_checkAt:function(e,t){console.log("Chtr.groupMessages._checkAt; index, only:",e,t);var n=this.messages[e],r=this.o.shouldShowMessage(n);if(r){var o=this._findNeighbor(e,-1),a=this._findNeighbor(e,1);n.__dayDivider=!o||this.o.getDate(n.createdAt)>this.o.getDate(o.createdAt),n.__inGroup=this._isClose(o,n),n.__isFirst=this._isClose(n,a),o?(n.__prevId=o._id,n.__prevIsFirst=n.__inGroup):(delete n.__prevId,delete n.__prevIsFirst),t||this._checkAt(e+1,!0)}},checkAt:function(e){this._action("_checkAt",e)},_getDayDividerId:function(e){return"dd"+e},_groupAt:function(e,t){console.log("Chtr.groupMessages._groupAt; index, only:",e,t);var n=this.messages[e],r=n&&$("#"+n._id);if(n&&r.length){var o=this._getDayDividerId(n._id),a=$("#"+o);n.__dayDivider?!a.length&&$('<div id="'+o+'" class="'+this.o.dayDividerClass+'"></div>').html(this.o.customDate(n.createdAt)).insertBefore(r):a.remove(),r.toggleClass(this.o.groupClass,!!n.__inGroup).toggleClass(this.o.firstClass,!!n.__isFirst),n.__prevId&&$("#"+n.__prevId).toggleClass(this.o.firstClass,!!n.__prevIsFirst),t||this._groupAt(e+1,!0)}},groupAt:function(e){this._action("_checkAt",e),this._action("_groupAt",e)},_filter:function(){this.messages=_.filter(this.messages,this.o.shouldShowMessage)},addAt:function(e,t){this.messages.splice(t,0,e)},changeAt:function(e,t){this.messages.splice(t,1,e)},removeAt:function(e,t){this.messages.splice(t,1),$("#"+this._getDayDividerId(e._id)).remove()},findMessageIndex:function(e){for(var t,n=0;n<this.messages.length;n++)if(this.messages[n]._id===e._id){t=n;break}return t},moveTo:function(e,t,n){this.removeAt(e,t),this.addAt(e,n)}}},"is-image.js":function(){Chtr.isImage=function(e){return!!{"image/gif":1,"image/png":1,"image/jpeg":1}[e]}},"mark-client-as-read.js":function(){Chtr.markClientAsRead=function(e,t){console.log("Chtr.markClientAsRead; clientId:",e),Chtr.onFocus(function(){console.log("Chtr.markClientAsRead → onFocus; clientId:",e);var n=Chtr.getClientItem("readAt")||0;t=Math.max(t||Chtr.now(),n),Meteor.call("markClientAsRead",e,t),Chtr.setClientItem("readAt",t)})}},"need-to-introduce.js":function(){Chtr.needToIntroduce=function(){var e=Chtr.client({hostId:1,name:1,email:1,phone:1,integrationData:1,isFormSubmitted:1}),t=Chtr.hostSettings("preform");return(Session.get("availableOperators")?_._property(t,"start")&&_._property(t,"requiredToStart")&&Chtr.hostIsPaid():_._property(t,"requiredToOfflineStart"))&&!Chtr.isClientIntroduced({checkRequired:_._property(e,"isFormSubmitted"),client:e})}},"need-to-preform.js":function(){var e=new ReactiveVar,t=new ReactiveVar;Meteor.startup(function(){Tracker.autorun(function(n){var r=Chtr.needToIntroduce(),o=Session.get("chatStarted"),a=r&&o;e.set(a),t.set(a&&!n.noSendWarning),o&&!r&&(n.noSendWarning=!0),n.needToIntroduce=r,n.chatStarted=o})}),Chtr.needToPreform=function(){return e.get()},Chtr.sendWarning=function(){return console.log("Chtr.sendWarning"),t.get()}},"now.js":function(){var e=5e3,t=2e3,n=0,r=function(){var e=new Date;Session.set("now",e-n),e.setHours(0,0,0,0),Session.set("nowDate",e)};Chtr.now=function(){return new Date-n};var o=function(){var a=Date.now();Meteor.call("getTime",function(i,s){i?setTimeout(o,e):(n=a-s,r(),Meteor.setInterval(function(){Chtr.focused&&r()},t))})};o(),Meteor.setInterval(function(){Chtr.focused&&Session.set("Date.now",Date.now())},1e3)},"open-chat.js":function(){var e;Session.setDefault("chatFullyClosed",!0),Chtr.openChat=function(t,n,r){function o(){t&&Session.set("chatFullyOpened",!0),t||Session.set("chatFullyClosed",!0),Session.set("chatIsToggling",!1),t&&n&&Chtr.onClientReady(function(){Session.get("chatFullyOpened")&&$document.trigger("autofocus")})}console.log("Chtr.openChat; flag, focus, instant:",t,n,r),t=t!==!1,t?Chtr.getClient({create:!0}):Chtr.setDomainItem("chatClosedAt",Chtr.now()),Session.set("chatOpened",t),Chtr.setDomainItem("chatOpened",t||""),t||Session.set("chatFullyOpened",!1),t&&Session.set("chatFullyClosed",!1),r||Session.set("chatIsToggling",!0),clearTimeout(e),r?o():e=setTimeout(o,Session.get("chatToggleTime")),Chtr.postMessage(["collapseWindow","expandWindow"][+t]),Chtr.onClientReady(function(e){Meteor.call("updateClient",e,{opened:t&&Chtr.tabID})})},Chtr.ensureOpenState=function(){if(Session.get("chatOpened")){var e=Chtr.client({opened:1});e&&e.opened!==Chtr.tabID&&Meteor.call("updateClient",e._id,{opened:Chtr.tabID})}},$document.on("message:openChat",function(e,t){Chtr.isWidget()&&Chtr.openChat(!0,t)}),$document.on("message:collapseChat",function(e){Chtr.isWidget()&&Chtr.openChat(!1)}),$window.on("focuschange",function(e,t){t&&Chtr.ensureOpenState()}),Meteor.startup(function(){Tracker.autorun(function(e){Session.get("ready")&&(Chtr.isWidget()||Chtr.openChat(),e.stop())})})},"post-message.js":function(){Chtr.postMessage=function(e,t){console.log("Chtr.postMessage; type, data:",e,t),window.parent.postMessage(JSON.stringify({type:e,data:t,sender:"Chatra"}),"*")}},"relaxed-each.js":function(){Chtr.relaxedEach=function(e,t,n){var r=_.map(e,function(){return arguments}),o=function(){if(r.length){var e=Date.now();t.apply(null,r.shift()),setTimeout(o,Date.now()-e)}else n()};o()}},"save-client-data.js":function(){Chtr.saveClientData=function(e){_.each(e,function(e,t){Chtr.setDomainItem(t,e)})}},"serving-by.js":function(){Chtr.servingBy=function(e,t){return _._property(e,"servingBy."+t)}},"should-show-message.js":function(){Chtr.shouldShowMessage=function(e){return e&&e.ready&&(!e.file||e.file.uploadComplete||e.file.connectionId==Chtr.connectionId&&!e.file.uploadCancelled)&&(e.message||e.type&&(!e.repeated||"joined"!==e.type))}},"show-chat.js":function(){Chtr.showChat=function(e){e=e!==!1,Chtr.postMessage(["hideChat","showChat"][+e])},Tracker.autorun(function(){Session.get("smartActionsDone")&&Chtr.showChat(!(Chtr.hostSettings("offline")===!1&&!Session.get("availableOperators")&&!Session.get("chatStarted")||Chtr.hostSettings("disableOnMobile")&&Chtr.isMobileWidget()||Session.get("chatHiddenFromSmart")))}),Chtr.isInFrame?$document.on("message:visible",function(e,t){console.log("message:visible; visible:",t),Session.set("chatVisible",t)}):Session.set("chatVisible",!0)},"shrink-image-file.js":function(){function e(e,t,n,r){var o,a,i,s,c,u;if(HTMLCanvasElement.prototype.toBlob)return void e.toBlob(r,t,n);for(i=e.toDataURL(t,n),i=i.split(","),a=atob(i[1]),o=new Uint8Array(a.length),s=c=0,u=a.length;c<u;s=c+=1)o[s]=a.charCodeAt(s);r(new Blob([o],{type:/:(.+\/.+);/.exec(i[0])[1]}))}function t(e,t){var n,r;return e[0]>t[0]||e[1]>t[1]?(r=t[0]/e[0],n=t[1]/e[1],!t[0]||t[1]&&r>n?[Math.round(n*e[0]),t[1]]:[t[0],Math.round(r*e[1])]):e.slice()}function n(e,t,n,r){r=r||1,console.info("Image upload: orientation, width, height",r,t,n);var o=r>4,a=o?[n,t]:[t,n],i=a[0],s=a[1],c=[null,[-1,0,0,1,i,0],[-1,0,0,-1,i,s],[1,0,0,-1,0,s],[0,1,1,0,0,0],[0,1,-1,0,i,0],[0,-1,-1,0,i,s],[0,-1,1,0,0,s]],u=c[r-1],l=document.createElement("canvas");l.width=i,l.height=s;var p=l.getContext("2d");return u&&p.transform.apply(p,u),o&&(i=a[1],s=a[0]),p.drawImage(e,0,0,i,s),e.src="//:0",e.height=e.width=1,l}Chtr.shrinkImage=function(t,r,o){if(r=_.extend({size:144e4,quality:.85,mime:"image/jpeg",orientation:1,skip:!1,killAnimation:!1},r||{}),r.skip)return void o(!0,null);var a=.71;if(!r.killAnimation&&t.width*a*t.height*a<r.size)return console.info("Image upload: image is already small enough"),void o(!0,null);var i=t.width,s=t.height,c=i/s,u=Math.floor(Math.sqrt(r.size*c)),l=Math.floor(r.size/Math.sqrt(r.size*c)),p=5e6,h=4096,d=!1,f,m=function(){if((!r.killAnimation||d)&&i<=u){console.info("Image upload: done resizing image. Width:",i);var g=r.mime,b=r.quality;return"image/jpeg"!=g&&(b=void 0),void e(f,g,b,function(e){console.info("Image upload: converted to blob"),f.width=f.height=1,o(null,e)})}setTimeout(function(){i=Math.round(i*a),s=Math.round(s*a),i*a<u&&(i=u,s=l),i*s>p&&(i=Math.floor(Math.sqrt(p*c)),s=Math.floor(p/Math.sqrt(p*c))),i>h&&(i=h,s=Math.round(i/c)),s>h&&(s=h,i=Math.round(c*s));var e=d?1:r.orientation;if(f=n(d?f:t,i,s,e),e>4){var o=s;s=i,i=o,o=l,l=u,u=o}d=!0,m()},50)};m()}},"subscribe.js":function(){var e={},t={ready:function(){return!0}};Chtr.getReactiveSub=function(t){return e[t]||(e[t]=new ReactiveVar),e[t]},Chtr.subscribe=function(e){var t=Meteor.subscribe.apply(Meteor,arguments);return Chtr.getReactiveSub(e).set(t),t},Chtr.subscribedTo=function(e){return _.every(_.isArray(e)?e:[e],function(e){var t=Chtr.getReactiveSub(e).get();return t&&t.ready()})},Chtr.subscribeAndCache=function(e,n){console.log("Chtr.subscribeAndCache; subArguments, options:",e,n);
var r,o=e[0],a=JSON.stringify(e),i=a+".updatedAt",s=function(e,t){t?n.localCollection.upsert(e,{$set:t}):n.localCollection.remove(e);try{localStorage.setItem(a,JSON.stringify(n.localCollection.find(n.selector||{},n.findOptions).fetch())),localStorage.setItem(i,Date.now())}catch(e){}};n.collection.find(n.selector||{},n.findOptions).observeChanges({added:s,changed:s,removed:s});var c;try{c=localStorage.getItem(i)}catch(e){}if(c)if(Date.now()-c<36e5)try{var u=JSON.parse(localStorage.getItem(a));u.length&&(console.log("Chtr.subscribeAndCache → get docs from localStorage!; name:",o),_.each(u,function(e){s(e._id,_.omit(e,"_id"))}),Chtr.getReactiveSub(o).set(t),r=!0)}catch(e){console.log("Chtr.subscribeAndCache → can not get data from localStorage; e:",e)}else{console.log("Chtr.subscribeAndCache → non recent visitor, erase data from localStorage; name:",o);try{localStorage.removeItem(a),localStorage.removeItem(i)}catch(e){}}var l=Meteor.subscribe.apply(Meteor,e);return Chtr.getReactiveSub(o).set(r?_.extend(l,t):l),l}},"title-blink.js":function(){var e,t=!0,n,r;Chtr.titleBlink=function(o,a){Meteor.clearTimeout(e),t&&o?(n=document.title,document.title=r=o):(document.title!==r&&(n=document.title),document.title=n),t=!o||!t,o&&(e=setTimeout(function(){Chtr.titleBlink(o,!0)},_.random(1e3,2e3))),a||Chtr.postMessage("titleBlink",o)}},"u.js":function(){U={scrollDown:function(e){e.scrollTop(e[0].scrollHeight).trigger("scrolldown")},modifiedClick:function(e){return 0!==e.button||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey},markEventHandled:function(e){var t=e.originalEvent||e;t.preventDefault?t.handled=!0:t.returnValue="handled"},checkEventHandled:function(e){var t=e.originalEvent||e;return!(!t.handled&&"handled"!==t.returnValue)}}},"update-stored-session.js":function(){Chtr.updateStoredSession=function(e){e=e||{};var t=Chtr.getDomainItem("currentPage"),n=Chtr.getDomainItem("lastPage"),r=Chtr.now(),o=+Chtr.getDomainItem("pagesAllCount")||0,a=+Chtr.getDomainItem("visitOpenedAt")||0,i=+Chtr.getDomainItem("visitsCount")||0,s=!a||r-a>36e5;s&&(Chtr.setDomainItem("visitOpenedAt",r),Chtr.setDomainItem("visitsCount",i+1));var c=s?0:Chtr.getDomainItem("pagesVisitCount")||0;Session.get("storedSessionUpdated")&&!e.reload||(Chtr.setDomainItem("pagesAllCount",o+1),Chtr.setDomainItem("pagesVisitCount",c+1),Chtr.setDomainItem("lastPage",t),Chtr.setDomainItem("pageOpenedAt",r),Session.set("storedSessionUpdated",!0))}}},common:{"banned.js":function(){Meteor.startup(function(){Tracker.autorun(function(e){Chtr.onClientReady(function(){var t=_._property(Chtr.client({banned:1}),"banned");e.banned!==t&&(Chtr.postMessage("banned",t),e.banned=t)})})})},"button-type.js":function(){var e={tab:{mobile:300,desktop:400},round:150};Session.setDefault("chatToggleTime",e.tab),Meteor.startup(function(){var t=Chtr.isMobileWidget()?"mobile":"desktop";Tracker.autorun(function(n){if(window.parent===window)return n.stop();var r=Chtr.queryParams.buttonType||Chtr.hostSettings("buttonType")||"tab";n.buttonType!==r&&(Chtr.postMessage("buttonType",r),Session.set("buttonType",r),Session.set("chatToggleTime",e[r][t]||e[r]||e.tab.desktop),n.buttonType=r),Chtr.queryParams.buttonType&&n.stop()})})},"chat-accepted-by-agent.js":function(){Meteor.startup(function(){Tracker.autorun(function(e){var t=Chtr.client({sessionCreatedAt:1,lastMessage:1}),n=_._property(t,"sessionCreatedAt"),r=_._property(t,"lastMessage");return Chtr.getDomainItem("firstSessionAgentsMessageAt")>n?void e.stop():void(r&&!r.smart&&!r.pushed&&r.userId&&r.createdAt>n&&(Chtr.setDomainItem("firstSessionAgentsMessageAt",r.createdAt),Chtr.postMessage("analyticsEvent","Chat accepted by agent"),e.stop()))})})},"chat-started.js":function(){Chtr.chatStarted=function(e){e=e||Chtr.client(["sessionCreatedAt","lastMessage","lastHumanMessageAt"]);var t=_._property(e,"sessionCreatedAt"),n=_._property(e,"lastMessage"),r=_._property(e,"lastHumanMessageAt");return r&&r>t||n&&!n.smart&&!n.pushed&&!n.fromOfflineForm&&n.createdAt>t},Meteor.startup(function(){Tracker.autorun(function(e){var t=Chtr.client({updatedAt:1,sessionCreatedAt:1,lastMessage:1}),n=_._property(t,"sessionCreatedAt"),r=_._property(t,"lastMessage"),o=_._property(t,"updatedAt");return Chtr.getClientItem("chatStartedAt")>n?(Session.set("chatStarted",!0),void e.stop()):void(Chtr.chatStarted(t)&&(Session.set("chatStarted",!0),Chtr.setClientItem("chatStartedAt",o),r.userId?Chtr.postMessage("analyticsEvent","Сhat initiated by agent"):Chtr.getDomainItem("targetedChatShownAt")>n&&(!Chtr.getDomainItem("targetedChatRejectedAt")||Chtr.getDomainItem("targetedChatShownAt")>Chtr.getDomainItem("targetedChatRejectedAt"))?Chtr.postMessage("analyticsEvent","Targeted chat accepted by visitor"):Chtr.postMessage("analyticsEvent","Сhat initiated by visitor"),e.stop()))})})},"client.js":function(){var e=new ReactiveVar,t=new ReactiveVar;Template.registerHelper("client",Chtr.client=function(e){return Clients.findOne({},{fields:Chtr.rewriteFields(e)})}),Template.registerHelper("clientId",Chtr.clientId=function(){return e.get()}),Template.registerHelper("getClientId",Chtr.getClientId=function(){return Chtr.clientId}),Template.registerHelper("clientIp",Chtr.clientIp=function(){return t.get()});var n,r=!1,o,a=Date.now();Chtr.getClient=function(t){Chtr.reconnect(),console.log("Chtr.getClient; options, Chtr.getClient.options",t,Chtr.getClient.options),n||_.isEqual(r,t)||(r=t,t=t||{},Meteor.call("getClientId",Chtr.rawClientSelector,t,function(r,o){return console.log("Chtr.getClient → getClientId; id",o),r?void console.warn(r):void(o&&!n&&(e.set(o),Chtr.subscribe("client",o,_.extend({timeDiff:Date.now()-a},Chtr.rawClientSelector)),t.getIp&&Chtr.getClientIp(),n=!0))}))},Chtr.getClientIp=function(){o||(o=!0,Meteor.call("checkClientGeo",Chtr.clientId(),function(e,n){e&&console.warn(e),n?t.set(n):o=!1}))};var i=[];Tracker.autorun(function(e){var t=_._property(Chtr.client({_id:1}),"_id");t&&(_.each(i,function(e){console.log("Chtr.onClientReady → call on ready"),e(t,Date.now()-e.__now)}),e.stop())}),Chtr.onClientReady=function(e){if(e&&_.isFunction(e)){var t=_._property(Chtr.client({_id:1}),"_id");t?(console.log("Chtr.onClientReady → call immediately"),e(t,0)):(console.log("Chtr.onClientReady → push to waiters"),e.__now=Date.now(),i.push(e))}},Chtr.onClientReady(function(e){Chtr.setClientItem("lastSubscription",Date.now()),Chtr.getClientItem("lastMessageSentAt")||_._property(Chtr.client({phantom:1}),"phantom")||Chtr.setClientItem("lastMessageSentAt",1)})},"connect.js":function(){var e,t=6e4;$window.on("focuschange",function(n,r){r?(console.log("connect.js → focus (ensure connection)"),Chtr.reconnect()):(console.log("connect.js → blur, disconnect in "+t+"ms..."),e=setTimeout(function(){var e=Chtr.getClientItem("Chtr.tabID",!1);(!Chtr.clientId()||e&&e!==Chtr.tabID)&&(console.log("connect.js → Meteor.disconnect()"),Meteor.disconnect())},t))}),Chtr.reconnect=function(){console.log("connect.js → Meteor.reconnect()"),Meteor.clearTimeout(e),Meteor.reconnect()}},"custom-css.js":function(){Tracker.autorun(function(e){var t=Chtr.hostSettings();if(t){e.stop();var n=_._property(t,"customCss");if(n){var r=document.getElementsByTagName("head")[0],o=document.createElement("link");o.onload=function(){console.log("custom-css.js; loaded:",n),$window.resize()},o.type="text/css",o.rel="stylesheet",o.href=n,r.appendChild(o)}}})},"find-operators.js":function(){Chtr.findOperators=function(e){e=e||{};var t=e.client||Chtr.client({servingBy:1,groupId:1})||{},n=_.keys(_._compact(t.servingBy)),r=Chtr.groupId.get(),o={};if(r){var a=_._property(Chtr.hostGroups(),r),i=a&&a.enabled&&a.operators&&_.keys(a.operators);!_.isEmpty(i)&&Chtr.hostIsPaid()&&(o._id={$in:_.union(i,n)})}return Meteor.users.find(o)}},"focus.js":function(){var e=[],t=!Chtr.isInFrame&&(!document.hasFocus||document.hasFocus()),n=!1;Chtr.focused=t||n,$window.on("focus blur",function(e){console.log("focus event:",e.type),t="focus"===e.type;var r=t||n;r!==Chtr.focused&&$window.trigger("focuschange",[Chtr.focused=r])}),$document.on("message:focus message:blur",function(e){console.log("focus event:",e.type),n="message:focus"===e.type;var r=n||t;r!==Chtr.focused&&$window.trigger("focuschange",[Chtr.focused=r])}),$window.on("focuschange",function(t,n){if(console.log("focuschange; focused",n),n)for(;e.length;)e.shift()()}),Chtr.onFocus=function(t){t&&_.isFunction(t)&&(Chtr.focused?t():e.push(t))},Meteor.startup(function(){$window.trigger("focuschange",[Chtr.focused])})},"get-browser-language.js":function(){Chtr.getBrowserLanguage=function(){return _.isArray(navigator.languages)&&navigator.languages[0]?navigator.languages[0]:navigator.language||navigator.userLanguage}},"integration-data.js":function(){if(Chtr.isInFrame){var e,t,n=new ReactiveVar,r=function(){e={},t=!0,n.set(!0)};r(),Tracker.autorun(function(){if(!n.get()){var o=_._property(Chtr.client({_id:1}),"_id");o&&Meteor.status().connected&&(Meteor.call("setClientIntegration",o,e,t),r())}}),$document.on("message:integrationData",function(r,o){t=!1,e=o,n.set(!1)}),$document.on("message:updateIntegrationData",function(t,r){_.extend(e,r),n.set(!1)})}},"is-recent-subscriber.js":function(){Chtr.isRecentSubscriber=function(){return Date.now()-Chtr.getClientItem("lastSubscription")<18e5}},"last-human-message-at.js":function(){Meteor.startup(function(){Tracker.autorun(function(e){var t=Chtr.client({lastHumanMessageAt:1}),n=_._property(t,"lastHumanMessageAt");n&&Chtr.setClientItem("lastHumanMessageAt",n)})})},"onbeforeunload.js":function(){Meteor.startup(function(){"gecko"==Sniff.browser.engine&&window.addEventListener("beforeunload",function(){Meteor.disconnect()})})},"operators-for-welcome.js":function(){Chtr.operatorsForWelcome=function(e){e=e||{};var t=e.users||Chtr.findOperators().fetch(),n={online1photo1:[],online0photo1:[],online1photo0:[],online0photo0:[]},r=0,o=[];_.each(t,function(t){if(!t.secret&&!t.deleted&&"undefined"!=typeof t.online){var o=+!!Chtr.isOperatorAvailable(t,{filter:function(t){return!t.invisible||e.availableOperators&&_._property(t,"preferences.invisibleBut")}}),a=+!!_._property(t,"profile.photo.cdnUrl");n["online"+o+"photo"+a].push(o?_.extend(t,{__online:!0}):t),r+=o}});var a=(r?e.maxCount:e.maxCountIfOffline)||3,i="";return _.each(n,function(t,s){!e.mixStatuses&&s.match(/online0/)&&r||!e.mixAvatars&&s.match(/photo0/)&&n["online"+ +!!r+"photo1"].length||o.length<a&&(i+=_.pluck(t,"_id").join(","),_.each(_.shuffle(t),function(e){o.length<a&&o.push(e)}))}),{operators:_.first(o,a),onlineCount:r,inPrinciple:i}}},"ping.js":function(){var e=18e4,t=!0,n=function(){console.log("ping"),t&&(t=!1,Meteor.call("ping",e,function(e,n){t=!0,e?console.warn("ping; error:",e):console.log("ping; id:",n)}))};Chtr.onClientReady(function(){Meteor.setInterval(n,e),n()})},"position.js":function(){var e={r:"right",l:"left",t:"top",b:"bottom"},t=["r","l","t","b","c","m"];Meteor.startup(function(){Tracker.autorun(function(t){if(window.parent===window)return t.stop();var n=Session.get("chatPositionOverride")||Chtr.hostSettings("position");n&&"round"!=Session.get("buttonType")&&Chtr.isMobileWidget()&&("r"==n[0]?n="br":"l"==n[0]&&(n="bl")),t.positionCode!==n&&(Chtr.postMessage("setPosition",n),Session.set("widgetSide",e[n.charAt(0)]),t.positionCode=n)})}),$document.on("message:setPosition",function(n,r){return"string"==typeof r&&e[r.charAt(0)]&&t.indexOf(r.charAt(1))!=-1?void Session.set("chatPositionOverride",r):void console.warn("message:setPosition: invalid positionCode")}),$document.on("message:resetPosition",function(e){Session.set("chatPositionOverride")})},"post-message-reciever.js":function(){Chtr.isInFrame&&($window.on("message",function(e){var t;try{t=JSON.parse(e.originalEvent.data)}catch(e){return}"Chatra"===t.sender&&$document.trigger("message:"+t.type,[t.data])}),Meteor.startup(function(){Chtr.postMessage("apiReady")}))},"preform-or-chat.js":function(){Meteor.startup(function(){Session.set("showForm"),Session.set("showChat"),Session.set("loading",!0),Tracker.autorun(function(e){var t=!!Chtr.client({_id:1}),n=t&&Session.get("showPreform"),r=t&&Session.get("showChatRatingTab"),o=t&&!n&&!r,a=!t;Session.set("showForm",n),e.showChat!==o&&(console.log("form-or-chat.js; showChat:",o),Session.set("showChat",o),Tracker.afterFlush(function(){document.hasFocus&&document.hasFocus()&&$document.trigger("autofocus")}),e.showChat=o),Session.set("loading",a)})})},"ready.js":function(){Session.set("ready",!1),Meteor.startup(function(){var e=Chtr.isInFrame&&new ReactiveVar;Tracker.autorun(function(t){Session.set("ready",Session.get("Localizer.ready")&&Chtr.subscribedTo(["host","agents"])&&(!e||e.get()))}),Chtr.isInFrame&&($document.on("message:hostedStorage",function(t,n){_.extend(Chtr.hostedStorage,n),e.set(!0)}),Chtr.postMessage("readyToRetriveHostedStorage"))})},"reload.js":function(){Tracker.autorun(function(e){var t=Meteor.status();if(e.retryCount!==t.retryCount)return console.log("status.retryCount",t.retryCount),t.retryCount>=6?(Chtr.showChat(!1),void location.reload()):void(e.status=t.status)})},"removed.js":function(){Meteor.startup(function(){Tracker.autorun(function(e){null===_._property(Chtr.client({id:1}),"id")&&(Chtr.isInFrame?Chtr.postMessage("restart"):location.reload())})})},"send-transcript.js":function(){},"set-group.js":function(){Chtr.groupId=new ReactiveVar,Chtr.groupIdIsSet=new ReactiveVar((!0));var e;Chtr.setGroup=function(t,n){e&&!n||(console.log("set-group.js → Chtr.setGroup; groupId:",t),Chtr.groupIdIsSet.set(!1),Chtr.groupId.set(t),Chtr.onClientReady(function(e){Meteor.call("setGroup",e,t,function(){Chtr.groupIdIsSet.set(!0)})}),e=n)};var t=Chtr.queryParams.groupId;Chtr.isRecentSubscriber()||Tracker.autorun(function(e){Session.get("smartActionsDone")&&(Chtr.setGroup(t),e.stop())}),$document.on("message:setGroupId",function(e,n){console.log("set-group.js → recieve from parent; groupId:",n),Chtr.setGroup(t=n,!0)}),Tracker.autorun(function(e){if(Session.get("smartActionsDone")){var n=Chtr.client(["groupId"]),r=_._property(n,"_id");r&&Session.get("chatStarted")?(console.log("set-group.js → catch groupId from client; groupId:",n.groupId),Chtr.groupIdIsSet.get()&&(Chtr.groupId.set(n.groupId),Chtr.setClientItem("groupId",n.groupId))):Chtr.isRecentSubscriber()?e.recentSubscriber||(console.log("set-group.js → restore from localstorage"),Chtr.setGroup(Chtr.getClientItem("groupId")||t),e.recentSubscriber=!0):(console.log("set-group.js → drop localstorage"),Chtr.setClientItem("groupId",""))}})},"smart-actions.js":function(){Tracker.autorun(function(t){Session.get("ready")&&(Tracker.afterFlush(function(){Chtr.updateStoredSession();var t=Chtr.host(),n=_._property(t,"actions"),r=_._property(t,"isPaid");n&&r&&_.each(n,function(t,n){if(!Chtr.isMobileWidget()||"expand"!=t.todo)try{new e(t,n)}catch(e){console.warn("smart-actions.js; error:",e)}}),Session.set("smartActionsDone",!0)}),t.stop())});var e=function(e,t){var n=this;n.action=e,n.id=t,n.handle()};e.prototype={handle:function(){var e=this;console.log("Action.handle; that.action, that.id:",e.action,e.id),e.action&&e.action.saved&&e.action.enabled&&e.when()},when:function(){var e=this;console.log("Action.when; that.action, that.id:",e.action,e.id);var t=e.action.when;if(t&&"always"!==t){var n=Session.get("availableOperators");console.log("Chtr.actions.when; when, availableOperators, that.id:",t,n,e.id),("online"===t&&n||"offline"===t&&!n)&&e.if()}else e.if()},if:function(){var e=this;console.log("Action.if; that.action, that.id:",e.action,e.id);var t=e.action.conditions;t&&_.size(t)?(e._checkConditions(),_["or"===e.action.if?"some":"every"](_.pluck(t,"_ok"))&&(console.log("Action.if → conditions are ok"),e.then())):(console.log("Action.if → no conditions"),e.then())},then:function(){var e=this;console.log("Action.then; that.action, that.id:",e.action,e.id);var t=e.action.then;if("once"===t)Chtr.getDomainItem(e.id)||(e.do(),Chtr.setDomainItem(e.id,!0));else if("visit"===t){var n=Chtr.getDomainItem("visitOpenedAt");Chtr.getDomainItem(e.id)!=n&&(e.do(),Chtr.setDomainItem(e.id,n))}else e.do()},do:function(){var e=this;if(console.log("Action.do; that.action, that.id:",e.action,e.id),!e.action._done){switch(e.action.todo){case"expand":Chtr.openChat(),Chtr.setDomainItem("targetedChatShownAt",Chtr.now()),Chtr.postMessage("analyticsEvent","Targeted chat shown");break;case"hide":Chtr.showChat(!1),Session.set("chatHiddenFromSmart",!0);break;case"message":Chtr.getClient({create:!0}),Chtr.onClientReady(function(t){Chtr.chatStarted()||Meteor.call("postSmartMessage",t,e.id,e.action,{language:Session.get("Localizer.language")},function(e){return e?console.warn(e):(Chtr.postMessage("analyticsEvent","Targeted chat shown"),Chtr.setDomainItem("targetedChatShownAt",Chtr.now()),void Chtr.setDomainItem("smartMessageSentAt",Chtr.now()))})});break;case"assignToGroup":Chtr.setGroup(e.action.groupId,!0)}e.action._done=!0}},_checkConditions:function(){var e=this;console.log("Action._checkConditions; that.action, that.id:",e.action,e.id);var t=e.action.conditions;_.each(t,function(t,n){if(!t._checked){var r=Chtr.now(),o=/(\/)?(\?|#)?$/g,a=t.wanted,i;switch(t.compare){case"url":i=(Chtr.getDomainItem("currentPage")||"").replace(o,""),a=a.replace(o,"");break;case"referrer":i=(Chtr.getDomainItem("referrer")||"").replace(o,""),a=a.replace(o,"");break;case"visits":i=Chtr.getDomainItem("visitsCount");break;case"pagesVisit":i=Chtr.getDomainItem("pagesVisitCount");break;case"pagesAll":i=Chtr.getDomainItem("pagesAllCount");break;case"timePage":i=(r-Chtr.getDomainItem("pageOpenedAt"))/1e3;break;case"timeVisit":i=(r-Chtr.getDomainItem("visitOpenedAt"))/1e3;break;case"timeSinceClose":i=(r-(Chtr.getDomainItem("chatClosedAt")||0))/1e3;break;case"timeSinceSmartMessage":i=(r-(Chtr.getDomainItem("smartMessageSentAt")||0))/1e3;break;case"chatHistory":i=!!Chtr.getClientItem("lastMessageSentAt")}switch(t.operator){case"notEqual":t._ok=a!=i;break;case"contains":t._ok=(i||"").indexOf(a)!==-1;break;case"notContains":t._ok=(i||"").indexOf(a)==-1;break;case"regexp":try{t._ok=new RegExp(a,"gi").test(i)}catch(e){console.warn("Action._checkConditions: Invalid regular expression:",a),t._ok=!1}break;case"more":if(t._ok=i>a,!t._ok&&/^time/.test(t.compare)){var s=1e3*(a-i)+1;if(!s)return;setTimeout(function(){t._checked=!1,e.if()},s)}break;case"less":t._ok=i<a;break;default:t._ok=a==i}console.log("smart-actions.js; wanted, value, condition._ok:",a,i,t._ok),t._checked=!0}})}}},"smart-reload.js":function(){},"sounds.js":function(){Chtr.sounds={},Chtr.stopNowPlaying=function(){var e=Chtr.nowPlaying;e&&(e.stop(),Chtr.nowPlaying=null)},Meteor.startup(function(){_.each(["clogtick","triangle","maraca","sleighbells","washboard","windchimes","castanets"],function(e){Chtr.sounds[e]=new buzz.sound(Chtr.assetUrl("/static/sounds/"+e),{formats:["mp3","wav"],preload:!1,volume:30})}),Chtr.sounds.none={play:_._noop,load:_._noop,stop:_._noop},Tracker.autorun(function(e){var t=Chtr.hostSettings();if(t){var n=_._property(t,"sound")||_.keys(Chtr.sounds)[0];e.sound!==n&&(console.log("Preload notification sound:",n),Chtr.sounds[n]&&Chtr.sounds[n].load(),e.sound=n)}})})},"status-connected.js":function(){Template.registerHelper("statusConnected",Chtr.statusConnected=function(){var e=Meteor.status();return e.connected||"offline"===e.status})},"tab-id.js":function(){Chtr.tabID=Random.id();var e,t=function(){console.log("tab-id.js → ensureTabId()"),Chtr.getClientItem("Chtr.tabID",!1)||(Chtr.setClientItem("Chtr.tabID",Chtr.tabID,!1),Chtr.clientId()&&Chtr.reconnect())};$window.on("focuschange",function(n,r){console.log("tab-id.js → focuschange; focused:",r),Meteor.clearInterval(e),r?Chtr.setClientItem("Chtr.tabID",Chtr.tabID,!1):e=Meteor.setInterval(t,6e4)}),$window.on("beforeunload",function(){Chtr.getClientItem("Chtr.tabID",!1)===Chtr.tabID&&Chtr.setClientItem("Chtr.tabID","",!1)})},"unread.js":function(){Tracker.autorun(function(e){var t;if(Session.get("ready")&&Session.get("chatVisible")&&Session.get("showChat")&&(t=Chtr.client({unreadCount:1,opened:1}))){console.log("unread.js → autorun → ready; client:",t);var n=Chtr.getClientItem("Chtr.tabID",!1);if(n&&n!==Chtr.tabID)return void console.log("unread.js → autorun → abort; storedTabID, Chtr.tabID:",n,Chtr.tabID);console.log("unread.js → autorun; good Chtr.tabID");var r=_._property(t,"unreadCount");if((e.unreadCount||0)<r){console.log("UNREAD!");var o=Chtr.hostSettings("sound")||_.keys(Chtr.sounds)[0],a=Chtr.sounds[o];!Chtr.isMobileWidget()&&a&&(Chtr.stopNowPlaying(),setTimeout(function(){Chtr.nowPlaying=a.play()},0)),Chtr.isMobileWidget()||t.opened===Chtr.tabID||Chtr.openChat(),Chtr.focused||Chtr.titleBlink(L("chat.newMessage")+(Chtr.logo()?" "+L("chatra.logo"):""))}else r||(console.log("READ!"),Chtr.stopNowPlaying(),Chtr.titleBlink(!1));e.unreadCount=r}}),$window.on("focuschange",function(e,t){t&&Chtr.titleBlink(!1)})}},modules:{"buzz.import.js":["./buzz.js",function(e){buzz=e("./buzz.js")}],"buzz.js":function(e,t,n){!function(e,t){"use strict";"undefined"!=typeof n&&n.exports?n.exports=t():"function"==typeof define&&define.amd?define([],t):e.buzz=t()}(this,function(){"use strict";var e=window.AudioContext||window.webkitAudioContext,t={audioCtx:window.AudioContext?new e:null,defaults:{autoplay:!1,duration:5e3,formats:[],loop:!1,placeholder:"--",preload:"metadata",volume:80,webAudioApi:!1,document:window.document},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),sound:function(e,n){function r(e){for(var t=[],n=e.length-1,r=0;r<=n;r++)t.push({start:e.start(r),end:e.end(r)});return t}function o(e){return e.split(".").pop()}n=n||{};var a=n.document||t.defaults.document,i=0,s=[],c={},u=t.isSupported();if(this.load=function(){return u?(this.sound.load(),this):this},this.play=function(){return u?(this.sound.play(),this):this},this.togglePlay=function(){return u?(this.sound.paused?this.sound.play():this.sound.pause(),this):this},this.pause=function(){return u?(this.sound.pause(),this):this},this.isPaused=function(){return u?this.sound.paused:null},this.stop=function(){return u?(this.setTime(0),this.sound.pause(),this):this},this.isEnded=function(){return u?this.sound.ended:null},this.loop=function(){return u?(this.sound.loop="loop",this.bind("ended.buzzloop",function(){this.currentTime=0,this.play()}),this):this},this.unloop=function(){return u?(this.sound.removeAttribute("loop"),this.unbind("ended.buzzloop"),this):this},this.mute=function(){return u?(this.sound.muted=!0,this):this},this.unmute=function(){return u?(this.sound.muted=!1,this):this},this.toggleMute=function(){return u?(this.sound.muted=!this.sound.muted,this):this},this.isMuted=function(){return u?this.sound.muted:null},this.setVolume=function(e){return u?(e<0&&(e=0),e>100&&(e=100),this.volume=e,this.sound.volume=e/100,this):this},this.getVolume=function(){return u?this.volume:this},this.increaseVolume=function(e){return this.setVolume(this.volume+(e||1))},this.decreaseVolume=function(e){return this.setVolume(this.volume-(e||1))},this.setTime=function(e){if(!u)return this;var t=!0;return this.whenReady(function(){t===!0&&(t=!1,this.sound.currentTime=e)}),this},this.getTime=function(){if(!u)return null;var e=Math.round(100*this.sound.currentTime)/100;return isNaN(e)?t.defaults.placeholder:e},this.setPercent=function(e){return u?this.setTime(t.fromPercent(e,this.sound.duration)):this},this.getPercent=function(){if(!u)return null;var e=Math.round(t.toPercent(this.sound.currentTime,this.sound.duration));return isNaN(e)?t.defaults.placeholder:e},this.setSpeed=function(e){return u?(this.sound.playbackRate=e,this):this},this.getSpeed=function(){return u?this.sound.playbackRate:null},this.getDuration=function(){if(!u)return null;var e=Math.round(100*this.sound.duration)/100;return isNaN(e)?t.defaults.placeholder:e},this.getPlayed=function(){return u?r(this.sound.played):null},this.getBuffered=function(){return u?r(this.sound.buffered):null},this.getSeekable=function(){return u?r(this.sound.seekable):null},this.getErrorCode=function(){return u&&this.sound.error?this.sound.error.code:0},this.getErrorMessage=function(){if(!u)return null;switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return null}},this.getStateCode=function(){return u?this.sound.readyState:null},this.getStateMessage=function(){if(!u)return null;switch(this.getStateCode()){case 0:return"HAVE_NOTHING";case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";case 4:return"HAVE_ENOUGH_DATA";default:return null}},this.getNetworkStateCode=function(){return u?this.sound.networkState:null},this.getNetworkStateMessage=function(){if(!u)return null;switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";default:return null}},this.set=function(e,t){return u?(this.sound[e]=t,this):this},this.get=function(e){return u?e?this.sound[e]:this.sound:null},this.bind=function(e,t){if(!u)return this;e=e.split(" ");for(var n=this,r=function(e){t.call(n,e)},o=0;o<e.length;o++){var a=e[o],i=a;a=i.split(".")[0],s.push({idx:i,func:r}),this.sound.addEventListener(a,r,!0)}return this},this.unbind=function(e){if(!u)return this;e=e.split(" ");for(var t=0;t<e.length;t++)for(var n=e[t],r=n.split(".")[0],o=0;o<s.length;o++){var a=s[o].idx.split(".");(s[o].idx===n||a[1]&&a[1]===n.replace(".",""))&&(this.sound.removeEventListener(r,s[o].func,!0),s.splice(o,1))}return this},this.bindOnce=function(e,t){if(!u)return this;var n=this;return c[i++]=!1,this.bind(e+"."+i,function(){c[i]||(c[i]=!0,t.call(n)),n.unbind(e+"."+i)}),this},this.trigger=function(e,t){if(!u)return this;e=e.split(" ");for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<s.length;o++){var i=s[o].idx.split(".");if(s[o].idx===r||i[0]&&i[0]===r.replace(".","")){var c=a.createEvent("HTMLEvents");c.initEvent(i[0],!1,!0),c.originalEvent=t,this.sound.dispatchEvent(c)}}return this},this.fadeTo=function(e,n,r){function o(){setTimeout(function(){a<e&&s.volume<e?(s.setVolume(s.volume+=1),o()):a>e&&s.volume>e?(s.setVolume(s.volume-=1),o()):r instanceof Function&&r.apply(s)},i)}if(!u)return this;n instanceof Function?(r=n,n=t.defaults.duration):n=n||t.defaults.duration;var a=this.volume,i=n/Math.abs(a-e),s=this;return this.play(),this.whenReady(function(){o()}),this},this.fadeIn=function(e,t){return u?this.setVolume(0).fadeTo(100,e,t):this},this.fadeOut=function(e,t){return u?this.fadeTo(0,e,t):this},this.fadeWith=function(e,t){return u?(this.fadeOut(t,function(){this.stop()}),e.play().fadeIn(t),this):this},this.whenReady=function(e){if(!u)return null;var t=this;0===this.sound.readyState?this.bind("canplay.buzzwhenready",function(){e.call(t)}):e.call(t)},this.addSource=function(e){var n=this,r=a.createElement("source");return r.src=e,t.types[o(e)]&&(r.type=t.types[o(e)]),this.sound.appendChild(r),r.addEventListener("error",function(e){n.sound.networkState=3,n.trigger("sourceerror",e)}),r},u&&e){for(var l in t.defaults)t.defaults.hasOwnProperty(l)&&void 0===n[l]&&(n[l]=t.defaults[l]);if(this.sound=a.createElement("audio"),n.webAudioApi&&t.audioCtx&&(this.source=t.audioCtx.createMediaElementSource(this.sound),this.source.connect(t.audioCtx.destination)),e instanceof Array)for(var p in e)e.hasOwnProperty(p)&&this.addSource(e[p]);else if(n.formats.length)for(var h in n.formats)n.formats.hasOwnProperty(h)&&this.addSource(e+"."+n.formats[h]);else this.addSource(e);n.loop&&this.loop(),n.autoplay&&(this.sound.autoplay="autoplay"),n.preload===!0?this.sound.preload="auto":n.preload===!1?this.sound.preload="none":this.sound.preload=n.preload,this.setVolume(n.volume),t.sounds.push(this)}},group:function(e){function t(){for(var t=n(null,arguments),r=t.shift(),o=0;o<e.length;o++)e[o][r].apply(e[o],t)}function n(e,t){return e instanceof Array?e:Array.prototype.slice.call(t)}e=n(e,arguments),this.getSounds=function(){return e},this.add=function(t){t=n(t,arguments);for(var r=0;r<t.length;r++)e.push(t[r])},this.remove=function(t){t=n(t,arguments);for(var r=0;r<t.length;r++)for(var o=0;o<e.length;o++)if(e[o]===t[r]){e.splice(o,1);break}},this.load=function(){return t("load"),this},this.play=function(){return t("play"),this},this.togglePlay=function(){return t("togglePlay"),this},this.pause=function(e){return t("pause",e),this},this.stop=function(){return t("stop"),this},this.mute=function(){return t("mute"),this},this.unmute=function(){return t("unmute"),this},this.toggleMute=function(){return t("toggleMute"),this},this.setVolume=function(e){return t("setVolume",e),this},this.increaseVolume=function(e){return t("increaseVolume",e),this},this.decreaseVolume=function(e){return t("decreaseVolume",e),this},this.loop=function(){return t("loop"),this},this.unloop=function(){return t("unloop"),this},this.setSpeed=function(e){return t("setSpeed",e),this},this.setTime=function(e){return t("setTime",e),this},this.set=function(e,n){return t("set",e,n),this},this.bind=function(e,n){return t("bind",e,n),this},this.unbind=function(e){return t("unbind",e),this},this.bindOnce=function(e,n){return t("bindOnce",e,n),this},this.trigger=function(e){return t("trigger",e),this},this.fade=function(e,n,r,o){return t("fade",e,n,r,o),this},this.fadeIn=function(e,n){return t("fadeIn",e,n),this},this.fadeOut=function(e,n){return t("fadeOut",e,n),this}},all:function(){return new t.group(t.sounds)},isSupported:function(){return!!t.el.canPlayType},isOGGSupported:function(){return!!t.el.canPlayType&&t.el.canPlayType('audio/ogg; codecs="vorbis"')},isWAVSupported:function(){return!!t.el.canPlayType&&t.el.canPlayType('audio/wav; codecs="1"')},isMP3Supported:function(){return!!t.el.canPlayType&&t.el.canPlayType("audio/mpeg;")},isAACSupported:function(){return!!t.el.canPlayType&&(t.el.canPlayType("audio/x-m4a;")||t.el.canPlayType("audio/aac;"))},toTimer:function(e,t){var n,r,o;return n=Math.floor(e/3600),n=isNaN(n)?"--":n>=10?n:"0"+n,r=t?Math.floor(e/60%60):Math.floor(e/60),r=isNaN(r)?"--":r>=10?r:"0"+r,o=Math.floor(e%60),o=isNaN(o)?"--":o>=10?o:"0"+o,t?n+":"+r+":"+o:r+":"+o},fromTimer:function(e){var t=e.toString().split(":");return t&&3===t.length&&(e=3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)),t&&2===t.length&&(e=60*parseInt(t[0],10)+parseInt(t[1],10)),e},toPercent:function(e,t,n){var r=Math.pow(10,n||0);return Math.round(100*e/t*r)/r},fromPercent:function(e,t,n){var r=Math.pow(10,n||0);return Math.round(t/100*e*r)/r}};return t})},"custom-scrollbar.js":["./getScrollbarWidth",function(e){window.CustomScrollbar=function(t,n){if(!(window.Sniff&&"ie"==Sniff.browser.name&&Sniff.browser.majorVersion<10)&&Modernizr.csstransforms){var r=this,o=e("./getScrollbarWidth");o(function(e){e&&(r.node=t[0],r.$node=t,r.$wrapper=t.parent(),r.scrollbarWidth=e,r.options=$.extend({refreshTimer:!0,caretMinLength:30,mods:[],wrapperClass:"custom-scrollbar",caretClass:"custom-scrollbar__caret",caretInnerClass:"custom-scrollbar__caret-inner",recipientClass:"custom-scrollbar__recipient",activeClass:"is-active",grabbingClass:"is-grabbing"},n),r._init())})}},window.CustomScrollbar.prototype={_init:function(){var e=this,t=this.options.mods.map(function(e){return"is-"+e}).join(" "),n,r=this.$wrapper.css("position");this._id=Random.id(),{absolute:1,fixed:1,relative:1}[r]||this.$wrapper.css("position","relative"),this.$wrapper.css({overflow:"hidden"}).addClass(this.options.wrapperClass+" "+t),this.$node.css({width:"calc(100% + "+(this.scrollbarWidth+1)+"px)",marginRight:-(this.scrollbarWidth+1)+"px",overflowY:"scroll"}).addClass(this.options.recipientClass),this.$caret=$("<div>",{class:this.options.caretClass}).append('<div class="'+this.options.caretInnerClass+'">'),this.refresh(),this.$caret.appendTo(this.$wrapper),this.$node.on("scroll."+this._id+" contentchange."+this._id,function(){e.refresh()}),$(window).on("resize."+this._id+" orientationchange."+this._id,function(){
e.refresh()}),this.options.refreshTimer&&(this._refreshIntervalId=setInterval(function(){e.refresh()},250)),window.EventBurrito&&(this._burrito=EventBurrito(this.$caret[0],{preventScroll:!0,start:function(t,r){e._grabStart(),n=e.node.scrollTop},move:function(t,r,o,a,i){e.node.scrollTop=n+o.y*e._ratio},end:function(t,n,r,o,a){e._grabStop()}})),this._initializd=!0},_grabStart:function(){this._initializd&&this.$wrapper.addClass(this.options.grabbingClass)},_grabStop:function(){this._initializd&&this.$wrapper.removeClass(this.options.grabbingClass)},refresh:function(){if(this._initializd){var e=this.node.scrollHeight/this.node.clientHeight,t=this.node.clientHeight/e,n=Math.max(t,this.options.caretMinLength),r=this._ratio=this.node.scrollHeight/(this.node.clientHeight-(n-t)),o=this.node.scrollTop/r,a=this.node.offsetTop;this._prevRatio==e&&this._prevPosition==o||(this._prevRatio=e,this._prevPosition=o,this.$caret.css({height:n+"px",transform:"translateY("+(a+o)+"px)"+(Modernizr.csstransforms3d?"translateZ(0)":"")}),this.node.scrollHeight>this.node.clientHeight+1?this.$caret.addClass(this.options.activeClass):this.$caret.removeClass(this.options.activeClass))}},kill:function(){this._initializd&&(this.$node.off("scroll."+this._id+" contentchange."+this._id),$(window).off("resize."+this._id+" orientationchange."+this._id),this.$caret.remove(),this.$wrapper.css({position:"",overflow:""}).removeClass(this.options.wrapperClass),this.$node.css({width:"",overflowY:""}).removeClass(this.options.recipientClass),this._refreshIntervalId&&clearInterval(this._refreshIntervalId),this._burrito.kill())}}}],"emojione.js":function(e,t,n){!function(e){var t=new RegExp("👩‍❤️‍💋‍👩|👨‍❤️‍💋‍👨|👨‍👨‍👧‍👦|👨‍👨‍👧‍👧|👨‍👩‍👦‍👦|👨‍👩‍👧‍👦|👨‍👩‍👧‍👧|👩‍👩‍👦‍👦|👩‍👩‍👧‍👦|👩‍👩‍👧‍👧|👨‍👨‍👦‍👦|👨‍❤️‍👨|👨‍👨‍👧|👨‍👩‍👧|👩‍👩‍👦|👩‍👩‍👧|👩‍❤️‍👩|👨‍👨‍👦|👁‍🗨|🇦🇩|🇦🇪|🇦🇫|🇦🇬|🇦🇮|🇦🇱|🇦🇲|🇦🇴|🇦🇶|🇦🇷|🤾🏿|🤾🏾|🤾🏽|🤾🏼|🤾🏻|🤽🏿|🤽🏾|🤽🏽|🤽🏼|🤽🏻|🤼🏿|🤼🏾|🤼🏽|🤼🏼|🤼🏻|🤹🏿|🤹🏾|🤹🏽|🤹🏼|🤹🏻|🤸🏿|🤸🏾|🤸🏽|🤸🏼|🤸🏻|🤷🏿|🤷🏾|🤷🏽|🤷🏼|🤷🏻|🤶🏿|🤶🏾|🤶🏽|🤶🏼|🤶🏻|🤵🏿|🤵🏾|🤵🏽|🤵🏼|🤵🏻|🤴🏿|🤴🏾|🤴🏽|🤴🏼|🤴🏻|🤳🏿|🤳🏾|🤳🏽|🤳🏼|🤳🏻|🤰🏿|🤰🏾|🤰🏽|🤰🏼|🤰🏻|🤦🏿|🤦🏾|🤦🏽|🤦🏼|🤦🏻|🤞🏿|🤞🏾|🤞🏽|🤞🏼|🤞🏻|🤝🏿|🤝🏾|🤝🏽|🤝🏼|🤝🏻|🤜🏿|🤜🏾|🤜🏽|🤜🏼|🤜🏻|🤛🏿|🤛🏾|🤛🏽|🤛🏼|🤛🏻|🤚🏿|🤚🏾|🤚🏽|🤚🏼|🤚🏻|🤙🏿|🤙🏾|🤙🏽|🤙🏼|🤙🏻|🤘🏿|🤘🏾|🤘🏽|🤘🏼|🤘🏻|🛀🏿|🛀🏾|🛀🏽|🛀🏼|🛀🏻|🚶🏿|🚶🏾|🚶🏽|🚶🏼|🚶🏻|🚵🏿|🚵🏾|🚵🏽|🚵🏼|🚵🏻|🚴🏿|🚴🏾|🚴🏽|🚴🏼|🚴🏻|🚣🏿|🚣🏾|🚣🏽|🚣🏼|🚣🏻|🙏🏿|🙏🏾|🙏🏽|🙏🏼|🙏🏻|🙎🏿|🙎🏾|🙎🏽|🙎🏼|🙎🏻|🙍🏿|🙍🏾|🙍🏽|🙍🏼|🙍🏻|🙌🏿|🙌🏾|🙌🏽|🙌🏼|🙌🏻|🙋🏿|🙋🏾|🙋🏽|🙋🏼|🙋🏻|🙇🏿|🙇🏾|🙇🏽|🙇🏼|🙇🏻|🙆🏿|🙆🏾|🙆🏽|🙆🏼|🙆🏻|🙅🏿|🙅🏾|🙅🏽|🙅🏼|🙅🏻|🖖🏿|🖖🏾|🖖🏽|🖖🏼|🖖🏻|🖕🏿|🖕🏾|🖕🏽|🖕🏼|🖕🏻|🖐🏿|🖐🏾|🖐🏽|🖐🏼|🖐🏻|🕺🏿|🕺🏾|🕺🏽|🕺🏼|🕺🏻|🕵🏿|🕵🏾|🕵🏽|🕵🏼|🕵🏻|💪🏿|💪🏾|💪🏽|💪🏼|💪🏻|💇🏿|💇🏾|💇🏽|💇🏼|💇🏻|💆🏿|💆🏾|💆🏽|💆🏼|💆🏻|💅🏿|💅🏾|💅🏽|💅🏼|💅🏻|💃🏿|💃🏾|💃🏽|💃🏼|💃🏻|💂🏿|💂🏾|💂🏽|💂🏼|💂🏻|💁🏿|💁🏾|💁🏽|💁🏼|💁🏻|👼🏿|👼🏾|👼🏽|👼🏼|👼🏻|👸🏿|👸🏾|👸🏽|👸🏼|👸🏻|👷🏿|👷🏾|👷🏽|👷🏼|👷🏻|👶🏿|👶🏾|👶🏽|👶🏼|👶🏻|👵🏿|👵🏾|👵🏽|👵🏼|👵🏻|👴🏿|👴🏾|👴🏽|👴🏼|👴🏻|👳🏿|👳🏾|👳🏽|👳🏼|👳🏻|👲🏿|👲🏾|👲🏽|👲🏼|👲🏻|👱🏿|👱🏾|👱🏽|👱🏼|👱🏻|👰🏿|👰🏾|👰🏽|👰🏼|👰🏻|👮🏿|👮🏾|👮🏽|👮🏼|👮🏻|👩🏿|👩🏾|👩🏽|👩🏼|👩🏻|👨🏿|👨🏾|👨🏽|👨🏼|👨🏻|👧🏿|👧🏾|👧🏽|👧🏼|👧🏻|👦🏿|👦🏾|👦🏽|👦🏼|👦🏻|👐🏿|👐🏾|👐🏽|👐🏼|👐🏻|👏🏿|👏🏾|👏🏽|👏🏼|👏🏻|👎🏿|👎🏾|👎🏽|👎🏼|👎🏻|👍🏿|👍🏾|👍🏽|👍🏼|👍🏻|👌🏿|👌🏾|👌🏽|👌🏼|👌🏻|👋🏿|👋🏾|👋🏽|👋🏼|👋🏻|👊🏿|👊🏾|👊🏽|👊🏼|👊🏻|👉🏿|👉🏾|👉🏽|👉🏼|👉🏻|👈🏿|👈🏾|👈🏽|👈🏼|👈🏻|👇🏿|👇🏾|👇🏽|👇🏼|👇🏻|👆🏿|👆🏾|👆🏽|👆🏼|👆🏻|👃🏿|👃🏾|👃🏽|👃🏼|👃🏻|👂🏿|👂🏾|👂🏽|👂🏼|👂🏻|🏋🏿|🏋🏾|🏋🏽|🏋🏼|🏋🏻|🏊🏿|🏊🏾|🏊🏽|🏊🏼|🏊🏻|🏇🏿|🏇🏾|🏇🏽|🏇🏼|🏇🏻|🏄🏿|🏄🏾|🏄🏽|🇦🇨|🏄🏻|🏃🏿|🏃🏾|🏃🏽|🏃🏼|🏃🏻|🎅🏿|🎅🏾|🎅🏽|🎅🏼|🎅🏻|🇿🇼|🇿🇲|🇿🇦|🇾🇹|🇾🇪|🇽🇰|🇼🇸|🇼🇫|🇻🇺|🇻🇳|🇻🇮|🇻🇬|🇻🇪|🇻🇨|🇻🇦|🇺🇿|🇺🇾|🇺🇸|🇺🇲|🇺🇬|🇺🇦|🇹🇿|🇹🇼|🇹🇻|🇹🇹|🇹🇷|🇹🇴|🇹🇳|🇹🇲|🇹🇱|🇹🇰|🇹🇯|🇹🇭|🇹🇬|🇹🇫|🇹🇩|🇹🇨|🇹🇦|🇸🇿|🇸🇾|🇸🇽|🇸🇻|🇸🇹|🇸🇸|🇸🇷|🇸🇴|🇸🇳|🇸🇲|🇸🇱|🇸🇰|🇸🇯|🇸🇮|🇸🇭|🇸🇬|🇸🇪|🇸🇩|🇸🇨|🇸🇧|🇸🇦|🇷🇼|🇷🇺|🇷🇸|🇷🇴|🇷🇪|🇶🇦|🇵🇾|🇵🇼|🇵🇹|🇵🇸|🇵🇷|🇵🇳|🇵🇲|🇵🇱|🇵🇰|🇵🇭|🇵🇬|🇵🇫|🇵🇪|🇵🇦|🇴🇲|🇳🇿|🇳🇺|🇳🇷|🇳🇵|🇳🇴|🇳🇱|🇳🇮|🇳🇬|🇳🇫|🇳🇪|🇳🇨|🇳🇦|🇲🇿|🇲🇾|🇲🇽|🇲🇼|🇲🇻|🇲🇺|🇲🇹|🇲🇸|🇲🇷|🇲🇶|🇲🇵|🇲🇴|🇲🇳|🇲🇲|🇲🇱|🇲🇰|🇲🇭|🇲🇬|🇲🇫|🇲🇪|🇲🇩|🇲🇨|🇲🇦|🇱🇾|🇱🇻|🇱🇺|🇱🇹|🇱🇸|🇱🇷|🇱🇰|🇱🇮|🇱🇨|🇱🇧|🇱🇦|🇰🇿|🇰🇾|🇰🇼|🇰🇷|🇰🇵|🇰🇳|🇰🇲|🇰🇮|🇰🇭|🇰🇬|🇰🇪|🇯🇵|🇯🇴|🇯🇲|🇯🇪|🇮🇹|🇮🇸|🇮🇷|🇮🇶|🇮🇴|🇮🇳|🇮🇲|🇮🇱|🇮🇪|🇮🇩|🇮🇨|🇭🇺|🇭🇹|🇭🇷|🇭🇳|🇭🇲|🇭🇰|🇬🇾|🇬🇼|🇬🇺|🇬🇹|🇬🇸|🇬🇷|🇬🇶|🇬🇵|🇬🇳|🇬🇲|🇬🇱|🇬🇮|🇬🇭|🇬🇬|🇬🇫|🇬🇪|🇬🇩|🇬🇧|🇬🇦|🇫🇷|🇫🇴|🇫🇲|🇫🇰|🇫🇯|🇫🇮|🇪🇺|🇪🇹|🇪🇸|🇪🇷|🇪🇭|🇪🇬|🇪🇪|🇪🇨|🇪🇦|🇩🇿|🇩🇴|🇩🇲|🇩🇰|🇩🇯|🇩🇬|🇩🇪|🇨🇿|🇨🇾|🇨🇽|🇨🇼|🇨🇻|🇨🇺|🇨🇷|🇨🇵|🇨🇴|🇨🇳|🇨🇲|🇨🇱|🇨🇰|🇨🇮|🇨🇭|🇨🇬|🇨🇫|🇨🇩|🇨🇨|🇨🇦|🇧🇿|🇧🇾|🇧🇼|🇧🇻|🇧🇹|🇧🇸|🇧🇷|🇧🇶|🇧🇴|🇧🇳|🇧🇲|🇧🇱|🇧🇯|🇧🇮|🇧🇭|🇧🇬|🇧🇫|🇧🇪|🇧🇩|🇧🇧|🇧🇦|🇦🇿|🇦🇽|🇦🇼|🇦🇺|🇦🇹|🇦🇸|🏄🏼|9️⃣|7️⃣|6️⃣|5️⃣|4️⃣|3️⃣|2️⃣|1️⃣|0️⃣|#️⃣|🀄️|🅿️|🈂️|🈚️|🈯️|🈷️|🎞️|🎟️|🏋️|🏌️|🏍️|🏎️|🎖️|🎗️|🌶️|🌧️|🌨️|🌩️|🌪️|🌫️|🌬️|🐿️|🕷️|🕸️|🌡️|🎙️|🎚️|🎛️|🏳️|🏵️|🏷️|📽️|🕉️|🕊️|🕯️|🕰️|🕳️|🕶️|🕹️|🖇️|🖊️|🖋️|🖌️|🖍️|🖥️|🖨️|🖲️|🖼️|🗂️|🗃️|🗄️|🗑️|🗒️|🗓️|🗜️|🗝️|🗞️|🗡️|8️⃣|🗯️|🗳️|🗺️|🛠️|🛡️|🛢️|🛰️|🍽️|👁️|🕴️|🕵️|🖐️|🏔️|🏕️|🏖️|🏗️|🏘️|🏙️|🏚️|🏛️|🏜️|🏝️|🏞️|🏟️|🛋️|🛍️|🛎️|🛏️|🛣️|🛤️|🛥️|🛩️|🛳️|🌤️|🌥️|🌦️|🖱️|☝🏻|☝🏼|☝🏽|☝🏾|☝🏿|✌🏻|✌🏼|✌🏽|✌🏾|✌🏿|✊🏻|✊🏼|✊🏽|✊🏾|✊🏿|✋🏻|✋🏼|✋🏽|✋🏾|✋🏿|✍🏻|✍🏼|✍🏽|✍🏾|✍🏿|⛹🏻|⛹🏼|⛹🏽|⛹🏾|⛹🏿|🗣️|©️|®️|‼️|⁉️|™️|ℹ️|↔️|↕️|↖️|↗️|↘️|↙️|↩️|↪️|⌚️|⌛️|Ⓜ️|▪️|▫️|▶️|◀️|◻️|◼️|◽️|◾️|☀️|☁️|☎️|☑️|☔️|☕️|☝️|☺️|♈️|♉️|♊️|♋️|♌️|♍️|♎️|♏️|♐️|♑️|♒️|♓️|♠️|♣️|♥️|♦️|♨️|♻️|♿️|⚓️|⚠️|⚡️|⚪️|⚫️|⚽️|⚾️|⛄️|⛅️|⛔️|⛪️|⛲️|⛳️|⛵️|⛺️|⛽️|✂️|✈️|✉️|✌️|✏️|✒️|✔️|✖️|✳️|✴️|❄️|❇️|❗️|❤️|➡️|⤴️|⤵️|⬅️|⬆️|⬇️|⬛️|⬜️|⭐️|⭕️|〰️|〽️|㊗️|㊙️|✝️|⌨️|✍️|⏭️|⏮️|⏯️|⏱️|⏲️|⏸️|⏹️|⏺️|☂️|☃️|☄️|☘️|☠️|☢️|☣️|☦️|☪️|☮️|☯️|☸️|☹️|⚒️|⚔️|⚖️|⚗️|⚙️|⚛️|⚜️|⚰️|⚱️|⛈️|⛏️|⛑️|⛓️|⛩️|⛰️|⛱️|⛴️|⛷️|⛸️|⛹️|✡️|❣️|🥉|🥈|🥇|🤺|🥅|🤾|🤽|🥋|🥊|🤼|🤹|🤸|🛶|🛵|🛴|🛒|🃏|🅰|🅱|🅾|🛑|🆎|🆑|🆒|🆓|🆔|🆕|🆖|🆗|🆘|🥄|🆙|🆚|🥂|🥃|🈁|🥙|🈲|🈳|🈴|🈵|🈶|🥘|🈸|🈹|🥗|🈺|🉐|🉑|🌀|🥖|🌁|🌂|🌃|🌄|🌅|🌆|🥕|🌇|🌈|🥔|🌉|🌊|🌋|🌌|🌏|🌑|🥓|🌓|🌔|🌕|🌙|🌛|🌟|🥒|🌠|🌰|🥑|🌱|🌴|🌵|🌷|🌸|🌹|🌺|🌻|🌼|🌽|🥐|🌾|🌿|🍀|🍁|🍂|🍃|🍄|🍅|🍆|🍇|🍈|🍉|🍊|🥀|🍌|🍍|🍎|🍏|🍑|🍒|🍓|🦏|🍔|🍕|🍖|🦎|🍗|🍘|🍙|🦍|🍚|🍛|🦌|🍜|🍝|🍞|🍟|🦋|🍠|🍡|🦊|🍢|🍣|🦉|🍤|🍥|🦈|🍦|🦇|🍧|🍨|🦆|🍩|🦅|🍪|🖤|🍫|🍬|🍭|🍮|🍯|🤞|🍰|🍱|🍲|🤝|🍳|🍴|🍵|🍶|🍷|🍸|🍹|🍺|🍻|🎀|🎁|🎂|🎃|🤛|🤜|🎄|🎅|🎆|🤚|🎇|🎈|🎉|🎊|🎋|🎌|🤙|🎍|🕺|🎎|🤳|🎏|🤰|🎐|🤦|🤷|🎑|🎒|🎓|🎠|🎡|🎢|🎣|🎤|🎥|🎦|🎧|🤶|🎨|🤵|🎩|🎪|🤴|🎫|🎬|🎭|🤧|🎮|🎯|🎰|🎱|🎲|🎳|🎴|🤥|🎵|🎶|🎷|🤤|🎸|🎹|🎺|🤣|🎻|🎼|🎽|🤢|🎾|🎿|🏀|🏁|🤡|🏂|🏃|🏄|🏆|🏈|🏊|🏠|🏡|🏢|🏣|🏥|🏦|🏧|🏨|🏩|🏪|🏫|🏬|🤠|🏭|🏮|🏯|🏰|🐌|🐍|🐎|🐑|🐒|🐔|🐗|🐘|🐙|🐚|🐛|🐜|🐝|🐞|🐟|🐠|🐡|🐢|🐣|🐤|🐥|🐦|🐧|🐨|🐩|🐫|🐬|🐭|🐮|🐯|🐰|🐱|🐲|🐳|🐴|🐵|🐶|🐷|🐸|🐹|🐺|🐻|🐼|🐽|🐾|👀|👂|👃|👄|👅|👆|👇|👈|👉|👊|👋|👌|👍|👎|👏|👐|👑|👒|👓|👔|👕|👖|👗|👘|👙|👚|👛|👜|👝|👞|👟|👠|👡|👢|👣|👤|👦|👧|👨|👩|👪|👫|👮|👯|👰|👱|👲|👳|👴|👵|👶|👷|👸|👹|👺|👻|👼|👽|👾|👿|💀|📇|💁|💂|💃|💄|💅|📒|💆|📓|💇|📔|💈|📕|💉|📖|💊|📗|💋|📘|💌|📙|💍|📚|💎|📛|💏|📜|💐|📝|💑|📞|💒|📟|📠|💓|📡|📢|💔|📣|📤|💕|📥|📦|💖|📧|📨|💗|📩|📪|💘|📫|📮|💙|📰|📱|💚|📲|📳|💛|📴|📶|💜|📷|📹|💝|📺|📻|💞|📼|🔃|💟|🔊|🔋|💠|🔌|🔍|💡|🔎|🔏|💢|🔐|🔑|💣|🔒|🔓|💤|🔔|🔖|💥|🔗|🔘|💦|🔙|🔚|💧|🔛|🔜|💨|🔝|🔞|💩|🔟|💪|🔠|🔡|💫|🔢|🔣|💬|🔤|🔥|💮|🔦|🔧|💯|🔨|🔩|💰|🔪|🔫|💱|🔮|💲|🔯|💳|🔰|🔱|💴|🔲|🔳|💵|🔴|🔵|💸|🔶|🔷|💹|🔸|🔹|💺|🔺|🔻|💻|🔼|💼|🔽|🕐|💽|🕑|💾|🕒|💿|🕓|📀|🕔|🕕|📁|🕖|🕗|📂|🕘|🕙|📃|🕚|🕛|📄|🗻|🗼|📅|🗽|🗾|📆|🗿|😁|😂|😃|📈|😄|😅|📉|😆|😉|📊|😊|😋|📋|😌|😍|📌|😏|😒|📍|😓|😔|📎|😖|😘|📏|😚|😜|📐|😝|😞|📑|😠|😡|😢|😣|😤|😥|😨|😩|😪|😫|😭|😰|😱|😲|😳|😵|😷|😸|😹|😺|😻|😼|😽|😾|😿|🙀|🙅|🙆|🙇|🙈|🙉|🙊|🙋|🙌|🙍|🙎|🙏|🚀|🚃|🚄|🚅|🚇|🚉|🚌|🚏|🚑|🚒|🚓|🚕|🚗|🚙|🚚|🚢|🚤|🚥|🚧|🚨|🚩|🚪|🚫|🚬|🚭|🚲|🚶|🚹|🚺|🚻|🚼|🚽|🚾|🛀|🤘|😀|😇|😈|😎|😐|😑|😕|😗|😙|😛|😟|😦|😧|😬|😮|😯|😴|😶|🚁|🚂|🚆|🚈|🚊|🚍|🚎|🚐|🚔|🚖|🚘|🚛|🚜|🚝|🚞|🚟|🚠|🚡|🚣|🚦|🚮|🚯|🚰|🚱|🚳|🚴|🚵|🚷|🚸|🚿|🛁|🛂|🛃|🛄|🛅|🌍|🌎|🌐|🌒|🌖|🌗|🌘|🌚|🌜|🌝|🌞|🌲|🌳|🍋|🍐|🍼|🏇|🏉|🏤|🐀|🐁|🐂|🐃|🐄|🐅|🐆|🐇|🐈|🐉|🐊|🐋|🐏|🐐|🐓|🐕|🐖|🐪|👥|👬|👭|💭|💶|💷|📬|📭|📯|📵|🔀|🔁|🔂|🔄|🔅|🔆|🔇|🔉|🔕|🔬|🔭|🕜|🕝|🕞|🕟|🕠|🕡|🕢|🕣|🕤|🕥|🕦|🕧|🔈|🚋|🏅|🏴|📸|🛌|🖕|🖖|🙁|🙂|🛫|🛬|🏻|🏼|🏽|🏾|🏿|🙃|🤑|🤓|🤗|🙄|🤔|🤐|🤒|🤕|🤖|🦁|🦄|🦂|🦀|🦃|🧀|🌭|🌮|🌯|🍿|🍾|🏹|🏺|🛐|🕋|🕌|🕍|🕎|📿|🏏|🏐|🏑|🏒|🏓|🏸|🥁|🦐|🦑|🥚|🥛|🥜|🥝|🥞|✨|⏩|⏫|⏬|⏰|⏳|⛎|✅|✊|✋|⏪|❌|❎|❓|❔|❕|➕|➖|➗|➰|➿","gi"),n=Chtr.externalStaticHost+"/pics/emoji/svg/",r="?v=2.2.4";e.unicodeToImage=function(e){return e.replace(t,function(e){return'<img class="emojione" alt="'+e+'" src="'+n+e+".svg"+r+'">'})}}(this.emojione=this.emojione||{}),"object"==typeof n&&(n.exports=this.emojione)},"eventburrito.js":function(){window.EventBurrito=function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function r(e,t,n,r){if(t)return e.addEventListener?e.addEventListener(t,n,!!r):e.attachEvent("on"+t,n),{remove:function(){o(e,t,n,r)}}}function o(e,t,n,r){t&&(e.removeEventListener?e.removeEventListener(t,n,!!r):e.detachEvent("on"+t,n))}function a(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function i(e){if(g={x:(S?e.clientX:e.touches[0].clientX)-f.x,y:(S?e.clientY:e.touches[0].clientY)-f.y,time:Number(new Date)-f.time},m={x:g.x-v[v.length-1].x,y:g.y-v[v.length-1].y,time:g.time-v[v.length-1].time},g.time-v[v.length-1].time){for(var t=0;t<v.length-1&&g.time-v[t].time>80;t++);b={x:(g.x-v[t].x)/(g.time-v[t].time),y:(g.y-v[t].y)/(g.time-v[t].time)},v.length>=5&&v.shift(),v.push({x:g.x,y:g.y,time:g.time})}}function s(e,t){w=!0,S=t,k[S](e)||(r(document,y[S][1],c),r(document,y[S][2],u),r(document,y[S][3],u),h.preventDefault&&S&&a(e),f={x:S?e.clientX:e.touches[0].clientX,y:S?e.clientY:e.touches[0].clientY,time:Number(new Date)},_=void 0,g={x:0,y:0,time:0},b={x:0,y:0},v=[{x:0,y:0,time:0}],h.start(e,f))}function c(e){!h.preventScroll&&_||k[S](e)||(i(e),(Math.abs(g.x)>h.clickTolerance||Math.abs(g.y)>h.clickTolerance)&&(w=!1),void 0===_&&3!==S&&(_=Math.abs(g.x)<Math.abs(g.y)&&!h.preventScroll)||(h.preventDefault&&a(e),h.move(e,f,g,b,m)))}function u(e){S&&i(e),!w&&e.target&&e.target.blur&&e.target.blur(),o(document,y[S][1],c),o(document,y[S][2],u),o(document,y[S][3],u),h.end(e,f,g,b,m)}function l(){C.push(r(e,y[T][0],function(e){s(e,T)})),C.push(r(e,"dragstart",a)),h.mouse&&!T&&C.push(r(e,y[3][0],function(e){s(e,3)})),C.push(r(e,"click",function(e){w?h.click(e):a(e)}))}var p=function(){},h={preventDefault:!0,clickTolerance:0,preventScroll:!1,mouse:!0,start:p,move:p,end:p,click:p};t&&n(h,t);var d={pointerEvents:!!window.navigator.pointerEnabled,msPointerEvents:!!window.navigator.msPointerEnabled},f={},m={},g={},b={},v=[],C=[],_,S,w=!0,T=d.pointerEvents?1:d.msPointerEvents?2:0,y=[["touchstart","touchmove","touchend","touchcancel"],["pointerdown","pointermove","pointerup","pointercancel"],["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"],["mousedown","mousemove","mouseup",!1]],k=[function(e){return e.touches&&e.touches.length>1||e.scale&&1!==e.scale},function(e){return!e.isPrimary||e.buttons&&1!==e.buttons||!h.mouse&&"touch"!==e.pointerType&&"pen"!==e.pointerType},function(e){return!e.isPrimary||e.buttons&&1!==e.buttons||!h.mouse&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH&&e.pointerType!==e.MSPOINTER_TYPE_PEN},function(e){return e.buttons&&1!==e.buttons}];return l(),{getClicksAllowed:function(){return w},kill:function(){for(var e=C.length-1;e>=0;e--)C[e].remove()}}}},"getScrollbarWidth.js":["./onDisplayed",function(e,t,n){var r=e("./onDisplayed");n.exports=function(e){var t=0,n=$("<div>").css({position:"absolute",left:"-9999px",visibility:"hidden",width:"100px",height:"100px",overflow:"scroll"});$("body").append(n),r(n[0],function(){e(n[0].offsetWidth-n[0].clientWidth),n.remove()})}}],"moment.js":function(e,t,n){(function(e){function t(){"undefined"==typeof ender&&(o=r.moment,r.moment=moment)}var r="undefined"!=typeof global?global:this,o,a="undefined"!=typeof n&&n&&n.exports,i=function(){var e=function(e){s.apply(this,e),this._relativeTime=this.relativeTime,delete this.relativeTime};e.prototype={relativeTime:function(e,t,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,r):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},postformat:function(e){return e}};for(var t=function(e){this.parse(e)},n=function(e,t){return RegExp((t||"")+"("+_.map(e.sort(function(e,t){return t.length-e.length}),function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}).join("|")+")","g")},r=Object.prototype.toString,o=function(e){return e=r.call(e).substr(8),e.substr(0,e.length-1).toLowerCase()},a={},i=t.prototype={relativeTimeThresholds:{s:45,m:45,h:22,d:26,M:11},parse:function(e){if(e instanceof t)this._d=new Date((+e._d));else{var n=o(e);if(void 0===e?this._d=new Date:this._d=new Date(0,0,0,0,0,0,0,0,0,0),"number"!==n&&"date"!==n||this._d.setTime(e),"array"===n)e=e.concat([0,0,1,0,0,0,0,0].slice(e.length)),this._d.setFullYear.apply(this._d,e),this._d.setHours.apply(this._d,e.slice(3));else if("object"===n)for(n in e)this.set(n,e[n])}return this},toDate:function(){return new Date(this._d)},get:function(e){return this[e]()},clone:function(){return new t(this._d)},set:function(e,t){return this[e](t),this},valueOf:function(){return+this._d},lengths:{},add:function(e,t,n){if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&this.add(r,e[r]);else this[e]?this.set(e,(0|this.get(e))+t*-(2*!!n-1)):this.set(t,(0|this.get(t))+e*-(2*!!n-1));return this},subtract:function(e,t){return this.add(e,t,!0)},count:function(e,n,r){e=this[e].baseName;var o=Math.abs(+this._d),a=Math.floor;return"millisecond"===e?o:(o=a(o/1e3),"second"===e?o:(o=a(o/60),"minute"===e?o:(o=a(o/60),"hour"===e?o:(o=a(o/24),"date"===e||"day"===e?o:"week"===e?a(o/7):"month"===e?(n=new t(n),r=new t(r),12*n.year()+n.month()-12*r.year()-r.month()):"year"===e?new t(n).year()-new t(r).year():+this._d))))},diff:function(e,n){var r=new t(e),o=this._d-r._d;return r._d=new Date(o),n?r.count(n,this,e)*(o<0?-1:1)|0:o},daysInMonth:function(){var e=new Date(this._d);return e.setDate(1),e.setMonth(e.getMonth()+1),e.setDate(0),e.getDate()},isLeapYear:function(){var e=new Date(this._d);return e.setMonth(1),e.setDate(29),29===e.getDate()},substituteTimeAgo:function(e,t,n,r,o){return a[this.locale].relativeTime(t||1,!!n,e,r)},relativeTime:function(e,t){var n=this.relativeTimeThresholds,r=Math.floor,o=Math.abs(+this._d),a=r(o/1e3+.5),i=r(a/60+.5),s=r(i/60+.5),c=r(s/24+.5),u=r(4800*c/146097+.5),l=r(400*c/146097+.5),p=a<n.s&&["s",a]||1===i&&["m"]||i<n.m&&["mm",i]||1===s&&["h"]||s<n.h&&["hh",s]||1===c&&["d"]||c<n.d&&["dd",c]||1===u&&["M"]||u<n.M&&["MM",u]||1===l&&["y"]||["yy",l];return p[2]=e,p[3]=+o>0,this.substituteTimeAgo.apply(this,p)},humanize:function(e){var t=this.relativeTime(!e);return e&&(t=a[this.locale].pastFuture(+this,t)),a[this.locale].postformat(t)},calendar:function(e){var t=e?moment(e):moment();t._d.setHours(0,0,0,0);var n=this.clone();n._d.setHours(0,0,0,0);var r=n.diff(t,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse";return n.format(a[this.locale].calendar[o],this,moment(t))},from:function(e,n){return e=new t(this.diff(e)),e.humanize(n)},format:function(e){var t=a[this.locale];return(t.formatCache&&t.formatCache[e]||((t.formatCache=t.formatCache||{})[e]=this.formatter(e))).call(this)},formatter:function(e){var t=a[this.locale].longDateFormat,r;do r=!1,e=e.replace(n(_.keys(t),"\\[[^\\]]*\\]|"),function(e,n){return n?(r=!0,t[n]):e});while(r);var o=e.replace(n(_.keys(i),"\\[[^\\]]*\\]|"),function(e,t){return e=e.substr(1),e=e.substr(0,e.length-1),void 0===t?e:"'+this['"+t+"']()+'"});return new Function("","return '"+o+"';")},12:function(e){return e%12||12},shortMonth:function(){return a[this.locale].monthsShort[this.month()]},fullMonth:function(){return a[this.locale].months[this.month()]},fullWeek:function(e,t,n){return a[this.locale].weekdays[this._d.getDay()]},am:function(){return a[this.locale].am[this.hour()>11|0]},"+1":function(e){return(0|e)+1},defineLocale:function(t,n){a[t]=new e(n)},locale:"en-gb",defaultFormat:"ISO",_week:function(e){var t=new Date(this.year(),0,1,0,0,0),n=a[this.locale].week.dow;return e?(this._d.setTime(t.valueOf()+864e5*(7*e-(t.getDay()-n+7)%7+n)),this):(daysFromStart=(new Date(this.year(),this.month()-1,this.date(),0,0,0).valueOf()-t.valueOf())/864e5+(t.getDay()-n+7)%7,daysFromStart/7|0)}},s={apply:function(e,t){for(var n in t)e[n]=t[n];return e},capitalize:function(e){return e.charAt(0).toLocaleUpperCase()+e.substr(1)},tail:function(e,t){return(t+"").substr(-e)},padding:function(e,t,n){t+="";var r=t.length;return(r<e?new Array(e-r+1).join(n||"0"):"")+t},big:function(e){return e.toLocaleUpperCase()}},c=4;c>0;c--)s["p"+c]=_.bind(s.padding,null,c),s["t"+c]=_.bind(s.tail,null,c);_.each("getFullYear;year|YY:t2|YYYY:p4,getMonth;month|M:+1|MM:+1:p2|MMM:shortMonth|MMMM:fullMonth,getDate;date|day|days|D|DD:p2|d|dd:p2,hour|H|HH:p2|h:12|hh:12:p2|a:am|A:am:big,minute|m|mm:p2,second|s|ss:p2,millisecond|ms|SSS:p3,+_week;week|w|dddd:fullWeek|ww:p2|W|WW:p2".split(","),function(e){var t=e.split("|"),n=t[0].split(";"),r=n.length,o=r>1?n[0]:"get"+s.capitalize(n[0])+"s",a="+"===o[0]?"this."+o.substr(1)+"()":"this._d."+o+"()",c="("+a.replace("get","set").replace("()","(val)")+",this)",u=new Function("val","return val === void 0?"+a+":"+c+";"),l=(t[0]=n[r-1]).split(":"),p=l[0];l[0]+="s",t.push(l.join(":")),_.each(t,function(e){var t=e.split(":"),n=i[t[0]]=1===t.length?u:new Function("val","return val === void 0 ?"+_.map(t.slice(1).reverse(),function(e){return'this["'+e+'"]'}).join("(")+"("+a+new Array(t.length).join(")")+":"+c+";");n.baseName=p})}),s.apply(i,s);var u=function(e){return new t(e)};return u.defineLocale=i.defineLocale,u.prototype=t.prototype,u.defaultFormat="ISO",u.setLocale=function(e){t.prototype.locale=a[e]?e:"en-gb"},u}();window.moment=i,moment.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),am:["am","pm"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT",ISO:"YYYY-MM-DDTHH:mm:ssZ"},calendar:{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}}),a?n.exports=moment:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(r.moment=o),moment}),t(!0)):t()}).call(this)},"onDisplayed.js":function(e,t,n){function r(e,t,n){var o=arguments;0===e.offsetWidth&&0===e.offsetHeight?setTimeout(function(){r.apply(this,o)},n||200):t()}n.exports=r},"outline-fix.js":function(){!function(){var e="is-mouse-focused";$(document.documentElement).on("mousedown",function(t){setTimeout(function(){var t=document.activeElement,n=$(t);t&&t!==document.body&&n.addClass(e).one("blur",function(){n.removeClass(e)})},0)})}()},"responsive-textarea.js":["./onDisplayed",function(e){window.ResponsiveTextarea=function(t,n){var r=this,o=e("./onDisplayed");o(t[0],function(){r._init(t,n)})},window.ResponsiveTextarea.prototype={_init:function(e,t){var n=this;this._id=Random.id(),this.options=$.extend({onHeightChange:function(){},maxRows:3,minRows:1,handleEnter:!0},t),e.css({"vertical-align":"middle",resize:"none"}),this.node=e[0],this.$node=e,this.$wrapper=$("<div>").insertBefore(e),this.wrapper=this.$wrapper[0],this.$wrapper.append(e);var r=getComputedStyle(e[0]);this._heightBonus=parseFloat(r.borderBottomWidth,10)+parseFloat(r.borderTopWidth,10),this.options.handleEnter&&e.on("keypress.responsiveTextarea",function(e){n._handleKeypress(e)}),e.on("input.responsiveTextarea contentchange.responsiveTextarea",function(){n.calcTextareaHeight()}),$(window).on("resize."+this._id,function(){n.calcTextareaHeight()}),this.calcTextareaMinMaxHeight(),this.calcTextareaHeight(),this._initialized=!0},_handleKeypress:function(e){var t=this.node,n=this.$node;if(13==e.keyCode||10==e.keyCode)if(e.ctrlKey||e.metaKey){var r=n.val(),o=t.selectionStart,a=t.selectionEnd;e.preventDefault(),t.value=r.substring(0,o)+"\n"+r.substring(a,r.length),t.setSelectionRange(o+1,o+1),n.trigger("input"),n.trigger("contentchange")}else e.shiftKey||(e.preventDefault(),n.trigger("save"))},_getHeight:function(){return this.node.scrollHeight+this._heightBonus},calcTextareaHeight:function(){var e=this.node.value;e||(this.node.value="​"),this.node.style.whiteSpace="pre-wrap",this.wrapper.style.height=this.wrapper.offsetHeight+"px",this.node.style.height="1px",this.node.style.height=this._getHeight()+1+"px",this.wrapper.style.height="",this.node.style.whiteSpace="",e||(this.node.value="");var t=this.node.offsetHeight;this.__lastTextareaHeight!==t&&(this.__lastTextareaHeight=t,this.options.onHeightChange(this.__lastTextareaHeight))},calcTextareaMinMaxHeight:function(){for(var e=this.node.value,t="​",n="​",r=this.options.minRows-1;r>0;r--)t+="\n";for(var r=this.options.maxRows-1;r>0;r--)n+="\n";this.node.style.whiteSpace="pre-wrap",this.node.style.height="1px",this.node.value=t,this.node.style.minHeight=this._getHeight()+"px",this.node.value=n,this.node.style.maxHeight=this._getHeight()+"px",this.node.style.height="",this.node.value=e,this.node.style.whiteSpace=""},kill:function(){this._initialized&&(this.$node.insertBefore(this.$wrapper).css({"vertical-align":"",resize:"","max-height":"",height:""}),this.$wrapper.remove(),this.$node.off(".responsiveTextarea"),$(window).off("resize."+this._id))}}}],"scroll-edges.js":function(){function e(e,t){return isNaN(e)?t:e}function t(t,n){return e(+String(t).replace(n||"px",""))}function n(e){return/%$/.test(e)?t(e,"%"):void 0}function r(r,o){return e(n(r)/100*o,t(r))}var o=$(window),a=function(){},i={fromTop:[],fromBottom:[],throttle:100};window.ScrollEdges=function(e,t){return e.length?(this._ens="."+Random.id(),this.node=e[0],this.$node=e,this.o=$.extend({},i,t),void this._init()):void console.warn("No $node passed to ScrollEdges")},window.ScrollEdges.prototype={_init:function(){var e=this;o.on("resize"+e._ens,_.throttle(function(){e._refresh()},this.o.throttle)),e.$node.on("scroll"+e._ens,_.throttle(function(){e._refresh()},this.o.throttle)),e._refresh(),e._initializd=!0},_checkEdges:function(){var e=this,t=e.node.scrollTop,n=e.node.scrollHeight,o=e.node.clientHeight;o&&(_.each({atTop:t,atBottom:n-o-t},function(t,n){_.each(e.o[n]||[],function(i){if(!(i.disable||a)()){var s=r(i.threshold,o),c=t<=s;!c||i[n]&&e._checkd||(i.enter||a)(),c||!i[n]&&e._checkd||(i.leave||a)(),i[n]=c}})}),e._checkd=!0)},_refresh:function(){var e=this;e._checkEdges()},refresh:function(){var e=this;e._checkd=!1,e._refresh()},kill:function(){this._initializd&&(o.off(this._ens),this.$node.off(this._ens),this._initializd=!1)}}},"sniffer.module.js":function(e,t,n){!function(e){var t=function(e){function t(){for(var e in i)n(i[e])}function n(t){for(var n=0;n<t.length;n++){for(var o=!0,a=0;a<t[n].test.length;a++)if(t[n].test[a]instanceof RegExp){if(!t[n].test[a].test(e)){o=!1;break}}else if(e.indexOf(t[n].test[a])==-1){o=!1;break}if(o){r(t[n]);break}}}function r(e){for(var t in i)if(i.hasOwnProperty(t)&&e[t]){if(e[t].$version){var n=o(e[t].$version.search);if(n){var r=n.split("."),s=e[t].$version.names,c=e[t].$version.altNames;if(e[t].version=n,r[0]&&(e[t].majorVersion=parseInt(r[0])),r[1]&&(e[t].minorVersion=parseInt(r[1])),r[2]&&(e[t].patchVersion=parseInt(r[2])),s)for(var u,l=[],p=0;p<r.length;p++)l.push(r[p]),u=l.join("."),s[u]&&(e[t].versionName=s[u]),c&&c[u]&&(e[t].versionAltNames=c[u])}}for(var h in e[t])e[t].hasOwnProperty(h)&&"$"!==h[0]&&(a[t][h]=e[t][h])}}function o(t){var n;if(t instanceof RegExp){if(n=(e.match(t)||[])[0],!n)return}else n=t;var r=e.indexOf(n),o;if(r!=-1&&(o=e.substring(r+n.length),regexpResult=/^(\d+(\.|_)){0,2}\d+/.exec(o),regexpResult))return regexpResult[0].replace(/_/g,".")}var a={browser:{fullName:"",name:"",version:"",majorVersion:null,minorVersion:null,patchVersion:null,engine:""},os:{fullName:"",name:"",version:"",versionName:"",versionAltNames:[],majorVersion:null,minorVersion:null,patchVersion:null},features:{bw:!1,mobile:!1,tv:!1,proxy:!1}},i={browser:[{test:["SailfishBrowser"],browser:{fullName:"Sailfish Browser",name:"sailfishbrowser",engine:"gecko",$version:{search:"SailfishBrowser/"}},features:{mobile:!0}},{test:["Edge/"],browser:{fullName:"Edge",name:"edge",engine:"edgehtml",$version:{search:"Edge/"}}},{test:["MSIE"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"MSIE "}}},{test:["Trident"],browser:{fullName:"Internet Explorer",name:"ie",engine:"trident",$version:{search:"rv:"}}},{test:["OPR/"],browser:{fullName:"Opera",name:"opera",engine:"webkit",$version:{search:"OPR/"}}},{test:["Chrome"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"Chrome/"}}},{test:["Firefox"],browser:{fullName:"Firefox",name:"firefox",engine:"gecko",$version:{search:"Firefox/"}}},{test:["NokiaBrowser"],browser:{fullName:"Nokia Browser",name:"nokiabrowser",engine:"webkit",$version:{search:"NokiaBrowser/"}},features:{mobile:!0}},{test:["Opera Mini","Presto"],browser:{fullName:"Opera Mini",name:"operamini",engine:"presto",$version:{search:"Version/"}},features:{mobile:!0,proxy:!0}},{test:["Opera Mini","WebKit"],browser:{fullName:"Opera Mini",name:"operamini",engine:"webkit"},features:{mobile:!0,proxy:!0}},{test:["Opera"],browser:{fullName:"Opera",name:"opera",engine:"presto",$version:{search:"Version/"}}},{test:["OviBrowser"],browser:{fullName:"Ovi Browser",name:"ovi",engine:"gecko",$version:{search:"OviBrowser/"}},features:{mobile:!0,proxy:!0}},{test:["CriOS/"],browser:{fullName:"Chrome",name:"chrome",engine:"webkit",$version:{search:"CriOS/"}}},{test:["Coast/"],browser:{fullName:"Opera Coast",name:"coast",engine:"webkit",$version:{search:"Coast/"}}},{test:["Safari","Version/",/(iPhone|iPod|iPad|Macintosh|Windows)/],browser:{fullName:"Safari",name:"safari",engine:"webkit",$version:{search:"Version/"}}},{test:["WebKit"],browser:{engine:"webkit"}},{test:["Gecko/"],browser:{engine:"gecko"}}],os:[{test:["Sailfish"],os:{fullName:"Sailfish OS",name:"sailfish"},features:{mobile:!0}},{test:["Windows Phone"],os:{fullName:"Windows Phone",name:"winphone",$version:{search:"Windows Phone "}},features:{mobile:!0}},{test:["Windows"],os:{fullName:"Windows",name:"win",$version:{search:"Windows NT ",names:{"10.0":"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP",5.01:"2000","5.0":"2000"},altNames:{5.2:["Server 2003"]}}}},{test:["Macintosh","OS X 10"],os:{fullName:"Mac OS X",name:"osx",$version:{search:/OS X /,names:{10.6:"Snow Leopard",10.7:"Lion",10.8:"Mountain Lion",10.9:"Mavericks","10.10":"Yosemite",10.11:"El Capitan"}}}},{test:["Ubuntu"],os:{fullName:"Ubuntu",name:"ubuntu"}},{test:["Fedora"],os:{fullName:"Fedora",name:"fedora",$version:{search:"Fedora/",names:{20:"Heisenbug",19:"Schrödinger's Cat",18:"Spherical Cow",17:"Beefy Miracle",16:"Verne",15:"Lovelock",14:"Laughlin",13:"Goddard",12:"Constantine",11:"Leonidas",10:"Cambridge",9:"Sulphur",8:"Werewolf",7:"Moonshine"}}}},{test:["Kindle"],os:{fullName:"Kindle",name:"kindle",$version:{search:"Kindle/"}},features:{bw:!0,mobile:!0}},{test:[/(BlackBerry|BB\d+)/],os:{fullName:"BlackBerry",name:"blackberry",$version:{search:"Version/"}},features:{mobile:!0}},{test:["Symbian"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["Series40"],os:{fullName:"Symbian",name:"symbian"},features:{mobile:!0}},{test:["PlayStation Vita"],os:{fullName:"PlayStation Vita",name:"psvita"},features:{mobile:!0}},{test:[/playstation/i],os:{fullName:"PlayStation",name:"playstation",$version:{search:/playstation\s/i}},features:{tv:!0}},{test:["Nintendo DSi"],os:{fullName:"Nintendo DSi",name:"dsi"},features:{mobile:!0}},{test:["New Nintendo 3DS"],os:{fullName:"New Nintendo 3DS",name:"n3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Nintendo 3DS"],os:{fullName:"Nintendo 3DS",name:"3ds"},browser:{engine:"webkit"},features:{mobile:!0}},{test:["Viera"],os:{fullName:"Viera",name:"viera"},browser:{engine:"webkit"},features:{tv:!0}},{test:["SonyDTV"],features:{tv:!0}},{test:["Android"],os:{fullName:"Android",name:"android",$version:{search:"Android "}},features:{mobile:!0}},{test:[/iPhone|iPod|iPad/],os:{fullName:"iOS",name:"ios",$version:{search:"OS "}},features:{mobile:!0}}],features:[{test:[/mobile/i],features:{mobile:!0}},{test:[/smart-{0,1}tv/i],features:{tv:!0}}]};return e?(t(),a):a};"undefined"!=typeof n&&n.exports?n.exports=t:e.Sniffer=t}(this)},"sniffer.run.js":["./sniffer.module.js",function(e,t,n){Sniffer=e("./sniffer.module.js"),Sniff=Sniffer(navigator.userAgent);var r=document.getElementsByTagName("html")[0],o=[r.className];Sniff.browser.name&&o.push(Sniff.browser.name),Sniff.browser.engine&&o.push(Sniff.browser.engine),Sniff.os.name&&o.push(Sniff.os.name);for(var a in Sniff.features)Sniff.features[a]&&o.push(a);r.className=o.join(" "),"undefined"!=typeof n&&n.exports?n.exports=Sniff:window.Sniff=Sniff}],"spin.import.js":["./spin.js",function(e){Spinner=e("./spin.js")}],"spin.js":function(e,t,n){!function(e,t){"object"==typeof n&&n.exports?n.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n=document.createElement(e||"div"),r;for(r in t)n[r]=t[r];return n}function t(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var o=["opacity",t,~~(100*e),n,r].join("-"),a=.01+n/r*100,i=Math.max(1-(1-e)/t*(100-a),e),s=p.substring(0,p.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return l[o]||(h.insertRule("@"+c+"keyframes "+o+"{0%{opacity:"+i+"}"+a+"%{opacity:"+e+"}"+(a+.01)+"%{opacity:1}"+(a+t)%100+"%{opacity:"+e+"}100%{opacity:"+i+"}}",h.cssRules.length),l[o]=1),o}function r(e,t){var n=e.style,r,o;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==n[t])return t;for(o=0;o<u.length;o++)if(r=u[o]+t,void 0!==n[r])return r}function o(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function i(e,t){return"string"==typeof e?e:e[t%e.length]}function s(e){this.opts=a(e||{},s.defaults,d)}function c(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}h.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,r){function a(){return o(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function s(e,s,u){t(p,t(o(a(),{rotation:360/r.lines*e+"deg",left:~~s}),t(o(n("roundrect",{arcsize:r.corners}),{width:c,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:u}),n("fill",{color:i(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var c=r.scale*(r.length+r.width),u=2*r.scale*c,l=-(r.width+r.length)*r.scale*2+"px",p=o(a(),{position:"absolute",top:l,left:l}),h;if(r.shadow)for(h=1;h<=r.lines;h++)s(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=r.lines;h++)s(h);return t(e,p)},s.prototype.opacity=function(e,t,n,r){
var o=e.firstChild;r=r.shadow&&r.lines||0,o&&t+r<o.childNodes.length&&(o=o.childNodes[t+r],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var u=["webkit","Moz","ms","O"],l={},p,h,d={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},a(s.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,a=n.el=e(null,{className:r.className});if(o(a,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(a,t.firstChild||null),a.setAttribute("role","progressbar"),n.lines(a,n.opts),!p){var i=0,s=(r.lines-1)*(1-r.direction)/2,c,u=r.fps,l=u/r.speed,h=(1-r.opacity)/(l*r.trail/100),d=l/r.lines;!function e(){i++;for(var t=0;t<r.lines;t++)c=Math.max(1-(i+(r.lines-t)*d)%l*h,r.opacity),n.opacity(a,t*r.direction+s,c,r);n.timeout=n.el&&setTimeout(e,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,a){function s(t,n){return o(e(),{position:"absolute",width:a.scale*(a.length+a.width)+"px",height:a.scale*a.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/a.lines*c+a.rotate)+"deg) translate("+a.scale*a.radius+"px,0)",borderRadius:(a.corners*a.scale*a.width>>1)+"px"})}for(var c=0,u=(a.lines-1)*(1-a.direction)/2,l;c<a.lines;c++)l=o(e(),{position:"absolute",top:1+~(a.scale*a.width/2)+"px",transform:a.hwaccel?"translate3d(0,0,0)":"",opacity:a.opacity,animation:p&&n(a.opacity,a.trail,u+c*a.direction,a.lines)+" "+1/a.speed+"s linear infinite"}),a.shadow&&t(l,o(s("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,s(i(a.color,c),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){h=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var f=o(e("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?c():p=r(f,"animation")}return s})}}},lib:{_globals:{"chtr.js":function(){Chtr=_.extend({},Meteor.isClient&&window.Chtr),Chtr.availableOperatorsSelector={$or:[{online:!0},{away:{$in:[!1,null]},"pushTokens.type":{$exists:1}}]},Chtr.getDate=function(e,t){var n=new Date(e);return n.setHours(24*(t||0),0,0,0),+n},Chtr.getHour=function(e,t){var n=new Date(e);return n.setHours(n.getHours()+(t||0),0,0,0),+n},Chtr.roundTo=function(e,t,n){return Math[n||"round"](e/t)*t},Chtr.displayName=function(e,t){if(e){t=t||{};var n=t.lang||Session.get("Localizer.language"),r=_._property(e,"nameLocalized."+n),o=r||"string"!=typeof r&&e.name||!!e.email&&e.email.split("@")[0]||e.username||"";if(t.initials){var a=t.initials===!0?1/0:+t.initials;o=_.map(o.split(/\s|\.+/),function(e,t){return t>=a?"":e[0]}).join("")}return o}},Chtr.userTitle=function(e){if(e){var t=Session.get("Localizer.language"),n=_._property(e,"titleLocalized."+t);return n||("string"!=typeof n?_._property(e,"title"):"")}}},"collections.js":function(){Hosts=new Mongo.Collection("Hosts",Meteor.isClient&&{connection:null}),HostsPubSub=new Mongo.Collection("HostsPubSub"),Clients=new Mongo.Collection("Clients"),Typings=new Mongo.Collection("Typings"),Messages=new Mongo.Collection("Messages"),Meteor.users=new Mongo.Collection("users",Meteor.isClient&&{connection:null}),UsersPubSub=new Mongo.Collection("UsersPubSub"),HostsMeta=new Mongo.Collection("HostsMeta")},"languages.js":function(){Chtr.languages=[{code:"en",title:"English",app:!0},{code:"de",title:"Deutsch"},{code:"fr",title:"Français"},{code:"es",title:"Español"},{code:"nl",title:"Nederlands"},{code:"ru",title:"Русский",app:!0}],Chtr.widgetIsMultilanguage=function(e){return _.size(_.compact(e||Chtr.widgetLanguages()))>1},Chtr.widgetLanguages=function(e){if(e=e||Chtr.hostSettings("languages"))return _.filter(Chtr.languages,function(t){return e[t.code]})},Chtr.widgetLanguage=function(e){return _._property(e||Chtr.widgetLanguages(),"0.code")},Chtr.languageIsOk=function(e,t){return e&&!!_.findWhere(t||Chtr.languages,{code:e})}}},_utils:{"_._.js":function(){var e={};e._compact=function(e){if(_._isPlainObject(e)){var t=_.clone(e);return _.each(e,function(e,n){(!e||(_.isArray(e)||_.isObject(e))&&_.isEmpty(e))&&delete t[n]}),t}return _.compact(e)},e._deepExtend=function(e){return _.each(Array.prototype.slice.call(arguments,1),function(t){_.each(t,function(t,n){t=_.clone(t),_._isPlainObject(t)&&_._isPlainObject(e[n])?e[n]=_._deepExtend({},e[n],t):e[n]=t})}),e},e._isPlainObject=function(e){return _.isObject(e)&&e.constructor===Object&&!_.isArguments(e)},e._property=function(e,t){var n=e,r=t.split("."),o=arguments.length>2;return o?(_.each(_.initial(r),function(e){n[e]=_.isObject(n[e])?n[e]:{},n=n[e]}),n[_.last(r)]=arguments[2],e):(_.each(r,function(e){n=_.isObject(n)?n[e]:void 0}),n)},e._noop=function(e){return e},_.mixin(e)},"client-value.js":function(){Chtr.clientValue=function(e,t){return _._property(e,t)||_._property(e,"integrationData."+t)||""}},"date-string.js":function(){var e=function(e){return e<10?"0"+e:e};Chtr.dateString=function(t){var n=t?new Date(t):new Date;return n.getFullYear()+"-"+e(n.getMonth()+1)+"-"+e(n.getDate())}},"filter-available-operators.js":function(){Chtr.isOperatorAvailable=function(e,t){if(t=t||{},!e.secret&&!e.deleted&&"undefined"!=typeof e.online)return(e.online||!e.away&&!_.isEmpty(e.pushTokens))&&(!t.filter||t.filter(e))},Chtr.isOperatorVisible=function(e,t){return!e.invisible||_._property(t,"servingBy."+e._id)},Chtr.filterAvailableOperators=function(e,t){return t=t||{filter:Chtr.isOperatorVisible},_.filter(e,function(e){return Chtr.isOperatorAvailable(e,t)})}},"is-client-introduced.js":function(){Chtr.isClientIntroduced=function(e){console.log("Chtr.isClientIntroduced; options:",e),e=e||{};var t=e.client||Meteor.isClient&&Chtr.client({hostId:1,name:1,email:1,phone:1,integrationData:1});if(t){var n=e.host||Hosts.findOne(t.hostId,{fields:{"settings.preform":1}}),r=_._property(n,"settings.preform");if(n){var o=_.every(_.map(["name","email","phone"],function(n){return!r[n]||e.checkRequired&&!r[n+"Required"]||Chtr.clientValue(t,n)}));return console.log("Chtr.isClientIntroduced → return; isIntroduced?:",o),o}}}},"localize.js":function(){Chtr.localeMap={uk:"ru",be:"ru",kk:"ru",az:"ru",hy:"ru",ky:"ru",mo:"ru",tg:"ru",tk:"ru",uz:"ru"};var e=function(){var e={},t={},n,r=!1,o=function(r,a){if(!this.instance)return new o(r,a);if(n=n||r,a){if(this.locale=a,e[a])return e[a];e[a]=this,t[a]&&(this.voc=t[a])}},a={},i={plural:function(e,t){var n=this,r=e.split(",").map(function(e){var r=n.templater(e,t);return r||e}),o=a[this.locale]=a[this.locale]||new Function("n","return ("+this.voc._plural+")|0;");return r[o(parseInt(r[0],10))+1]},if:function(e,t){var n=e.split("?"),r,o;e=n.slice(1).join("?"),r=n[0];var a=[],i=0,s;return r.replace(/(===|==|=|>=|<=|>|<|&&|\|\|)/g,function(e,t,n){n>i&&a.push(r.substr(i,n-i)),i=n+e.length,a.push(e)}),a.push(r.substr(i)),1===a.length?s=!!this.templater(a[0],t)||r[0]:3===a.length&&(a[0]=this.templater(a[0],t)||a[0],a[2]=this.templater(a[2],t)||a[2],"="===a[1].charAt(0)&&(s=a[0]==a[2])),n=e.split(":"),o=s?n[0]:n[1],void 0===o||o===!1?"":o},enum:function(e,t){var n=e.split("?"),r,o={},a;return n[1]=n.slice(1).join("?"),r=n[0],n[1].split(",").reduce(function(e,t){var n=t.split(":");return e[n[0].trim()]=(n[1]+"").trim(),e},o),a=this.templater(r,t),a in o?o[a]:o.default?o.default:""}},s={lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}},c,u=function(e){return function(t,n){var r=this.vars(t,n);return s[e](r+"")}};for(c in s)s.hasOwnProperty(c)&&(i[c]=u(c));var l=[];o.load=function(n,r){t[n]=r,e[n]&&(e[n].voc=r),_.each(l,function(e){e(n)})},o.lang=t;var p=o.get=function(t,r){if(r=void 0===r?Meteor.isServer:r,!t)return function(){return""};var a=this;if(this.locale!==t)return new o(n,t).get(t,r);this.initLocale(this.locale,r),e[t]=this;var i=_.bind(a.text,a);return i.voc=a.voc,i.extend=_.bind(p.extend,a),i.setCustomLocale=_.bind(p.setCustomLocale,a),i};p.extend=function(e){o.prototype.extended=e},p.setCustomLocale=function(e){try{o.prototype.customLocale=JSON.parse(decodeURIComponent(e))}catch(e){}},o.saveAndLoad=function(e,t,n){if(o.language=t.lang,e!==t.lang?(o.load(t.lang,t.data),n&&o.load(e,t.data)):o.load(e,t.data),!n)try{Chtr.setHostedItem("locale."+t.lang,JSON.stringify(t),!1),console.log("Localizer.saveAndLoad → saved to localStorage")}catch(e){console.warn("Localizer.saveAndLoad; e:",e)}},o.loaded=function(e){l.push(e)};var h=/(\{\{([^\}\{]*?)\}\})/g,d={},f={};return o.prototype={plugin:function(e,t){return i[e]=t,this},load:o.load,saveAndLoad:o.saveAndLoad,instance:!0,get:o.get,initLocale:function(e,n){if(!f[e])if(f[e]=!0,t[e])this.voc=t[e];else{if(!n)try{var r=JSON.parse(Chtr.getHostedItem("locale."+e,!1));r&&o.saveAndLoad(e,r),console.log("Localizer.initLocale → take locale from cache!")}catch(e){console.log("Localizer.initLocale → can not take locale from localStorage; e:",e)}Meteor.call("Localizer.getLocale",e,Meteor.isServer,function(t,a){return t?console.warn(t):void(n?o.saveAndLoad(e,a,n):_.isEqual(a,r)||(console.log("Localizer.initLocale → update from the server"),Session.set("Localizer.languageLoaded"),o.saveAndLoad(e,a,n)))})}},modifier:function(e,t,n,r){var o=i[e];if(!o)throw new Error("No modifier: `"+e+"`! In "+r);return o.call(this,t,n,r)},vars:function(e,t){if("#"!==e.charAt(0))return!1;e=e.substr(1);var n;return(n=t[e])?n:e.indexOf(".")?_.reduce(e.split("."),function(e,t){return void 0===e[t]?"":e[t]},t):""},templater:function(e,t){var n,r=e.indexOf(":"),o;return r>-1?(n=e.substr(0,r),o=this.modifier(n,e.substr(r+1),t)):o=this.vars(e,t),void 0===o?"":o},resolve:function(e,t){var n=this;return e.replace(h,function(e,r,o){return n.templater(o,t)})},text:function(e,t){var n=_._property(this.customLocale,e);return n||(n=this.extended&&this.extended[(e+"").replace(/\./g,"-")]),n&&(n=n[this.locale]||n,n&&"object"==typeof n&&(n=void 0)),n||(n=this.voc&&this.voc[e]),n?n.indexOf("{{")>-1?this.resolve(n,t||{},e):n:(console.log("No template for `"+e+"`"),"")}},o}();Meteor.isServer?Localizer=e:(Localizer=window.Localizer=e,Session.set("Localizer.ready"),Session.set("Localizer.languageLoaded"),Meteor.startup(function(){var e;Localizer.get.setCustomLocale(Chtr.queryParams.locale),Localizer.loaded(function(t){Localizer.lang[t]&&(e=Localizer.get(t),Session.set("Localizer.language",t),Session.set("Localizer.languageLoaded",+new Date),Session.set("Localizer.ready",!0))}),Tracker.autorun(function(t){var n=Chtr.hostSettings();if(n){var r=Chtr.widgetLanguages(_._property(n,"languages"));if(r){var o=Chtr.queryParams.langOverride;if(o=Chtr.localeMap[o]||o,!Chtr.languageIsOk(o)){var a=(Chtr.getBrowserLanguage()||"en").split("-")[0];a=Chtr.localeMap[a]||a,o=Chtr.widgetIsMultilanguage(r)&&Chtr.languageIsOk(a,r)?a:Chtr.widgetLanguage(r)||"en"}if(console.log("localize.js; lang:",o),t.__lang!==o){var i=Localizer.get(o);Localizer.lang[o]?(Session.set("Localizer.language",o),e=i):Session.set("Localizer.languageLoaded",!1),t.__lang=o}var s=_._property(n,"locale");s&&JSON.stringify(s)!==JSON.stringify(Localizer.prototype.extended)&&(Localizer.prototype.extended=s)}}}),Template.registerHelper("L",window.L=function(t,n){return Session.get("Localizer.language"),Session.get("Localizer.languageLoaded"),e&&e(t,n&&n.hash||n)})}))},"object-to-search.js":function(){Chtr.objectToSearch=function(e){return _.map(e,function(e,t){return t+"="+encodeURIComponent(e)}).join("&")}},"parse-form-data.js":function(){var e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;Chtr.parseFormData=function(t,n){n=_.extend({plain:!1,parseDottedNames:!0},n);var r={};return _.each(t,function(t){var o=t.value;if(!n.plain)try{o="true"===o||"false"!==o&&("null"===o?null:+o+""===o?+o:e.test(o)?JSON.parse(o):o)}catch(e){}n.parseDottedNames?_._property(r,t.name,o):r[t.name]=o}),r}},"rewrite-fields.js":function(){Chtr.rewriteFields=function(e){if(_._isPlainObject(e))return e;if(_.isArray(e)){var t={};return _.each(e,function(e){t[e]=1}),t}}},"update-debounce.js":function(){var e={};Chtr.updateDebounce=function(t,n,r){check(t,String),check(n,Function),console.log("Chtr.updateDebounce → id:",t),r=!e[t]||r;var o=function(){console.log("Chtr.updateDebounce → updated"),e[t]&&(console.log("Chtr.updateDebounce → nextUpdate()"),e[t](),delete e[t])};e[t]=function(){console.log("Chtr.updateDebounce → update"),n(o)},r&&(e[t](),e[t]=_._noop)}}},"chat-parser.js":function(){chatParser=function(e,t){var n=_.extend({newlines:!0,links:!0,emoji:Meteor.isClient&&"ios"!=Sniff.os.name&&"osx"!=Sniff.os.name&&("android"!=Sniff.os.name||Sniff.os.majorVersion<4||4==Sniff.os.majorVersion&&Sniff.os.minorVersion<4),mask:""},t),r=[],o=function(e){return sanitize(e)};return n.mask&&r.push({name:"mask",regexp:/\S/g,parser:function(e){return n.mask}}),n.links&&(r.push({name:"email",regexp:/[0-9a-z+_](\.?[0-9a-z+_-])*@((xn---*)?[a-z0-9]((-|\.(xn--)?)?[a-z0-9])*\.(xn--)?[a-z0-9]{2,}|[а-яё0-9]((-|\.)?[а-яё0-9])*\.рф)/gi,parser:function(e){return'<a target="_blank" href="mailto:'+sanitize(e)+'">'+sanitize(punycode.toUnicode(e))+"</a>"}}),r.push({name:"link",regexp:/(https?:\/\/([a-z0-9-]+\.)*[a-z0-9-]+|([a-zа-яё0-9]((-|\.)?[a-zа-яё0-9])*\.)*[а-яё0-9]((-|\.)?[а-яё0-9])*\.рф|(xn--)?[a-z0-9]((-|\.)?[a-z0-9])*\.(com|org|net|int|edu|gov|mil|biz|info|mobi|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|bzh|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cw|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|krd|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw)(?![a-z0-9-_]))(:\d+)?(\/([^\s]*[^\s.,!()?:;])?)?/gi,parser:function(e){var t=/^https?/.test(e),n=t?e:"http://"+e,r=!0,o=Chtr.url(n),a=o.host||"";t&&(e=o.href.replace(a,punycode.toUnicode(a)));try{r=!Meteor.isClient||!Chtr.isInFrame||a!==Chtr.hostname,e=decodeURI(e)}catch(e){}return"<a"+(r?' rel="noreferrer" target="_blank" onclick="this.href=\'/go?url='+sanitize(encodeURIComponent(n),"script")+"';\" onmouseover=\"this.href='"+sanitize(sanitize(n,"script"))+"';\"":"")+' href="'+sanitize(n)+'">'+sanitize(e)+"</a>"}})),e=Tokenizr.parse(e,r,o),n.newlines&&(e=e.replace(/(^\n*|\n*$)/g,""),e=e.replace(/\n{2,}/gm,"<br><br>"),e=e.replace(/\n/gm,"<br>")),e=e.replace(/^\u0020+$/,function(e){return e.replace(/\u0020/g,"&nbsp;")}).replace(/(^\u0020+|\u0020+$)/g,"").replace(/(\u0020)(\u0020+)/g,function(e,t,n){return t+n.replace(/\u0020/g,"&nbsp;")}),e=e.replace(/^$/,"&nbsp;"),n.emoji&&(e=emojione.unicodeToImage(e)),Meteor.isServer?e:Spacebars.SafeString(e)}},"join.js":function(){Chtr.join=function(e,t,n){return e.length>1?(t+=" ",n=" "+n+" ",_.initial(e).join(t)+n+_.last(e)):e[0]}},"message.js":function(){Meteor.methods({insertMessage:function(e,t){console.log("insertMessage; message:",t),check(e,String),check(t,{message:String,clientId:String,createdAt:Number}),t.ready=!0,Meteor.isServer&&(process.env.PRODUCTION||Meteor.sleep(500),t.createdAt=Date.now(),t.saved=!0);var n=RPS.write(Messages,"upsert",{selector:e,modifier:{$set:t}});return Meteor.isServer&&(RPS.write(Messages,"remove",{selector:{_id:{$ne:e},clientId:t.clientId,ready:!1},withoutMongo:!0},_._noop),ChatUtils.call("afterMessage",t,_._noop)),Meteor.isClient&&Chtr.setClientItem("lastMessageSentAt",Date.now()),n},insertFile:function(e,t){console.log("insertMessage; message:",t),this.unblock(),check(e,String),check(t,{clientId:String,createdAt:Number,file:{connectionId:String,cdn:"uploadcare",fileName:String,size:Number,isImage:Boolean,mimeType:String,imageInfo:Match.OneOf({width:Number,height:Number},null)}}),t._id=e,t.ready=!0,t.message=t.file.fileName,Meteor.isServer&&(process.env.PRODUCTION||Meteor.sleep(500),t.createdAt=Date.now());var n=RPS.write(Messages,"insert",{doc:t});return Meteor.isClient&&Chtr.setClientItem("lastMessageSentAt",Date.now()),n},updateMessage:function(e,t){console.log("updateMessage; messageId, message:",e,t),this.unblock(),check(e,String),check(t,{message:String,clientId:String,createdAt:Number}),t.ready=!1,Meteor.isServer&&(process.env.PRODUCTION||Meteor.sleep(500),t.createdAt=Date.now());var n=RPS.write(Messages,"upsert",{selector:e,modifier:{$set:t},fields:{clientId:t.clientId},withoutMongo:!0});return n}})},"patterns.js":function(){Chtr.patterns={email:/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~])*@((xn---*)?[a-z0-9]((-|\.(xn--)?)?[a-z0-9])*\.(xn--)?[a-z0-9]{2,}|[а-яё0-9]((-|\.)?[а-яё0-9])*\.рф)$/i,zip:/^\d{3,}$/,phone:/^([-+()\s]*\d[-+()\s]*){5,20}$/,notEmpty:/\S/}},"punycode.js":["punycode",function(e){punycode=e("punycode")}],"sanitize.js":function(){sanitize=function(e,t){if("string"!=typeof e)return e;switch(t){case"script":e=e.replace(/('|"|<|>|\\)/g,"\\$1");break;default:e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e=e.replace(/'/g,"&#39;")}return e}},"tokenizr.js":function(){Tokenizr={tokenize:function(e,t){e||(e="");var n=[],r=0,o=[],a,i=0,s,c=[],u,l=function(e,t){return e.start-t.start};for(c.length=a=e.length,u=0;u<t.length;u++)e.replace(t[u].regexp,function(){var o=arguments[0],a=arguments[arguments.length-2],i=arguments[arguments.length-1],s=o.length,l,p;if(t[u].filter&&t[u].filter(o,a,e))return o;if(c[a-1]&&c[a-1]==c[a]||c[a+s]&&c[a+s]==c[a+s-1])return o;if(t[u].weak){for(l=a,p=s;p>0;l++,p--)if(c[l])return o}else for(l=n.length-1;l>=0;l--)n[l].start>=a&&n[l].start<a+s&&n.splice(l,1);for(r++,l=a,p=s;p>0;l++,p--)c[l]=r;return n.push({token:t[u].name,start:a,length:o.length}),o});for(c.length=0,n.sort(l),n.push({start:a}),u=0;u<n.length;u++)s=n[u],i<s.start&&o.push({type:!1,text:e.substr(i,s.start-i)}),s.token&&o.push({type:s.token,text:e.substr(s.start,s.length)}),i=s.start+s.length;return o},parse:function(e,t,n){var r=this.tokenize(e,t),o={},a="",i;for(i=t.length-1;i>=0;i--)o[t[i].name]=t[i];for(i=0;i<r.length;i++)a+=r[i].type?o[r[i].type].parser(r[i].text):n?n(r[i].text):r[i].text;return a}}},"update-client.js":function(){Meteor.methods({updateClient:function(e,t){if(console.log("updateClient; clientId, setter:",e,t),this.unblock(),!_.difference(_.keys(t),["opened"]).length)return RPS.write(Clients,"update",{selector:{_id:e},modifier:{$set:t}})}})}}},{extensions:[".js",".json",".html",".css"]});require("./client/templates/_helpers/animate/template.animate.js"),require("./client/templates/chat/template.chat-message.js"),require("./client/templates/chat/template.chat-rating-tab.js"),require("./client/templates/chat/template.chat-view.js"),require("./client/templates/chat/template.chat-welcome.js"),require("./client/templates/chat/template.chat-wrapper.js"),require("./client/templates/chat/template.chat.js"),require("./client/templates/chat/template.form-item.js"),require("./client/templates/chat/template.header.js"),require("./client/templates/chat/template.input-area.js"),require("./client/templates/chat/template.preform-message.js"),require("./client/templates/chat/template.preform.js"),require("./client/templates/chat/template.rated-chat-message.js"),require("./client/templates/chat/template.service-message.js"),require("./client/templates/chat/template.welcome-message.js"),require("./client/templates/includes/template.disconnected.js"),require("./client/templates/includes/template.progress-circle.js"),require("./client/templates/includes/template.spinner.js"),require("./client/templates/includes/template.svg-icons.js"),require("./client/templates/includes/template.upload-progress.js"),require("./client/templates/includes/template.userpic.js"),require("./client/templates/template.index.js"),require("./client/lib/_globals/chtr.js"),require("./client/lib/_globals/document.js"),require("./client/lib/_globals/modernizr.js"),require("./client/lib/_globals/production.js"),require("./client/lib/_globals/window.js"),require("./client/lib/connection-id.js"),require("./client/lib/date-now-fix.js"),require("./client/lib/hiddenScroll.js"),require("./client/lib/hosted-storage.js"),require("./client/lib/is-in-frame.js"),require("./client/lib/query-params.js"),require("./client/lib/stored-item.js"),require("./client/lib/url.js"),require("./lib/_globals/chtr.js"),require("./lib/_globals/collections.js"),require("./lib/_globals/languages.js"),require("./lib/_utils/_._.js"),require("./lib/_utils/client-value.js"),require("./lib/_utils/date-string.js"),require("./lib/_utils/filter-available-operators.js"),require("./lib/_utils/is-client-introduced.js"),require("./lib/_utils/localize.js"),require("./lib/_utils/object-to-search.js"),require("./lib/_utils/parse-form-data.js"),require("./lib/_utils/rewrite-fields.js"),require("./lib/_utils/update-debounce.js"),require("./lib/chat-parser.js"),require("./lib/join.js"),require("./lib/message.js"),require("./lib/patterns.js"),require("./lib/punycode.js"),require("./lib/sanitize.js"),require("./lib/tokenizr.js"),require("./lib/update-client.js"),require("./client/templates/_helpers/animate/animate.js"),require("./client/templates/_helpers/available-operators.js"),require("./client/templates/_helpers/chatra-slogan.js"),require("./client/templates/_helpers/client-value.js"),require("./client/templates/_helpers/color.js"),require("./client/templates/_helpers/display-name.js"),require("./client/templates/_helpers/file-size.js"),require("./client/templates/_helpers/helpers.js"),require("./client/templates/_helpers/host.js"),require("./client/templates/_helpers/is-in-frame.js"),require("./client/templates/_helpers/last-active.js"),require("./client/templates/_helpers/logo.js"),require("./client/templates/_helpers/need-to-preform.js"),require("./client/templates/_helpers/typing.js"),require("./client/templates/_helpers/user-title.js"),require("./client/templates/chat/chat-message.js"),require("./client/templates/chat/chat-rating-tab.js"),require("./client/templates/chat/chat-view.js"),require("./client/templates/chat/chat-welcome.js"),require("./client/templates/chat/chat-wrapper.js"),require("./client/templates/chat/chat.js"),require("./client/templates/chat/form-item.js"),require("./client/templates/chat/header.js"),require("./client/templates/chat/input-area.js"),require("./client/templates/chat/preform-message.js"),require("./client/templates/chat/preform.js"),require("./client/templates/chat/service-message.js"),require("./client/templates/chat/welcome-message.js"),require("./client/templates/includes/disconnected.js"),require("./client/templates/includes/progress-circle.js"),require("./client/templates/includes/spinner.js"),require("./client/templates/includes/upload-progress.js"),require("./client/templates/includes/userpic.js"),require("./client/_utils/assets.js"),require("./client/_utils/blob-to-img.js"),require("./client/_utils/console.js"),require("./client/_utils/date.js"),require("./client/_utils/form-is-ok.js"),require("./client/_utils/get-image-orientation.js"),require("./client/_utils/group-messages.js"),require("./client/_utils/is-image.js"),require("./client/_utils/mark-client-as-read.js"),require("./client/_utils/need-to-introduce.js"),require("./client/_utils/need-to-preform.js"),require("./client/_utils/now.js"),require("./client/_utils/open-chat.js"),require("./client/_utils/post-message.js"),require("./client/_utils/relaxed-each.js"),require("./client/_utils/save-client-data.js"),require("./client/_utils/serving-by.js"),require("./client/_utils/should-show-message.js"),require("./client/_utils/show-chat.js"),require("./client/_utils/shrink-image-file.js"),require("./client/_utils/subscribe.js"),require("./client/_utils/title-blink.js"),require("./client/_utils/u.js"),require("./client/_utils/update-stored-session.js"),require("./client/common/banned.js"),require("./client/common/button-type.js"),require("./client/common/chat-accepted-by-agent.js"),require("./client/common/chat-started.js"),require("./client/common/client.js"),require("./client/common/connect.js"),require("./client/common/custom-css.js"),require("./client/common/find-operators.js"),require("./client/common/focus.js"),require("./client/common/get-browser-language.js"),require("./client/common/integration-data.js"),require("./client/common/is-recent-subscriber.js"),require("./client/common/last-human-message-at.js"),require("./client/common/onbeforeunload.js"),require("./client/common/operators-for-welcome.js"),require("./client/common/ping.js"),require("./client/common/position.js"),require("./client/common/post-message-reciever.js"),require("./client/common/preform-or-chat.js"),require("./client/common/ready.js"),require("./client/common/reload.js"),require("./client/common/removed.js"),require("./client/common/send-transcript.js"),require("./client/common/set-group.js"),require("./client/common/smart-actions.js"),require("./client/common/smart-reload.js"),require("./client/common/sounds.js"),require("./client/common/status-connected.js"),require("./client/common/tab-id.js"),require("./client/common/unread.js"),require("./client/modules/buzz.import.js"),require("./client/modules/buzz.js"),require("./client/modules/custom-scrollbar.js"),require("./client/modules/emojione.js"),require("./client/modules/eventburrito.js"),require("./client/modules/getScrollbarWidth.js"),require("./client/modules/moment.js"),require("./client/modules/onDisplayed.js"),require("./client/modules/outline-fix.js"),require("./client/modules/responsive-textarea.js"),require("./client/modules/scroll-edges.js"),require("./client/modules/sniffer.module.js"),require("./client/modules/sniffer.run.js"),require("./client/modules/spin.import.js"),require("./client/modules/spin.js");

