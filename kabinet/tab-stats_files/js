(function(n,t){function nu(n){var i=yt[n]={},t,r;for(n=n.split(/\s+/),t=0,r=n.length;t<r;t++)i[n[t]]=!0;return i}function bt(n,r,u){if(u===t&&n.nodeType===1){var f="data-"+r.replace(wt,"-$1").toLowerCase();if(u=n.getAttribute(f),typeof u=="string"){try{u=u==="true"?!0:u==="false"?!1:u==="null"?null:i.isNumeric(u)?+u:pt.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function ut(n){for(var t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function kt(n,t,r){var u=t+"defer",f=t+"queue",e=t+"mark",o=i._data(n,u);!o||r!=="queue"&&i._data(n,f)||r!=="mark"&&i._data(n,e)||setTimeout(function(){i._data(n,f)||i._data(n,e)||(i.removeData(n,u,!0),o.fire())},0)}function c(){return!1}function k(){return!0}function oi(n){return!n||!n.parentNode||n.parentNode.nodeType===11}function si(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if(typeof t=="string"){var u=i.grep(n,function(n){return n.nodeType===1});if(yu.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function hi(n){var i=ci.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function rf(n){return i.nodeName(n,"table")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function wi(n,t){if(t.nodeType===1&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function bi(n,t){var r;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(n),r=t.nodeName.toLowerCase(),r==="object"?t.outerHTML=n.outerHTML:r==="input"&&(n.type==="checkbox"||n.type==="radio")?(n.checked&&(t.defaultChecked=t.checked=n.checked),t.value!==n.value&&(t.value=n.value)):r==="option"?t.selected=n.defaultSelected:r==="input"||r==="textarea"?t.defaultValue=n.defaultValue:r==="script"&&t.text!==n.text&&(t.text=n.text),t.removeAttribute(i.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function d(n){return typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName("*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll("*"):[]}function ki(n){(n.type==="checkbox"||n.type==="radio")&&(n.defaultChecked=n.checked)}function di(n){var t=(n.nodeName||"").toLowerCase();t==="input"?ki(n):t!=="script"&&typeof n.getElementsByTagName!="undefined"&&i.grep(n.getElementsByTagName("input"),ki)}function uf(n){var t=r.createElement("div");return ot.appendChild(t),t.innerHTML=n.outerHTML,t.firstChild}function tr(n,t,r){var u=t==="width"?n.offsetWidth:n.offsetHeight,f=t==="width"?1:0,e=4;if(u>0){if(r!=="border")for(;f<e;f+=2)r||(u-=parseFloat(i.css(n,"padding"+o[f]))||0),r==="margin"?u+=parseFloat(i.css(n,r+o[f]))||0:u-=parseFloat(i.css(n,"border"+o[f]+"Width"))||0;return u+"px"}if(u=l(n,t),(u<0||u==null)&&(u=n.style[t]),ht.test(u))return u;if(u=parseFloat(u)||0,r)for(;f<e;f+=2)u+=parseFloat(i.css(n,"padding"+o[f]))||0,r!=="padding"&&(u+=parseFloat(i.css(n,"border"+o[f]+"Width"))||0),r==="margin"&&(u+=parseFloat(i.css(n,r+o[f]))||0);return u+"px"}function hr(n){return function(t,r){if(typeof t!="string"&&(r=t,t="*"),i.isFunction(r))for(var o=t.toLowerCase().split(ur),f=0,h=o.length,u,s,e;f<h;f++)u=o[f],e=/^\+/.test(u),e&&(u=u.substr(1)||"*"),s=n[u]=n[u]||[],s[e?"unshift":"push"](r)}}function g(n,i,r,u,f,e){f=f||i.dataTypes[0];e=e||{};e[f]=!0;for(var s=n[f],h=0,l=s?s.length:0,c=n===ct,o;h<l&&(c||!o);h++)o=s[h](i,r,u),typeof o=="string"&&(!c||e[o]?o=t:(i.dataTypes.unshift(o),o=g(n,i,r,u,o,e)));return!c&&o||e["*"]||(o=g(n,i,r,u,"*",e)),o}function cr(n,r){var u,f,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);f&&i.extend(!0,n,f)}function lt(n,t,r,u){if(i.isArray(t))i.each(t,function(t,i){r||af.test(n)?u(n,i):lt(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(var f in t)lt(n+"["+f+"]",t[f],r,u)}function ne(n,i,r){var s=n.contents,f=n.dataTypes,c=n.responseFields,o,u,e,h;for(u in c)u in r&&(i[c[u]]=r[u]);while(f[0]==="*")f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("content-type"));if(o)for(u in s)if(s[u]&&s[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}h||(h=u)}e=e||h}if(e)return e!==f[0]&&f.unshift(e),r[e]}function te(n,r){n.dataFilter&&(r=n.dataFilter(r,n.dataType));for(var v=n.dataTypes,s={},l,p=v.length,a,u=v[0],h,y,f,e,o,c=1;c<p;c++){if(c===1)for(l in n.converters)typeof l=="string"&&(s[l.toLowerCase()]=n.converters[l]);if(h=u,u=v[c],u==="*")u=h;else if(h!=="*"&&h!==u){if(y=h+" "+u,f=s[y]||s["* "+u],!f){o=t;for(e in s)if(a=e.split(" "),(a[0]===h||a[0]==="*")&&(o=s[a[1]+" "+u],o)){e=s[e];e===!0?f=o:o===!0&&(f=e);break}}f||o||i.error("No conversion from "+y.replace(" "," to "));f!==!0&&(r=f?f(r):o(e(r)))}}return r}function vr(){try{return new n.XMLHttpRequest}catch(t){}}function ie(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function yr(){return setTimeout(fe,0),rt=i.now()}function fe(){rt=t}function y(n,t){var r={};return i.each(it.concat.apply([],it.slice(0,t)),function(){r[this]=n}),r}function pr(n){if(!at[n]){var e=r.body,t=i("<"+n+">").appendTo(e),u=t.css("display");t.remove();(u==="none"||u==="")&&(f||(f=r.createElement("iframe"),f.frameBorder=f.width=f.height=0),e.appendChild(f),v&&f.createElement||(v=(f.contentWindow||f.contentDocument).document,v.write((i.support.boxModel?"<!doctype html>":"")+"<html><body>"),v.close()),t=v.createElement(n),v.body.appendChild(t),u=i.css(t,"display"),e.removeChild(f));at[n]=u}return at[n]}function kr(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}var r=n.document,dr=n.navigator,gr=n.location,i=function(){function b(){if(!i.isReady){try{r.documentElement.doScroll("left")}catch(n){setTimeout(b,1);return}i.ready()}}var i=function(n,t){return new i.fn.init(n,t,c)},k=n.jQuery,d=n.$,c,g=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,a=/^\s+/,v=/\s+$/,nt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,tt=/^[\],:{}\s]*$/,it=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rt=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ut=/(?:^|:|,)(?:\s*\[)+/g,ft=/(webkit)[ \/]([\w.]+)/,et=/(opera)(?:.*version)?[ \/]([\w.]+)/,ot=/(msie) ([\w.]+)/,st=/(mozilla)(?:.*? rv:([\w.]+))?/,ht=/-([a-z]|[0-9])/ig,ct=/^-ms-/,lt=function(n,t){return(t+"").toUpperCase()},at=dr.userAgent,e,o,u,vt=Object.prototype.toString,s=Object.prototype.hasOwnProperty,h=Array.prototype.push,f=Array.prototype.slice,y=String.prototype.trim,p=Array.prototype.indexOf,w={};return i.fn=i.prototype={constructor:i,init:function(n,u,f){var o,s,e,h;if(!n)return this;if(n.nodeType)return this.context=this[0]=n,this.length=1,this;if(n==="body"&&!u&&r.body)return this.context=r,this[0]=r.body,this.selector=n,this.length=1,this;if(typeof n=="string"){if(o=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:g.exec(n),o&&(o[1]||!u)){if(o[1])return u=u instanceof i?u[0]:u,h=u?u.ownerDocument||u:r,e=nt.exec(n),e?i.isPlainObject(u)?(n=[r.createElement(e[1])],i.fn.attr.call(n,u,!0)):n=[h.createElement(e[1])]:(e=i.buildFragment([o[1]],[h]),n=(e.cacheable?i.clone(e.fragment):e.fragment).childNodes),i.merge(this,n);if(s=r.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return f.find(n);this.length=1;this[0]=s}return this.context=r,this.selector=n,this}return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n)}return i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return f.call(this,0)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n,t,r){var u=this.constructor();return i.isArray(n)?h.apply(u,n):i.merge(u,n),u.prevObject=this,u.context=this.context,t==="find"?u.selector=this.selector+(this.selector?" ":"")+r:t&&(u.selector=this.selector+"."+t+"("+r+")"),u},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.bindReady(),o.add(n),this},eq:function(n){return n=+n,n===-1?this.slice(n):this.slice(n,n+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(f.apply(this,arguments),"slice",f.call(arguments).join(","))},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var o,e,u,r,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n=="object"||i.isFunction(n)||(n={}),l===f&&(n=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=n[e],r=o[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(s=i.isArray(r)))?(s?(s=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n},i.extend({noConflict:function(t){return n.$===i&&(n.$=d),t&&n.jQuery===i&&(n.jQuery=k),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0&&!--i.readyWait||n!==!0&&!i.isReady){if(!r.body)return setTimeout(i.ready,1);if(i.isReady=!0,n!==!0&&--i.readyWait>0)return;o.fireWith(r,[i]);i.fn.trigger&&i(r).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=i.Callbacks("once memory"),r.readyState==="complete")return setTimeout(i.ready,1);if(r.addEventListener)r.addEventListener("DOMContentLoaded",u,!1),n.addEventListener("load",i.ready,!1);else if(r.attachEvent){r.attachEvent("onreadystatechange",u);n.attachEvent("onload",i.ready);var t=!1;try{t=n.frameElement==null}catch(f){}r.documentElement.doScroll&&t&&b()}}},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):w[vt.call(n)]||"object"},isPlainObject:function(n){if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!s.call(n,"constructor")&&!s.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}for(var r in n);return r===t||s.call(n,r)},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw new Error(n);},parseJSON:function(t){if(typeof t!="string"||!t)return null;if(t=i.trim(t),n.JSON&&n.JSON.parse)return n.JSON.parse(t);if(tt.test(t.replace(it,"@").replace(rt,"]").replace(ut,"")))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(r){if(typeof r!="string"||!r)return null;var u,f;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&l.test(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ct,"ms-").replace(ht,lt)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toUpperCase()===t.toUpperCase()},each:function(n,r,u){var f,e=0,o=n.length,s=o===t||i.isFunction(n);if(u){if(s){for(f in n)if(r.apply(n[f],u)===!1)break}else for(;e<o;)if(r.apply(n[e++],u)===!1)break}else if(s){for(f in n)if(r.call(n[f],f,n[f])===!1)break}else for(;e<o;)if(r.call(n[e],e,n[e++])===!1)break;return n},trim:y?function(n){return n==null?"":y.call(n)}:function(n){return n==null?"":n.toString().replace(a,"").replace(v,"")},makeArray:function(n,t){var u=t||[],r;return n!=null&&(r=i.type(n),n.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(n)?h.call(u,n):i.merge(u,n)),u},inArray:function(n,t,i){var r;if(t){if(p)return p.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var u=n.length,r=0,f;if(typeof i.length=="number")for(f=i.length;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u=[],f,r,e;for(i=!!i,r=0,e=n.length;r<e;r++)f=!!t(n[r],r),i!==f&&u.push(n[r]);return u},map:function(n,r,u){var f,h,e=[],s=0,o=n.length,c=n instanceof i||o!==t&&typeof o=="number"&&(o>0&&n[0]&&n[o-1]||o===0||i.isArray(n));if(c)for(;s<o;s++)f=r(n[s],s,u),f!=null&&(e[e.length]=f);else for(h in n)f=r(n[h],h,u),f!=null&&(e[e.length]=f);return e.concat.apply([],e)},guid:1,proxy:function(n,r){var e,o,u;return(typeof r=="string"&&(e=n[r],r=n,n=e),!i.isFunction(n))?t:(o=f.call(arguments,2),u=function(){return n.apply(r,o.concat(f.call(arguments)))},u.guid=n.guid=n.guid||u.guid||i.guid++,u)},access:function(n,r,u,f,e,o,s){var c,l=u==null,h=0,a=n.length;if(u&&typeof u=="object"){for(h in u)i.access(n,r,h,u[h],1,o,f);e=1}else if(f!==t){if(c=s===t&&i.isFunction(f),l&&(c?(c=r,r=function(n,t,r){return c.call(i(n),r)}):(r.call(n,f),r=null)),r)for(;h<a;h++)r(n[h],u,c?f.call(n[h],h,r(n[h],u)):f,s);e=1}return e?n:l?r.call(n):a?r(n[0],u):o},now:function(){return(new Date).getTime()},uaMatch:function(n){n=n.toLowerCase();var t=ft.exec(n)||et.exec(n)||ot.exec(n)||n.indexOf("compatible")<0&&st.exec(n)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function n(t,i){return new n.fn.init(t,i)}i.extend(!0,n,this);n.superclass=this;n.fn=n.prototype=this();n.fn.constructor=n;n.sub=this.sub;n.fn.init=function(r,u){return u&&u instanceof i&&!(u instanceof n)&&(u=n(u)),i.fn.init.call(this,r,u,t)};n.fn.init.prototype=n.fn;var t=n(r);return n},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(n,t){w["[object "+t+"]"]=t.toLowerCase()}),e=i.uaMatch(at),e.browser&&(i.browser[e.browser]=!0,i.browser.version=e.version),i.browser.webkit&&(i.browser.safari=!0),l.test(" ")&&(a=/^[\s\xA0]+/,v=/[\s\xA0]+$/),c=i(r),r.addEventListener?u=function(){r.removeEventListener("DOMContentLoaded",u,!1);i.ready()}:r.attachEvent&&(u=function(){r.readyState==="complete"&&(r.detachEvent("onreadystatechange",u),i.ready())}),i}(),yt={},w,pt,wt,lr,p,nt,ar,a,wr,br,vt;i.Callbacks=function(n){n=n?yt[n]||nu(n):{};var r=[],f=[],u,l,s,c,h,e,a=function(t){for(var u,e,f=0,s=t.length;f<s;f++)u=t[f],e=i.type(u),e==="array"?a(u):e==="function"&&(n.unique&&o.has(u)||r.push(u))},v=function(t,i){for(i=i||[],u=!n.memory||[t,i],l=!0,s=!0,e=c||0,c=0,h=r.length;r&&e<h;e++)if(r[e].apply(t,i)===!1&&n.stopOnFalse){u=!0;break}s=!1;r&&(n.once?u===!0?o.disable():r=[]:f&&f.length&&(u=f.shift(),o.fireWith(u[0],u[1])))},o={add:function(){if(r){var n=r.length;a(arguments);s?h=r.length:u&&u!==!0&&(c=n,v(u[0],u[1]))}return this},remove:function(){var t;if(r)for(var u=arguments,i=0,f=u.length;i<f;i++)for(t=0;t<r.length;t++)if(u[i]===r[t]&&(s&&t<=h&&(h--,t<=e&&e--),r.splice(t--,1),n.unique))break;return this},has:function(n){if(r)for(var t=0,i=r.length;t<i;t++)if(n===r[t])return!0;return!1},empty:function(){return r=[],this},disable:function(){return r=f=u=t,this},disabled:function(){return!r},lock:function(){return f=t,u&&u!==!0||o.disable(),this},locked:function(){return!f},fireWith:function(t,i){return f&&(s?n.once||f.push([t,i]):n.once&&u||v(t,i)),this},fire:function(){return o.fireWith(this,arguments),this},fired:function(){return!!l}};return o};w=[].slice;i.extend({Deferred:function(n){var r=i.Callbacks("once memory"),u=i.Callbacks("once memory"),f=i.Callbacks("memory"),s="pending",h={resolve:r,reject:u,notify:f},e={done:r.add,fail:u.add,progress:f.add,state:function(){return s},isResolved:r.fired,isRejected:u.fired,then:function(n,i,r){return t.done(n).fail(i).progress(r),this},always:function(){return t.done.apply(t,arguments).fail.apply(t,arguments),this},pipe:function(n,r,u){return i.Deferred(function(f){i.each({done:[n,"resolve"],fail:[r,"reject"],progress:[u,"notify"]},function(n,r){var e=r[0],o=r[1],u;i.isFunction(e)?t[n](function(){u=e.apply(this,arguments);u&&i.isFunction(u.promise)?u.promise().then(f.resolve,f.reject,f.notify):f[o+"With"](this===t?f:this,[u])}):t[n](f[o])})}).promise()},promise:function(n){if(n==null)n=e;else for(var t in e)n[t]=e[t];return n}},t=e.promise({});for(var o in h)t[o]=h[o].fire,t[o+"With"]=h[o].fireWith;return t.done(function(){s="resolved"},u.disable,f.lock).fail(function(){s="rejected"},r.disable,f.lock),n&&n.call(t,t),t},when:function(n){function h(n){return function(i){r[n]=arguments.length>1?w.call(arguments,0):i;--e||t.resolveWith(t,r)}}function c(n){return function(i){o[n]=arguments.length>1?w.call(arguments,0):i;t.notifyWith(s,o)}}var r=w.call(arguments,0),u=0,f=r.length,o=new Array(f),e=f,l=f,t=f<=1&&n&&i.isFunction(n.promise)?n:i.Deferred(),s=t.promise();if(f>1){for(;u<f;u++)r[u]&&r[u].promise&&i.isFunction(r[u].promise)?r[u].promise().then(h(u),t.reject,c(u)):--e;e||t.resolveWith(t,r)}else t!==n&&t.resolveWith(t,f?[n]:[]);return s}});i.support=function(){var u,v,o,c,l,f,e,h,a,y,s,t=r.createElement("div"),p=r.documentElement;if(t.setAttribute("className","t"),t.innerHTML="   <link/><table><\/table><a href='/a' style='top:1px;float:left;opacity:.55;'>a<\/a><input type='checkbox'/>",v=t.getElementsByTagName("*"),o=t.getElementsByTagName("a")[0],!v||!v.length||!o)return{};c=r.createElement("select");l=c.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];u={leadingWhitespace:t.firstChild.nodeType===3,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(o.getAttribute("style")),hrefNormalized:o.getAttribute("href")==="/a",opacity:/^0.55/.test(o.style.opacity),cssFloat:!!o.style.cssFloat,checkOn:f.value==="on",optSelected:l.selected,getSetAttribute:t.className!=="t",enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};i.boxModel=u.boxModel=r.compatMode==="CSS1Compat";f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;c.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(w){u.deleteExpando=!1}if(!t.addEventListener&&t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).fireEvent("onclick")),f=r.createElement("input"),f.value="t",f.setAttribute("type","radio"),u.radioValue=f.value==="t",f.setAttribute("checked","checked"),f.setAttribute("name","t"),t.appendChild(f),e=r.createDocumentFragment(),e.appendChild(t.lastChild),u.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,u.appendChecked=f.checked,e.removeChild(f),e.appendChild(t),t.attachEvent)for(y in{submit:1,change:1,focusin:1})a="on"+y,s=a in t,s||(t.setAttribute(a,"return;"),s=typeof t[a]=="function"),u[y+"Bubbles"]=s;return e.removeChild(t),e=c=l=t=f=null,i(function(){var e,c,f,k,l,o,y,p,d,w,b,a,v=r.getElementsByTagName("body")[0];v&&(y=1,a="padding:0;margin:0;border:",w="position:absolute;top:0;left:0;width:1px;height:1px;",b=a+"0;visibility:hidden;",p="style='"+w+a+"5px solid #000;",d="<div "+p+"display:block;'><div style='"+a+"0;display:block;overflow:hidden;'><\/div><\/div><table "+p+"' cellpadding='0' cellspacing='0'><tr><td><\/td><\/tr><\/table>",e=r.createElement("div"),e.style.cssText=b+"width:0;height:0;position:static;top:0;margin-top:"+y+"px",v.insertBefore(e,v.firstChild),t=r.createElement("div"),e.appendChild(t),t.innerHTML="<table><tr><td style='"+a+"0;display:none'><\/td><td>t<\/td><\/tr><\/table>",h=t.getElementsByTagName("td"),s=h[0].offsetHeight===0,h[0].style.display="",h[1].style.display="none",u.reliableHiddenOffsets=s&&h[0].offsetHeight===0,n.getComputedStyle&&(t.innerHTML="",o=r.createElement("div"),o.style.width="0",o.style.marginRight="0",t.style.width="2px",t.appendChild(o),u.reliableMarginRight=(parseInt((n.getComputedStyle(o,null)||{marginRight:0}).marginRight,10)||0)===0),typeof t.style.zoom!="undefined"&&(t.innerHTML="",t.style.width=t.style.padding="1px",t.style.border=0,t.style.overflow="hidden",t.style.display="inline",t.style.zoom=1,u.inlineBlockNeedsLayout=t.offsetWidth===3,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div style='width:5px;'><\/div>",u.shrinkWrapBlocks=t.offsetWidth!==3),t.style.cssText=w+b,t.innerHTML=d,c=t.firstChild,f=c.firstChild,k=c.nextSibling.firstChild.firstChild,l={doesNotAddBorder:f.offsetTop!==5,doesAddBorderForTableAndCells:k.offsetTop===5},f.style.position="fixed",f.style.top="20px",l.fixedPosition=f.offsetTop===20||f.offsetTop===15,f.style.position=f.style.top="",c.style.overflow="hidden",c.style.position="relative",l.subtractsBorderForOverflowNotVisible=f.offsetTop===-5,l.doesNotIncludeMarginInBodyOffset=v.offsetTop!==y,n.getComputedStyle&&(t.style.marginTop="1%",u.pixelMargin=(n.getComputedStyle(t,null)||{marginTop:0}).marginTop!=="1%"),typeof e.style.zoom!="undefined"&&(e.style.zoom=1),v.removeChild(e),o=t=e=null,i.extend(u,l))}),u}();pt=/^(?:\{.*\}|\[.*\])$/;wt=/([A-Z])/g;i.extend({cache:{},uuid:0,expando:"jQuery"+(i.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ut(n)},data:function(n,r,u,f){if(i.acceptData(n)){var a,o,h,c=i.expando,v=typeof r=="string",l=n.nodeType,s=l?i.cache:n,e=l?n[c]:n[c]&&c,y=r==="events";if(e&&s[e]&&(y||f||s[e].data)||!v||u!==t)return(e||(l?n[c]=e=++i.uuid:e=c),s[e]||(s[e]={},l||(s[e].toJSON=i.noop)),(typeof r=="object"||typeof r=="function")&&(f?s[e]=i.extend(s[e],r):s[e].data=i.extend(s[e].data,r)),a=o=s[e],f||(o.data||(o.data={}),o=o.data),u!==t&&(o[i.camelCase(r)]=u),y&&!o[r])?a.events:(v?(h=o[r],h==null&&(h=o[i.camelCase(r)])):h=o,h)}},removeData:function(n,t,r){if(i.acceptData(n)){var e,s,c,o=i.expando,h=n.nodeType,u=h?i.cache:n,f=h?n[o]:o;if(u[f]){if(t&&(e=r?u[f]:u[f].data,e)){for(i.isArray(t)||(t in e?t=[t]:(t=i.camelCase(t),t=t in e?[t]:t.split(" "))),s=0,c=t.length;s<c;s++)delete e[t[s]];if(!(r?ut:i.isEmptyObject)(e))return}(r||(delete u[f].data,ut(u[f])))&&(i.support.deleteExpando||!u.setInterval?delete u[f]:u[f]=null,h&&(i.support.deleteExpando?delete n[o]:n.removeAttribute?n.removeAttribute(o):n[o]=null))}}},_data:function(n,t,r){return i.data(n,t,r,!0)},acceptData:function(n){if(n.nodeName){var t=i.noData[n.nodeName.toLowerCase()];if(t)return!(t===!0||n.getAttribute("classid")!==t)}return!0}});i.fn.extend({data:function(n,r){var u,s,h,o,l,e=this[0],c=0,f=null;if(n===t){if(this.length&&(f=i.data(e),e.nodeType===1&&!i._data(e,"parsedAttrs"))){for(h=e.attributes,l=h.length;c<l;c++)o=h[c].name,o.indexOf("data-")===0&&(o=i.camelCase(o.substring(5)),bt(e,o,f[o]));i._data(e,"parsedAttrs",!0)}return f}return typeof n=="object"?this.each(function(){i.data(this,n)}):(u=n.split(".",2),u[1]=u[1]?"."+u[1]:"",s=u[1]+"!",i.access(this,function(r){if(r===t)return f=this.triggerHandler("getData"+s,[u[0]]),f===t&&e&&(f=i.data(e,n),f=bt(e,n,f)),f===t&&u[1]?this.data(u[0]):f;u[1]=r;this.each(function(){var t=i(this);t.triggerHandler("setData"+s,u);i.data(this,n,r);t.triggerHandler("changeData"+s,u)})},null,r,arguments.length>1,null,!1))},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({_mark:function(n,t){n&&(t=(t||"fx")+"mark",i._data(n,t,(i._data(n,t)||0)+1))},_unmark:function(n,t,r){if(n!==!0&&(r=t,t=n,n=!1),t){r=r||"fx";var u=r+"mark",f=n?0:(i._data(t,u)||1)-1;f?i._data(t,u,f):(i.removeData(t,u,!0),kt(t,r,"mark"))}},queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),u=r.shift(),f={};u==="inprogress"&&(u=r.shift());u&&(t==="fx"&&r.unshift("inprogress"),i._data(n,t+".run",f),u.call(n,function(){i.dequeue(n,t)},f));r.length||(i.removeData(n,t+"queue "+t+".run",!0),kt(n,t,"queue"))}});i.fn.extend({queue:function(n,r){var u=2;return(typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u)?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){function c(){--o||e.resolveWith(u,[u])}typeof n!="string"&&(r=n,n=t);n=n||"fx";for(var e=i.Deferred(),u=this,f=u.length,o=1,s=n+"defer",l=n+"queue",a=n+"mark",h;f--;)(h=i.data(u[f],s,t,!0)||(i.data(u[f],l,t,!0)||i.data(u[f],a,t,!0))&&i.data(u[f],s,i.Callbacks("once memory"),!0))&&(o++,h.add(c));return c(),e.promise(r)}});var dt=/[\n\t\r]/g,b=/\s+/,tu=/\r/g,iu=/^(?:button|input)$/i,ru=/^(?:button|input|object|select|textarea)$/i,uu=/^a(?:rea)?$/i,gt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ni=i.support.getSetAttribute,e,ti,ii;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var r,f,o,t,e,u,s;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(n&&typeof n=="string")for(r=n.split(b),f=0,o=this.length;f<o;f++)if(t=this[f],t.nodeType===1)if(t.className||r.length!==1){for(e=" "+t.className+" ",u=0,s=r.length;u<s;u++)~e.indexOf(" "+r[u]+" ")||(e+=r[u]+" ");t.className=i.trim(e)}else t.className=n;return this},removeClass:function(n){var o,u,s,r,f,e,h;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(n&&typeof n=="string"||n===t)for(o=(n||"").split(b),u=0,s=this.length;u<s;u++)if(r=this[u],r.nodeType===1&&r.className)if(n){for(f=(" "+r.className+" ").replace(dt," "),e=0,h=o.length;e<h;e++)f=f.replace(" "+o[e]+" "," ");r.className=i.trim(f)}else r.className="";return this},toggleClass:function(n,t){var r=typeof n,u=typeof t=="boolean";return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var f,s=0,o=i(this),e=t,h=n.split(b);f=h[s++];)e=u?e:!o.hasClass(f),o[e?"addClass":"removeClass"](f);else(r==="undefined"||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(dt," ").indexOf(i)>-1)return!0;return!1},val:function(n){var r,u,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var o=i(this),f;this.nodeType===1&&(f=e?n.call(this,u,o.val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t)?u:(u=f.value,typeof u=="string"?u.replace(tu,""):u==null?"":u):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){var o,r,h,t,u=n.selectedIndex,s=[],f=n.options,e=n.type==="select-one";if(u<0)return null;for(r=e?u:0,h=e?u+1:f.length;r<h;r++)if(t=f[r],t.selected&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),e)return o;s.push(o)}return e&&!s.length&&f.length?i(f[u]).val():s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(n,r,u,f){var o,s,h,c=n.nodeType;if(n&&c!==3&&c!==8&&c!==2){if(f&&r in i.attrFn)return i(n)[r](u);if(typeof n.getAttribute=="undefined")return i.prop(n,r,u);if(h=c!==1||!i.isXMLDoc(n),h&&(r=r.toLowerCase(),s=i.attrHooks[r]||(gt.test(r)?ti:e)),u!==t){if(u===null){i.removeAttr(n,r);return}return s&&"set"in s&&h&&(o=s.set(n,u,r))!==t?o:(n.setAttribute(r,""+u),u)}return s&&"get"in s&&h&&(o=s.get(n,r))!==null?o:(o=n.getAttribute(r),o===null?t:o)}},removeAttr:function(n,t){var u,f,r,s,e,o=0;if(t&&n.nodeType===1)for(f=t.toLowerCase().split(b),s=f.length;o<s;o++)r=f[o],r&&(u=i.propFix[r]||r,e=gt.test(r),e||i.attr(n,r,""),n.removeAttribute(ni?r:u),e&&u in n&&(n[u]=!1))},attrHooks:{type:{set:function(n,t){if(iu.test(n.nodeName)&&n.parentNode)i.error("type property can't be changed");else if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}},value:{get:function(n,t){return e&&i.nodeName(n,"button")?e.get(n,t):t in n?n.value:null},set:function(n,t,r){if(e&&i.nodeName(n,"button"))return e.set(n,t,r);n.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):ru.test(n.nodeName)||uu.test(n.nodeName)&&n.href?0:t}}}});i.attrHooks.tabindex=i.propHooks.tabIndex;ti={get:function(n,r){var u,f=i.prop(n,r);return f===!0||typeof f!="boolean"&&(u=n.getAttributeNode(r))&&u.nodeValue!==!1?r.toLowerCase():t},set:function(n,t,r){var u;return t===!1?i.removeAttr(n,r):(u=i.propFix[r]||r,u in n&&(n[u]=!0),n.setAttribute(r,r.toLowerCase())),r}};ni||(ii={name:!0,id:!0,coords:!0},e=i.valHooks.button={get:function(n,i){var r;return r=n.getAttributeNode(i),r&&(ii[i]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(n,t,i){var u=n.getAttributeNode(i);return u||(u=r.createAttribute(i),n.setAttributeNode(u)),u.nodeValue=t+""}},i.attrHooks.tabindex.set=e.set,i.each(["width","height"],function(n,t){i.attrHooks[t]=i.extend(i.attrHooks[t],{set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}})}),i.attrHooks.contenteditable={get:e.get,set:function(n,t,i){t===""&&(t="false");e.set(n,t,i)}});i.support.hrefNormalized||i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return i===null?t:i}})});i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText.toLowerCase()||t},set:function(n,t){return n.style.cssText=""+t}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return n.getAttribute("value")===null?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}})});var ft=/^(?:textarea|input|select)$/i,ri=/^([^\.]*)?(?:\.(.+))?$/,fu=/(?:^|\s)hover(\.\S+)?\b/,eu=/^key/,ou=/^(?:mouse|contextmenu)|click/,ui=/^(?:focusinfocus|focusoutblur)$/,su=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,hu=function(n){var t=su.exec(n);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},cu=function(n,t){var i=n.attributes||{};return(!t[1]||n.nodeName.toLowerCase()===t[1])&&(!t[2]||(i.id||{}).value===t[2])&&(!t[3]||t[3].test((i["class"]||{}).value))},fi=function(n){return i.event.special.hover?n:n.replace(fu,"mouseenter$1 mouseleave$1")};i.event={add:function(n,r,u,f,e){var a,s,v,y,p,o,b,l,w,c,h;if(n.nodeType!==3&&n.nodeType!==8&&r&&u&&(a=i._data(n))){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),v=a.events,v||(a.events=v={}),s=a.handle,s||(a.handle=s=function(n){return typeof i!="undefined"&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(s.elem,arguments):t},s.elem=n),r=i.trim(fi(r)).split(" "),y=0;y<r.length;y++)p=ri.exec(r[y])||[],o=p[1],b=(p[2]||"").split(".").sort(),h=i.event.special[o]||{},o=(e?h.delegateType:h.bindType)||o,h=i.event.special[o]||{},l=i.extend({type:o,origType:p[1],data:f,handler:u,guid:u.guid,selector:e,quick:e&&hu(e),namespace:b.join(".")},w),c=v[o],c||(c=v[o]=[],c.delegateCount=0,h.setup&&h.setup.call(n,f,b,s)!==!1||(n.addEventListener?n.addEventListener(o,s,!1):n.attachEvent&&n.attachEvent("on"+o,s))),h.add&&(h.add.call(n,l),l.handler.guid||(l.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,l):c.push(l),i.event.global[o]=!0;n=null}},global:{},remove:function(n,t,r,u,f){var y=i.hasData(n)&&i._data(n),l,p,e,b,h,k,a,v,c,w,o,s;if(y&&(v=y.events)){for(t=i.trim(fi(t||"")).split(" "),l=0;l<t.length;l++){if(p=ri.exec(t[l])||[],e=b=p[1],h=p[2],!e){for(e in v)i.event.remove(n,e+t[l],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,o=v[e]||[],k=o.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,a=0;a<o.length;a++)s=o[a],(f||b===s.origType)&&(!r||r.guid===s.guid)&&(!h||h.test(s.namespace))&&(!u||u===s.selector||u==="**"&&s.selector)&&(o.splice(a--,1),s.selector&&o.delegateCount--,c.remove&&c.remove.call(n,s));o.length===0&&k!==o.length&&(c.teardown&&c.teardown.call(n,h)!==!1||i.removeEvent(n,e,y.handle),delete v[e])}i.isEmptyObject(v)&&(w=y.handle,w&&(w.elem=null),i.removeData(n,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(r,u,f,e){if(!f||f.nodeType!==3&&f.nodeType!==8){var o=r.type||r,p=[],w,k,c,s,h,a,l,v,y,b;if(!ui.test(o+i.event.triggered)&&(o.indexOf("!")>=0&&(o=o.slice(0,-1),k=!0),o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),f&&!i.event.customEvent[o]||i.event.global[o])){if(r=typeof r=="object"?r[i.expando]?r:new i.Event(o,r):new i.Event(o),r.type=o,r.isTrigger=!0,r.exclusive=k,r.namespace=p.join("."),r.namespace_re=r.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,a=o.indexOf(":")<0?"on"+o:"",!f){w=i.cache;for(c in w)w[c].events&&w[c].events[o]&&i.event.trigger(r,u,w[c].handle.elem,!0);return}if(r.result=t,r.target||(r.target=f),u=u!=null?i.makeArray(u):[],u.unshift(r),l=i.event.special[o]||{},!l.trigger||l.trigger.apply(f,u)!==!1){if(y=[[f,l.bindType||o]],!e&&!l.noBubble&&!i.isWindow(f)){for(b=l.delegateType||o,s=ui.test(b+o)?f:f.parentNode,h=null;s;s=s.parentNode)y.push([s,b]),h=s;h&&h===f.ownerDocument&&y.push([h.defaultView||h.parentWindow||n,b])}for(c=0;c<y.length&&!r.isPropagationStopped();c++)s=y[c][0],r.type=y[c][1],v=(i._data(s,"events")||{})[r.type]&&i._data(s,"handle"),v&&v.apply(s,u),v=a&&s[a],v&&i.acceptData(s)&&v.apply(s,u)===!1&&r.preventDefault();return r.type=o,e||r.isDefaultPrevented()||l._default&&l._default.apply(f.ownerDocument,u)!==!1||o==="click"&&i.nodeName(f,"a")||!i.acceptData(f)||a&&f[o]&&(o!=="focus"&&o!=="blur"||r.target.offsetWidth!==0)&&!i.isWindow(f)&&(h=f[a],h&&(f[a]=null),i.event.triggered=o,f[o](),i.event.triggered=t,h&&(f[a]=h)),r.result}}}},dispatch:function(r){r=i.event.fix(r||n.event);var h=(i._data(this,"events")||{})[r.type]||[],c=h.delegateCount,k=[].slice.call(arguments,0),d=!r.exclusive&&!r.namespace,l=i.event.special[r.type]||{},a=[],f,v,e,y,p,w,o,b,u,s;if(k[0]=r,r.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,r)!==!1){if(c&&!(r.button&&r.type==="click"))for(y=i(this),y.context=this.ownerDocument||this,e=r.target;e!=this;e=e.parentNode||this)if(e.disabled!==!0){for(w={},b=[],y[0]=e,f=0;f<c;f++)u=h[f],s=u.selector,w[s]===t&&(w[s]=u.quick?cu(e,u.quick):y.is(s)),w[s]&&b.push(u);b.length&&a.push({elem:e,matches:b})}for(h.length>c&&a.push({elem:this,matches:h.slice(c)}),f=0;f<a.length&&!r.isPropagationStopped();f++)for(o=a[f],r.currentTarget=o.elem,v=0;v<o.matches.length&&!r.isImmediatePropagationStopped();v++)u=o.matches[v],(d||!r.namespace&&!u.namespace||r.namespace_re&&r.namespace_re.test(u.namespace))&&(r.data=u.data,r.handleObj=u,p=((i.event.special[u.origType]||{}).handle||u.handler).apply(o.elem,k),p!==t&&(r.result=p,p===!1&&(r.preventDefault(),r.stopPropagation())));return l.postDispatch&&l.postDispatch.call(this,r),r.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var o,u,f,e=i.button,s=i.fromElement;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||r,u=o.documentElement,f=o.body,n.pageX=i.clientX+(u&&u.scrollLeft||f&&f.scrollLeft||0)-(u&&u.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(u&&u.scrollTop||f&&f.scrollTop||0)-(u&&u.clientTop||f&&f.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=e&1?1:e&2?3:e&4?2:0),n}},fix:function(n){if(n[i.expando])return n;var e,o,u=n,f=i.event.fixHooks[n.type]||{},s=f.props?this.props.concat(f.props):this.props;for(n=i.Event(u),e=s.length;e;)o=s[--e],n[o]=u[o];return n.target||(n.target=u.srcElement||r),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey===t&&(n.metaKey=n.ctrlKey),f.filter?f.filter(n,u):n},special:{ready:{setup:i.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(n,t,r){i.isWindow(this)&&(this.onbeforeunload=r)},teardown:function(n,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.event.handle=i.event.dispatch;i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){n.detachEvent&&n.detachEvent("on"+t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?k:c):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=k;var n=this.originalEvent;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=k;var n=this.originalEvent;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=k;this.stopPropagation()},isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var f=this,r=n.relatedTarget,u=n.handleObj,o=u.selector,e;return r&&(r===f||i.contains(f,r))||(n.type=u.origType,e=u.handler.apply(this,arguments),n.type=t),e}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!r._submit_attached&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}});i.support.changeBubbles||(i.event.special.change={setup:function(){if(ft.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1,i.event.simulate("change",this,n,!0))})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ft.test(t.nodeName)&&!t._change_attached&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),t._change_attached=!0)})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),ft.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){u++==0&&r.addEventListener(n,f,!0)},teardown:function(){--u==0&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var o,s;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=c;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=c),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},live:function(n,t,r){i(this.context).on(n,this.selector,t,r);return this},die:function(n,t){return i(this.context).off(n,this.selector||"**",t),this},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length==1?this.off(n,"**"):this.off(t,n,i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){if(this[0])return i.event.trigger(n,t,this[0],!0)},toggle:function(n){var t=arguments,u=n.guid||i.guid++,r=0,f=function(u){var f=(i._data(this,"lastToggle"+n.guid)||0)%r;return i._data(this,"lastToggle"+n.guid,f+1),u.preventDefault(),t[f].apply(this,arguments)||!1};for(f.guid=u;r<t.length;)t[r++].guid=u;return this.click(f)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return i==null&&(i=n,n=null),arguments.length>0?this.on(t,null,n,i):this.trigger(t)};i.attrFn&&(i.attrFn[t]=!0);eu.test(t)&&(i.event.fixHooks[t]=i.event.keyHooks);ou.test(t)&&(i.event.fixHooks[t]=i.event.mouseHooks)}),function(){function g(n,t,i,r,u,f){for(var o,h,s=0,c=r.length;s<c;s++)if(o=r[s],o){for(h=!1,o=o[n];o;){if(o[e]===i){h=r[o.sizset];break}if(o.nodeType!==1||f||(o[e]=i,o.sizset=s),o.nodeName.toLowerCase()===t){h=o;break}o=o[n]}r[s]=h}}function nt(t,i,r,u,f,o){for(var s,c,h=0,l=u.length;h<l;h++)if(s=u[h],s){for(c=!1,s=s[t];s;){if(s[e]===r){c=u[s.sizset];break}if(s.nodeType===1)if(o||(s[e]=r,s.sizset=h),typeof i!="string"){if(s===i){c=!0;break}}else if(n.filter(i,[s]).length>0){c=s;break}s=s[t]}u[h]=c}}var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e="sizcache"+(Math.random()+"").replace(".",""),y=0,b=Object.prototype.toString,c=!1,k=!0,o=/\\/g,tt=/\r\n/g,l=/\W/,n,s,f,a,h,w;[0,0].sort(function(){return k=!1,0});n=function(t,i,e,o){var tt;if(e=e||[],i=i||r,tt=i,i.nodeType!==1&&i.nodeType!==9)return[];if(!t||typeof t!="string")return e;var y,a,h,nt,l,p,k,c,it=!0,g=n.isXML(i),s=[],rt=t;do if(v.exec(""),y=v.exec(rt),y&&(rt=y[3],s.push(y[1]),y[2])){nt=y[3];break}while(y);if(s.length>1&&d.exec(t))if(s.length===2&&u.relative[s[0]])a=w(s[0]+s[1],i,o);else for(a=u.relative[s[0]]?[i]:n(s.shift(),i);s.length;)t=s.shift(),u.relative[t]&&(t+=s.shift()),a=w(t,a,o);else if(!o&&s.length>1&&i.nodeType===9&&!g&&u.match.ID.test(s[0])&&!u.match.ID.test(s[s.length-1])&&(l=n.find(s.shift(),i,g),i=l.expr?n.filter(l.expr,l.set)[0]:l.set[0]),i)for(l=o?{expr:s.pop(),set:f(o)}:n.find(s.pop(),s.length===1&&(s[0]==="~"||s[0]==="+")&&i.parentNode?i.parentNode:i,g),a=l.expr?n.filter(l.expr,l.set):l.set,s.length>0?h=f(a):it=!1;s.length;)p=s.pop(),k=p,u.relative[p]?k=s.pop():p="",k==null&&(k=i),u.relative[p](h,k,g);else h=s=[];if(h||(h=a),h||n.error(p||t),b.call(h)==="[object Array]")if(it)if(i&&i.nodeType===1)for(c=0;h[c]!=null;c++)h[c]&&(h[c]===!0||h[c].nodeType===1&&n.contains(i,h[c]))&&e.push(a[c]);else for(c=0;h[c]!=null;c++)h[c]&&h[c].nodeType===1&&e.push(a[c]);else e.push.apply(e,h);else f(h,e);return nt&&(n(nt,tt,e,o),n.uniqueSort(e)),e};n.uniqueSort=function(n){if(a&&(c=k,n.sort(a),c))for(var t=1;t<n.length;t++)n[t]===n[t-1]&&n.splice(t--,1);return n};n.matches=function(t,i){return n(t,null,null,i)};n.matchesSelector=function(t,i){return n(i,null,null,[t]).length>0};n.find=function(n,t,i){var f,e,c,r,s,h;if(!n)return[];for(e=0,c=u.order.length;e<c;e++)if(s=u.order[e],(r=u.leftMatch[s].exec(n))&&(h=r[1],r.splice(1,1),h.substr(h.length-1)!=="\\"&&(r[1]=(r[1]||"").replace(o,""),f=u.find[s](r,t,i),f!=null))){n=n.replace(u.match[s],"");break}return f||(f=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:f,expr:n}};n.filter=function(i,r,f,e){for(var o,h,c,l,y,b,p,a,w,k=i,v=[],s=r,d=r&&r[0]&&n.isXML(r[0]);i&&r.length;){for(c in u.filter)if((o=u.leftMatch[c].exec(i))!=null&&o[2]){if(b=u.filter[c],p=o[1],h=!1,o.splice(1,1),p.substr(p.length-1)==="\\")continue;if(s===v&&(v=[]),u.preFilter[c])if(o=u.preFilter[c](o,s,f,v,e,d),o){if(o===!0)continue}else h=l=!0;if(o)for(a=0;(y=s[a])!=null;a++)y&&(l=b(y,o,a,s),w=e^l,f&&l!=null?w?h=!0:s[a]=!1:w&&(v.push(y),h=!0));if(l!==t){if(f||(s=v),i=i.replace(u.match[c],""),!h)return[];break}}if(i===k)if(h==null)n.error(i);else break;k=i}return s};n.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};var p=n.getText=function(n){var i,r,t=n.nodeType,u="";if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;if(typeof n.innerText=="string")return n.innerText.replace(tt,"");for(n=n.firstChild;n;n=n.nextSibling)u+=p(n)}else if(t===3||t===4)return n.nodeValue}else for(i=0;r=n[i];i++)r.nodeType!==8&&(u+=p(r));return u},u=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(n){return n.getAttribute("href")},type:function(n){return n.getAttribute("type")}},relative:{"+":function(t,i){var f=typeof i=="string",e=f&&!l.test(i),o=f&&!e,u,s,r;for(e&&(i=i.toLowerCase()),u=0,s=t.length;u<s;u++)if(r=t[u]){while((r=r.previousSibling)&&r.nodeType!==1);t[u]=o||r&&r.nodeName.toLowerCase()===i?r||!1:r===i}o&&n.filter(i,t,!0)},">":function(t,i){var u,f=typeof i=="string",r=0,o=t.length,e;if(f&&!l.test(i))for(i=i.toLowerCase();r<o;r++)u=t[r],u&&(e=u.parentNode,t[r]=e.nodeName.toLowerCase()===i?e:!1);else{for(;r<o;r++)u=t[r],u&&(t[r]=f?u.parentNode:u.parentNode===i);f&&n.filter(i,t,!0)}},"":function(n,t,i){var r,f=y++,u=nt;typeof t!="string"||l.test(t)||(t=t.toLowerCase(),r=t,u=g);u("parentNode",t,f,n,r,i)},"~":function(n,t,i){var r,f=y++,u=nt;typeof t!="string"||l.test(t)||(t=t.toLowerCase(),r=t,u=g);u("previousSibling",t,f,n,r,i)}},find:{ID:function(n,t,i){if(typeof t.getElementById!="undefined"&&!i){var r=t.getElementById(n[1]);return r&&r.parentNode?[r]:[]}},NAME:function(n,t){var r,u,i,f;if(typeof t.getElementsByName!="undefined"){for(r=[],u=t.getElementsByName(n[1]),i=0,f=u.length;i<f;i++)u[i].getAttribute("name")===n[1]&&r.push(u[i]);return r.length===0?null:r}},TAG:function(n,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(n[1])}},preFilter:{CLASS:function(n,t,i,r,u,f){if(n=" "+n[1].replace(o,"")+" ",f)return n;for(var s=0,e;(e=t[s])!=null;s++)e&&(u^(e.className&&(" "+e.className+" ").replace(/[\t\n\r]/g," ").indexOf(n)>=0)?i||r.push(e):i&&(t[s]=!1));return!1},ID:function(n){return n[1].replace(o,"")},TAG:function(n){return n[1].replace(o,"").toLowerCase()},CHILD:function(t){if(t[1]==="nth"){t[2]||n.error(t[0]);t[2]=t[2].replace(/^\+|\s*/g,"");var i=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(t[2]==="even"&&"2n"||t[2]==="odd"&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=i[1]+(i[2]||1)-0;t[3]=i[3]-0}else t[2]&&n.error(t[0]);return t[0]=y++,t},ATTR:function(n,t,i,r,f,e){var s=n[1]=n[1].replace(o,"");return!e&&u.attrMap[s]&&(n[1]=u.attrMap[s]),n[4]=(n[4]||n[5]||"").replace(o,""),n[2]==="~="&&(n[4]=" "+n[4]+" "),n},PSEUDO:function(t,i,r,f,e){if(t[1]==="not")if((v.exec(t[3])||"").length>1||/^\w/.test(t[3]))t[3]=n(t[3],null,null,i);else{var o=n.filter(t[3],i,r,!0^e);return r||f.push.apply(f,o),!1}else if(u.match.POS.test(t[0])||u.match.CHILD.test(t[0]))return!0;return t},POS:function(n){return n.unshift(!0),n}},filters:{enabled:function(n){return n.disabled===!1&&n.type!=="hidden"},disabled:function(n){return n.disabled===!0},checked:function(n){return n.checked===!0},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},parent:function(n){return!!n.firstChild},empty:function(n){return!n.firstChild},has:function(t,i,r){return!!n(r[3],t).length},header:function(n){return/h\d/i.test(n.nodeName)},text:function(n){var t=n.getAttribute("type"),i=n.type;return n.nodeName.toLowerCase()==="input"&&"text"===i&&(t===i||t===null)},radio:function(n){return n.nodeName.toLowerCase()==="input"&&"radio"===n.type},checkbox:function(n){return n.nodeName.toLowerCase()==="input"&&"checkbox"===n.type},file:function(n){return n.nodeName.toLowerCase()==="input"&&"file"===n.type},password:function(n){return n.nodeName.toLowerCase()==="input"&&"password"===n.type},submit:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===n.type},image:function(n){return n.nodeName.toLowerCase()==="input"&&"image"===n.type},reset:function(n){var t=n.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===n.type},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&"button"===n.type||t==="button"},input:function(n){return/input|select|textarea|button/i.test(n.nodeName)},focus:function(n){return n===n.ownerDocument.activeElement}},setFilters:{first:function(n,t){return t===0},last:function(n,t,i,r){return t===r.length-1},even:function(n,t){return t%2==0},odd:function(n,t){return t%2==1},lt:function(n,t,i){return t<i[3]-0},gt:function(n,t,i){return t>i[3]-0},nth:function(n,t,i){return i[3]-0===t},eq:function(n,t,i){return i[3]-0===t}},filter:{PSEUDO:function(t,i,r,f){var e=i[1],h=u.filters[e],s,o,c;if(h)return h(t,r,i,f);if(e==="contains")return(t.textContent||t.innerText||p([t])||"").indexOf(i[3])>=0;if(e==="not"){for(s=i[3],o=0,c=s.length;o<c;o++)if(s[o]===t)return!1;return!0}n.error(e)},CHILD:function(n,t){var r,o,s,u,h,f,c=t[1],i=n;switch(c){case"only":case"first":while(i=i.previousSibling)if(i.nodeType===1)return!1;if(c==="first")return!0;i=n;case"last":while(i=i.nextSibling)if(i.nodeType===1)return!1;return!0;case"nth":if(r=t[2],o=t[3],r===1&&o===0)return!0;if(s=t[0],u=n.parentNode,u&&(u[e]!==s||!n.nodeIndex)){for(h=0,i=u.firstChild;i;i=i.nextSibling)i.nodeType===1&&(i.nodeIndex=++h);u[e]=s}return f=n.nodeIndex-o,r===0?f===0:f%r==0&&f/r>=0}},ID:function(n,t){return n.nodeType===1&&n.getAttribute("id")===t},TAG:function(n,t){return t==="*"&&n.nodeType===1||!!n.nodeName&&n.nodeName.toLowerCase()===t},CLASS:function(n,t){return(" "+(n.className||n.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(t,i){var o=i[1],s=n.attr?n.attr(t,o):u.attrHandle[o]?u.attrHandle[o](t):t[o]!=null?t[o]:t.getAttribute(o),f=s+"",e=i[2],r=i[4];return s==null?e==="!=":!e&&n.attr?s!=null:e==="="?f===r:e==="*="?f.indexOf(r)>=0:e==="~="?(" "+f+" ").indexOf(r)>=0:r?e==="!="?f!==r:e==="^="?f.indexOf(r)===0:e==="$="?f.substr(f.length-r.length)===r:e==="|="?f===r||f.substr(0,r.length+1)===r+"-":!1:f&&s!==!1},POS:function(n,t,i,r){var e=t[2],f=u.setFilters[e];if(f)return f(n,i,t,r)}}},d=u.match.POS,it=function(n,t){return"\\"+(+t+1)};for(s in u.match)u.match[s]=new RegExp(u.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),u.leftMatch[s]=new RegExp(/(^(?:.|\r|\n)*?)/.source+u.match[s].source.replace(/\\(\d+)/g,it));u.match.globalPOS=d;f=function(n,t){return(n=Array.prototype.slice.call(n,0),t)?(t.push.apply(t,n),t):n};try{Array.prototype.slice.call(r.documentElement.childNodes,0)[0].nodeType}catch(rt){f=function(n,t){var i=0,r=t||[],u;if(b.call(n)==="[object Array]")Array.prototype.push.apply(r,n);else if(typeof n.length=="number")for(u=n.length;i<u;i++)r.push(n[i]);else for(;n[i];i++)r.push(n[i]);return r}}r.documentElement.compareDocumentPosition?a=function(n,t){return n===t?(c=!0,0):!n.compareDocumentPosition||!t.compareDocumentPosition?n.compareDocumentPosition?-1:1:n.compareDocumentPosition(t)&4?-1:1}:(a=function(n,t){var i;if(n===t)return c=!0,0;if(n.sourceIndex&&t.sourceIndex)return n.sourceIndex-t.sourceIndex;var e,l,u=[],f=[],o=n.parentNode,s=t.parentNode,r=o;if(o===s)return h(n,t);if(o){if(!s)return 1}else return-1;while(r)u.unshift(r),r=r.parentNode;for(r=s;r;)f.unshift(r),r=r.parentNode;for(e=u.length,l=f.length,i=0;i<e&&i<l;i++)if(u[i]!==f[i])return h(u[i],f[i]);return i===e?h(n,f[i],-1):h(u[i],t,1)},h=function(n,t,i){if(n===t)return i;for(var r=n.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var n=r.createElement("div"),f="script"+(new Date).getTime(),i=r.documentElement;n.innerHTML="<a name='"+f+"'/>";i.insertBefore(n,i.firstChild);r.getElementById(f)&&(u.find.ID=function(n,i,r){if(typeof i.getElementById!="undefined"&&!r){var u=i.getElementById(n[1]);return u?u.id===n[1]||typeof u.getAttributeNode!="undefined"&&u.getAttributeNode("id").nodeValue===n[1]?[u]:t:[]}},u.filter.ID=function(n,t){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return n.nodeType===1&&i&&i.nodeValue===t});i.removeChild(n);i=n=null}(),function(){var n=r.createElement("div");n.appendChild(r.createComment(""));n.getElementsByTagName("*").length>0&&(u.find.TAG=function(n,t){var i=t.getElementsByTagName(n[1]),u,r;if(n[1]==="*"){for(u=[],r=0;i[r];r++)i[r].nodeType===1&&u.push(i[r]);i=u}return i});n.innerHTML="<a href='#'><\/a>";n.firstChild&&typeof n.firstChild.getAttribute!="undefined"&&n.firstChild.getAttribute("href")!=="#"&&(u.attrHandle.href=function(n){return n.getAttribute("href",2)});n=null}();r.querySelectorAll&&function(){var i=n,t=r.createElement("div"),o="__sizzle__",e;if(t.innerHTML="<p class='TEST'><\/p>",!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){n=function(t,e,s,h){var c,l;if(e=e||r,!h&&!n.isXML(e)){if(c=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t),c&&(e.nodeType===1||e.nodeType===9)){if(c[1])return f(e.getElementsByTagName(t),s);if(c[2]&&u.find.CLASS&&e.getElementsByClassName)return f(e.getElementsByClassName(c[2]),s)}if(e.nodeType===9){if(t==="body"&&e.body)return f([e.body],s);if(c&&c[3])if(l=e.getElementById(c[3]),l&&l.parentNode){if(l.id===c[3])return f([l],s)}else return f([],s);try{return f(e.querySelectorAll(t),s)}catch(b){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var w=e,v=e.getAttribute("id"),a=v||o,y=e.parentNode,p=/^\s*[+~]/.test(t);v?a=a.replace(/'/g,"\\$&"):e.setAttribute("id",a);p&&y&&(e=e.parentNode);try{if(!p||y)return f(e.querySelectorAll("[id='"+a+"'] "+t),s)}catch(k){}finally{v||w.removeAttribute("id")}}}return i(t,e,s,h)};for(e in i)n[e]=i[e];t=null}}(),function(){var t=r.documentElement,i=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector,e,f;if(i){e=!i.call(r.createElement("div"),"div");f=!1;try{i.call(r.documentElement,"[test!='']:sizzle")}catch(o){f=!0}n.matchesSelector=function(t,r){if(r=r.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!n.isXML(t))try{if(f||!u.match.PSEUDO.test(r)&&!/!=/.test(r)){var o=i.call(t,r);if(o||!e||t.document&&t.document.nodeType!==11)return o}}catch(s){}return n(r,null,null,[t]).length>0}}}(),function(){var n=r.createElement("div");(n.innerHTML="<div class='test e'><\/div><div class='test'><\/div>",n.getElementsByClassName&&n.getElementsByClassName("e").length!==0)&&(n.lastChild.className="e",n.getElementsByClassName("e").length!==1)&&(u.order.splice(1,0,"CLASS"),u.find.CLASS=function(n,t,i){if(typeof t.getElementsByClassName!="undefined"&&!i)return t.getElementsByClassName(n[1])},n=null)}();n.contains=r.documentElement.contains?function(n,t){return n!==t&&(n.contains?n.contains(t):!0)}:r.documentElement.compareDocumentPosition?function(n,t){return!!(n.compareDocumentPosition(t)&16)}:function(){return!1};n.isXML=function(n){var t=(n?n.ownerDocument||n:0).documentElement;return t?t.nodeName!=="HTML":!1};w=function(t,i,r){for(var e,o=[],s="",h=i.nodeType?[i]:i,f,c;e=u.match.PSEUDO.exec(t);)s+=e[0],t=t.replace(u.match.PSEUDO,"");for(t=u.relative[t]?t+"*":t,f=0,c=h.length;f<c;f++)n(t,h[f],o,r);return n.filter(s,o)};n.attr=i.attr;n.selectors.attrMap={};i.find=n;i.expr=n.selectors;i.expr[":"]=i.expr.filters;i.unique=n.uniqueSort;i.text=n.getText;i.isXMLDoc=n.isXML;i.contains=n.contains}();var lu=/Until$/,au=/^(?:parents|prevUntil|prevAll)/,vu=/,/,yu=/^.[^:#\[\.,]*$/,pu=Array.prototype.slice,ei=i.expr.match.globalPOS,wu={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var s=this,t,f,r,o,u,e;if(typeof n!="string")return i(n).filter(function(){for(t=0,f=s.length;t<f;t++)if(i.contains(s[t],this))return!0});for(r=this.pushStack("","find",n),t=0,f=this.length;t<f;t++)if(o=r.length,i.find(n,this[t],r),t>0)for(u=o;u<r.length;u++)for(e=0;e<o;e++)if(r[e]===r[u]){r.splice(u--,1);break}return r},has:function(n){var t=i(n);return this.filter(function(){for(var n=0,r=t.length;n<r;n++)if(i.contains(this,t[n]))return!0})},not:function(n){return this.pushStack(si(this,n,!1),"not",n)},filter:function(n){return this.pushStack(si(this,n,!0),"filter",n)},is:function(n){return!!n&&(typeof n=="string"?ei.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){var f=[],u,s,r=this[0],e,o;if(i.isArray(n)){for(e=1;r&&r.ownerDocument&&r!==t;){for(u=0;u<n.length;u++)i(r).is(n[u])&&f.push({selector:n[u],elem:r,level:e});r=r.parentNode;e++}return f}for(o=ei.test(n)||typeof n!="string"?i(n,t||this.context):0,u=0,s=this.length;u<s;u++)for(r=this[u];r;)if(o?o.index(r)>-1:i.find.matchesSelector(r,n)){f.push(r);break}else if(r=r.parentNode,!r||!r.ownerDocument||r===t||r.nodeType===11)break;return f=f.length>1?i.unique(f):f,this.pushStack(f,"closest",n)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(n,t){var u=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),r=i.merge(this.get(),u);return this.pushStack(oi(u[0])||oi(r[0])?r:i.unique(r))},andSelf:function(){return this.add(this.prevObject)}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return i.nth(n,2,"nextSibling")},prev:function(n){return i.nth(n,2,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.makeArray(n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return lu.test(n)||(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),f=this.length>1&&!wu[n]?i.unique(f):f,(this.length>1||vu.test(u))&&au.test(n)&&(f=f.reverse()),this.pushStack(f,n,pu.call(arguments).join(","))}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),t.length===1?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&f.nodeType!==9&&(u===t||f.nodeType!==1||!i(f).is(u));)f.nodeType===1&&e.push(f),f=f[r];return e},nth:function(n,t,i){t=t||1;for(var r=0;n;n=n[i])if(n.nodeType===1&&++r===t)break;return n},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var ci="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bu=/ jQuery\d+="(?:\d+|null)"/g,et=/^\s+/,li=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ai=/<([\w:]+)/,ku=/<tbody/i,du=/<|&#?\w+;/,gu=/<(?:script|style)/i,nf=/<(?:script|object|embed|option|style)/i,vi=new RegExp("<(?:"+ci+")[\\s/>]","i"),yi=/checked\s*(?:[^=]|=\s*.checked.)/i,pi=/\/(java|ecma)script/i,tf=/^\s*<!(?:\[CDATA\[|\-\-)/,u={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],_default:[0,"",""]},ot=hi(r);u.optgroup=u.option;u.tbody=u.tfoot=u.colgroup=u.caption=u.thead;u.th=u.td;i.support.htmlSerialize||(u._default=[1,"div<div>","<\/div>"]);i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){this.nodeType===1&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){this.nodeType===1&&this.insertBefore(n,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this)});if(arguments.length){var n=i.clean(arguments);return n.push.apply(n,this.toArray()),this.pushStack(n,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(n){this.parentNode.insertBefore(n,this.nextSibling)});if(arguments.length){var n=this.pushStack(this,"after",arguments);return n.push.apply(n,i.clean(arguments)),n}},remove:function(n,t){for(var u=0,r;(r=this[u])!=null;u++)(!n||i.filter(n,[r]).length)&&(t||r.nodeType!==1||(i.cleanData(r.getElementsByTagName("*")),i.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r));return this},empty:function(){for(var t=0,n;(n=this[t])!=null;t++)for(n.nodeType===1&&i.cleanData(n.getElementsByTagName("*"));n.firstChild;)n.removeChild(n.firstChild);return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,e=this.length;if(n===t)return r.nodeType===1?r.innerHTML.replace(bu,""):null;if(typeof n=="string"&&!gu.test(n)&&(i.support.leadingWhitespace||!et.test(n))&&!u[(ai.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(li,"<$1><\/$2>");try{for(;f<e;f++)r=this[f]||{},r.nodeType===1&&(i.cleanData(r.getElementsByTagName("*")),r.innerHTML=n);r=0}catch(o){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){return this[0]&&this[0].parentNode?i.isFunction(n)?this.each(function(t){var r=i(this),u=r.html();r.replaceWith(n.call(this,t,u))}):(typeof n!="string"&&(n=i(n).detach()),this.each(function(){var t=this.nextSibling,r=this.parentNode;i(this).remove();t?i(t).before(n):i(r).append(n)})):this.length?this.pushStack(i(i.isFunction(n)?n():n),"replaceWith",n):this},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,u){var c,h,f,o,e=n[0],l=[];if(!i.support.checkClone&&arguments.length===3&&typeof e=="string"&&yi.test(e))return this.each(function(){i(this).domManip(n,r,u,!0)});if(i.isFunction(e))return this.each(function(f){var o=i(this);n[0]=e.call(this,f,r?o.html():t);o.domManip(n,r,u)});if(this[0]){if(o=e&&e.parentNode,c=i.support.parentNode&&o&&o.nodeType===11&&o.childNodes.length===this.length?{fragment:o}:i.buildFragment(n,this,l),f=c.fragment,h=f.childNodes.length===1?f=f.firstChild:f.firstChild,h){r=r&&i.nodeName(h,"tr");for(var s=0,a=this.length,v=a-1;s<a;s++)u.call(r?rf(this[s],h):this[s],c.cacheable||a>1&&s<v?i.clone(f,!0,!0):f)}l.length&&i.each(l,function(n,t){t.src?i.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):i.globalEval((t.text||t.textContent||t.innerHTML||"").replace(tf,"/*$0*/"));t.parentNode&&t.parentNode.removeChild(t)})}return this}});i.buildFragment=function(n,t,u){var e,h,s,o,f=n[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=r),n.length===1&&typeof f=="string"&&f.length<512&&o===r&&f.charAt(0)==="<"&&!nf.test(f)&&(i.support.checkClone||!yi.test(f))&&(i.support.html5Clone||!vi.test(f))&&(h=!0,s=i.fragments[f],s&&s!==1&&(e=s)),e||(e=o.createDocumentFragment(),i.clean(n,o,e,u)),h&&(i.fragments[f]=s?e:1),{fragment:e,cacheable:h}};i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(r){var e=[],u=i(r),o=this.length===1&&this[0].parentNode,f,h,s;if(o&&o.nodeType===11&&o.childNodes.length===1&&u.length===1)return u[t](this[0]),this;for(f=0,h=u.length;f<h;f++)s=(f>0?this.clone(!0):this).get(),i(u[f])[t](s),e=e.concat(s);return this.pushStack(e,n,u.selector)}});i.extend({clone:function(n,t,r){var f,e,u,o=i.support.html5Clone||i.isXMLDoc(n)||!vi.test("<"+n.nodeName+">")?n.cloneNode(!0):uf(n);if((!i.support.noCloneEvent||!i.support.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(bi(n,o),f=d(n),e=d(o),u=0;f[u];++u)e[u]&&bi(f[u],e[u]);if(t&&(wi(n,o),r))for(f=d(n),e=d(o),u=0;f[u];++u)wi(f[u],e[u]);return f=e=null,o},clean:function(n,t,f,e){var k,h,c,l=[],a,o,b,v,g,nt;for(t=t||r,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||r),a=0;(o=n[a])!=null;a++)if(typeof o=="number"&&(o+=""),o){if(typeof o=="string")if(du.test(o)){o=o.replace(li,"<$1><\/$2>");var d=(ai.exec(o)||["",""])[1].toLowerCase(),p=u[d]||u._default,tt=p[0],s=t.createElement("div"),w=ot.childNodes,y;for(t===r?ot.appendChild(s):hi(t).appendChild(s),s.innerHTML=p[1]+o+p[2];tt--;)s=s.lastChild;if(!i.support.tbody)for(b=ku.test(o),v=d==="table"&&!b?s.firstChild&&s.firstChild.childNodes:p[1]==="<table>"&&!b?s.childNodes:[],c=v.length-1;c>=0;--c)i.nodeName(v[c],"tbody")&&!v[c].childNodes.length&&v[c].parentNode.removeChild(v[c]);!i.support.leadingWhitespace&&et.test(o)&&s.insertBefore(t.createTextNode(et.exec(o)[0]),s.firstChild);o=s.childNodes;s&&(s.parentNode.removeChild(s),w.length>0&&(y=w[w.length-1],y&&y.parentNode&&y.parentNode.removeChild(y)))}else o=t.createTextNode(o);if(!i.support.appendChecked)if(o[0]&&typeof(g=o.length)=="number")for(c=0;c<g;c++)di(o[c]);else di(o);o.nodeType?l.push(o):l=i.merge(l,o)}if(f)for(k=function(n){return!n.type||pi.test(n.type)},a=0;l[a];a++)h=l[a],e&&i.nodeName(h,"script")&&(!h.type||pi.test(h.type))?e.push(h.parentNode?h.parentNode.removeChild(h):h):(h.nodeType===1&&(nt=i.grep(h.getElementsByTagName("script"),k),l.splice.apply(l,[a+1,0].concat(nt))),f.appendChild(h));return l},cleanData:function(n){for(var f,r,u,e=i.cache,s=i.event.special,h=i.support.deleteExpando,o=0,t;(t=n[o])!=null;o++)if((!t.nodeName||!i.noData[t.nodeName.toLowerCase()])&&(u=t[i.expando],u)){if(r=e[u],r&&r.events){for(f in r.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,r.handle);r.handle&&(r.handle.elem=null)}h?delete t[i.expando]:t.removeAttribute&&t.removeAttribute(i.expando);delete e[u]}}});var st=/alpha\([^)]*\)/i,ff=/opacity=([^)]*)/,ef=/([A-Z]|^ms)/g,of=/^[\-+]?(?:\d*\.)?\d+$/i,ht=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,sf=/^([\-+])=([\-+.\de]+)/,hf=/^margin/,cf={position:"absolute",visibility:"hidden",display:"block"},o=["Top","Right","Bottom","Left"],l,gi,nr;i.fn.css=function(n,r){return i.access(this,function(n,r,u){return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=l(n,"opacity");return i===""?"1":i}return n.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,s,h=i.camelCase(r),c=n.style,e=i.cssHooks[h];if(r=i.cssProps[h]||h,u!==t){if(s=typeof u,s==="string"&&(o=sf.exec(u))&&(u=+(o[1]+1)*+o[2]+parseFloat(i.css(n,r)),s="number"),u==null||s==="number"&&isNaN(u))return;if(s!=="number"||i.cssNumber[h]||(u+="px"),!e||!("set"in e)||(u=e.set(n,u))!==t)try{c[r]=u}catch(l){}}else return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r]}},css:function(n,r,u){var e,f;return(r=i.camelCase(r),f=i.cssHooks[r],r=i.cssProps[r]||r,r==="cssFloat"&&(r="float"),f&&"get"in f&&(e=f.get(n,!0,u))!==t)?e:l?l(n,r):void 0},swap:function(n,t,i){var u={},f;for(var r in t)u[r]=n.style[r],n.style[r]=t[r];f=i.call(n);for(r in t)n.style[r]=u[r];return f}});i.curCSS=i.css;r.defaultView&&r.defaultView.getComputedStyle&&(gi=function(n,t){var r,e,u,o,f=n.style;return t=t.replace(ef,"-$1").toLowerCase(),(e=n.ownerDocument.defaultView)&&(u=e.getComputedStyle(n,null))&&(r=u.getPropertyValue(t),r!==""||i.contains(n.ownerDocument.documentElement,n)||(r=i.style(n,t))),!i.support.pixelMargin&&u&&hf.test(t)&&ht.test(r)&&(o=f.width,f.width=r,r=u.width,f.width=o),r});r.documentElement.currentStyle&&(nr=function(n,t){var f,u,e,i=n.currentStyle&&n.currentStyle[t],r=n.style;return i==null&&r&&(e=r[t])&&(i=e),ht.test(i)&&(f=r.left,u=n.runtimeStyle&&n.runtimeStyle.left,u&&(n.runtimeStyle.left=n.currentStyle.left),r.left=t==="fontSize"?"1em":i,i=r.pixelLeft+"px",r.left=f,u&&(n.runtimeStyle.left=u)),i===""?"auto":i});l=gi||nr;i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return n.offsetWidth!==0?tr(n,t,u):i.swap(n,cf,function(){return tr(n,t,u)})},set:function(n,t){return of.test(t)?t+"px":t}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return ff.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,t>=1&&i.trim(f.replace(st,""))===""&&(r.removeAttribute("filter"),u&&!u.filter))||(r.filter=st.test(f)?f.replace(st,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){return i.swap(n,{display:"inline-block"},function(){return t?l(n,"margin-right"):n.style.marginRight})}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){var t=n.offsetWidth,r=n.offsetHeight;return t===0&&r===0||!i.support.reliableHiddenOffsets&&(n.style&&n.style.display||i.css(n,"display"))==="none"},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var u=typeof i=="string"?i.split(" "):[i],f={},r=0;r<4;r++)f[n+o[r]+t]=u[r]||u[r-2]||u[0];return f}}});var lf=/%20/g,af=/\[\]$/,ir=/\r?\n/g,vf=/#.*$/,yf=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,pf=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,wf=/^(?:GET|HEAD)$/,bf=/^\/\//,rr=/\?/,kf=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,df=/^(?:select|textarea)/i,ur=/\s+/,gf=/([?&])_=[^&]*/,fr=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,er=i.fn.load,ct={},or={},s,h,sr=["*/"]+["*"];try{s=gr.href}catch(ee){s=r.createElement("a");s.href="";s=s.href}h=fr.exec(s.toLowerCase())||[];i.fn.extend({load:function(n,r,u){var f,e,o,s;return typeof n!="string"&&er?er.apply(this,arguments):this.length?(f=n.indexOf(" "),f>=0&&(e=n.slice(f,n.length),n=n.slice(0,f)),o="GET",r&&(i.isFunction(r)?(u=r,r=t):typeof r=="object"&&(r=i.param(r,i.ajaxSettings.traditional),o="POST")),s=this,i.ajax({url:n,type:o,dataType:"html",data:r,complete:function(n,t,r){r=n.responseText;n.isResolved()&&(n.done(function(n){r=n}),s.html(e?i("<div>").append(r.replace(kf,"")).find(e):r));u&&s.each(u,[r,t,n])}}),this):this},serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||df.test(this.nodeName)||pf.test(this.type))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(ir,"\r\n")}}):{name:t.name,value:r.replace(ir,"\r\n")}}).get()}});i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({type:r,url:n,data:u,success:f,dataType:e})}});i.extend({getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")},ajaxSetup:function(n,t){return t?cr(n,i.ajaxSettings):(t=n,n=i.ajaxSettings),cr(n,t),n},ajaxSettings:{url:s,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(h[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":sr},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:hr(ct),ajaxTransport:hr(or),ajax:function(n,r){function w(n,r,h,l){if(e!==2){e=2;nt&&clearTimeout(nt);c=t;d=l||"";f.readyState=n>0?4:0;var p,g,w,a=r,ut=h?ne(u,f,h):t,tt,it;if(n>=200&&n<300||n===304)if(u.ifModified&&((tt=f.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=tt),(it=f.getResponseHeader("Etag"))&&(i.etag[o]=it)),n===304)a="notmodified",p=!0;else try{g=te(u,ut);a="success";p=!0}catch(ft){a="parsererror";w=ft}else w=a,(!a||n)&&(a="error",n<0&&(n=0));f.status=n;f.statusText=""+(r||a);p?k.resolveWith(s,[g,a,f]):k.rejectWith(s,[f,a,w]);f.statusCode(y);y=t;v&&b.trigger("ajax"+(p?"Success":"Error"),[f,u,p?g:w]);rt.fireWith(s,[f,a]);v&&(b.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop"))}}var tt,it;typeof n=="object"&&(r=n,n=t);r=r||{};var u=i.ajaxSetup({},r),s=u.context||u,b=s!==u&&(s.nodeType||s instanceof i)?i(s):i.event,k=i.Deferred(),rt=i.Callbacks("once memory"),y=u.statusCode||{},o,ut={},ft={},d,p,c,nt,l,e=0,v,a,f={readyState:0,setRequestHeader:function(n,t){if(!e){var i=n.toLowerCase();n=ft[i]=ft[i]||n;ut[n]=t}return this},getAllResponseHeaders:function(){return e===2?d:null},getResponseHeader:function(n){var i;if(e===2){if(!p)for(p={};i=yf.exec(d);)p[i[1].toLowerCase()]=i[2];i=p[n.toLowerCase()]}return i===t?null:i},overrideMimeType:function(n){return e||(u.mimeType=n),this},abort:function(n){return n=n||"abort",c&&c.abort(n),w(0,n),this}};if(k.promise(f),f.success=f.done,f.error=f.fail,f.complete=rt.add,f.statusCode=function(n){if(n){var t;if(e<2)for(t in n)y[t]=[y[t],n[t]];else t=n[f.status],f.then(t,t)}return this},u.url=((n||u.url)+"").replace(vf,"").replace(bf,h[1]+"//"),u.dataTypes=i.trim(u.dataType||"*").toLowerCase().split(ur),u.crossDomain==null&&(l=fr.exec(u.url.toLowerCase()),u.crossDomain=!!(l&&(l[1]!=h[1]||l[2]!=h[2]||(l[3]||(l[1]==="http:"?80:443))!=(h[3]||(h[1]==="http:"?80:443))))),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),g(ct,u,r,f),e===2)return!1;v=u.global;u.type=u.type.toUpperCase();u.hasContent=!wf.test(u.type);v&&i.active++==0&&i.event.trigger("ajaxStart");u.hasContent||(u.data&&(u.url+=(rr.test(u.url)?"&":"?")+u.data,delete u.data),o=u.url,u.cache===!1&&(tt=i.now(),it=u.url.replace(gf,"$1_="+tt),u.url=it+(it===u.url?(rr.test(u.url)?"&":"?")+"_="+tt:"")));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);u.ifModified&&(o=o||u.url,i.lastModified[o]&&f.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&f.setRequestHeader("If-None-Match",i.etag[o]));f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+sr+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(s,f,u)===!1||e===2))return f.abort(),!1;for(a in{success:1,error:1,complete:1})f[a](u[a]);if(c=g(or,u,r,f),c){f.readyState=1;v&&b.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(nt=setTimeout(function(){f.abort("timeout")},u.timeout));try{e=1;c.send(ut,w)}catch(et){if(e<2)w(-1,et);else throw et;}}else w(-1,"No Transport");return f},param:function(n,r){var u=[],e=function(n,t){t=i.isFunction(t)?t():t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)},f;if(r===t&&(r=i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(f in n)lt(f,n[f],r,e);return u.join("&").replace(lf,"+")}});i.extend({active:0,lastModified:{},etag:{}});lr=i.now();p=/(\=)\?(&|$)|\?\?/i;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return i.expando+"_"+lr++}});i.ajaxPrefilter("json jsonp",function(t,r,u){var h=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(p.test(t.url)||h&&p.test(t.data))){var o,f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,c=n[f],e=t.url,s=t.data,l="$1"+f+"$2";return t.jsonp!==!1&&(e=e.replace(p,l),t.url===e&&(h&&(s=s.replace(p,l)),t.data===s&&(e+=(/\?/.test(e)?"&":"?")+t.jsonp+"="+f))),t.url=e,t.data=s,n[f]=function(n){o=[n]},u.always(function(){n[f]=c;o&&i.isFunction(c)&&n[f](o[0])}),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json","script"}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var i,u=r.head||r.getElementsByTagName("head")[0]||r.documentElement;return{send:function(f,e){i=r.createElement("script");i.async="async";n.scriptCharset&&(i.charset=n.scriptCharset);i.src=n.url;i.onload=i.onreadystatechange=function(n,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,u&&i.parentNode&&u.removeChild(i),i=t,r||e(200,"success"))};u.insertBefore(i,u.firstChild)},abort:function(){if(i)i.onload(0,1)}}}});nt=n.ActiveXObject?function(){for(var n in a)a[n](0,1)}:!1;ar=0;i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&vr()||ie()}:vr,function(n){i.extend(i.support,{ajax:!!n,cors:!!n&&"withCredentials"in n})}(i.ajaxSettings.xhr());i.support.ajax&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var o=r.xhr(),h,s;if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,v,y,c,l;try{if(u&&(f||o.readyState===4))if(u=t,h&&(o.onreadystatechange=i.noop,nt&&delete a[h]),f)o.readyState!==4&&o.abort();else{s=o.status;y=o.getAllResponseHeaders();c={};l=o.responseXML;l&&l.documentElement&&(c.xml=l);try{c.text=o.responseText}catch(n){}try{v=o.statusText}catch(w){v=""}s||!r.isLocal||r.crossDomain?s===1223&&(s=204):s=c.text?200:404}}catch(p){f||e(-1,p)}c&&e(s,v,c,y)};r.async&&o.readyState!==4?(h=++ar,nt&&(a||(a={},i(n).unload(nt)),a[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(0,1)}}}});var at={},f,v,re=/^(?:toggle|show|hide)$/,ue=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,tt,it=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],rt;i.fn.extend({show:function(n,t,r){var u,e,f,o;if(n||n===0)return this.animate(y("show",3),n,t,r);for(f=0,o=this.length;f<o;f++)u=this[f],u.style&&(e=u.style.display,i._data(u,"olddisplay")||e!=="none"||(e=u.style.display=""),(e!==""||i.css(u,"display")!=="none")&&i.contains(u.ownerDocument.documentElement,u)||i._data(u,"olddisplay",pr(u.nodeName)));for(f=0;f<o;f++)u=this[f],u.style&&(e=u.style.display,(e===""||e==="none")&&(u.style.display=i._data(u,"olddisplay")||""));return this},hide:function(n,t,r){if(n||n===0)return this.animate(y("hide",3),n,t,r);for(var f,e,u=0,o=this.length;u<o;u++)f=this[u],f.style&&(e=i.css(f,"display"),e==="none"||i._data(f,"olddisplay")||i._data(f,"olddisplay",e));for(u=0;u<o;u++)this[u].style&&(this[u].style.display="none");return this},_toggle:i.fn.toggle,toggle:function(n,t,r){var u=typeof n=="boolean";return i.isFunction(n)&&i.isFunction(t)?this._toggle.apply(this,arguments):n==null||u?this.each(function(){var t=u?n:i(this).is(":hidden");i(this)[t?"show":"hide"]()}):this.animate(y("toggle",3),n,t,r),this},fadeTo:function(n,t,i,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){function e(){f.queue===!1&&i._mark(this);var e=i.extend({},f),w=this.nodeType===1,v=w&&i(this).is(":hidden"),r,u,t,o,y,p,h,s,c,l,a;e.animatedProperties={};for(t in n)if(r=i.camelCase(t),t!==r&&(n[r]=n[t],delete n[t]),(y=i.cssHooks[r])&&"expand"in y){p=y.expand(n[r]);delete n[r];for(t in p)t in n||(n[t]=p[t])}for(r in n){if(u=n[r],i.isArray(u)?(e.animatedProperties[r]=u[1],u=n[r]=u[0]):e.animatedProperties[r]=e.specialEasing&&e.specialEasing[r]||e.easing||"swing",u==="hide"&&v||u==="show"&&!v)return e.complete.call(this);w&&(r==="height"||r==="width")&&(e.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],i.css(this,"display")==="inline"&&i.css(this,"float")==="none"&&(i.support.inlineBlockNeedsLayout&&pr(this.nodeName)!=="inline"?this.style.zoom=1:this.style.display="inline-block"))}e.overflow!=null&&(this.style.overflow="hidden");for(t in n)o=new i.fx(this,e,t),u=n[t],re.test(u)?(a=i._data(this,"toggle"+t)||(u==="toggle"?v?"show":"hide":0),a?(i._data(this,"toggle"+t,a==="show"?"hide":"show"),o[a]()):o[u]()):(h=ue.exec(u),s=o.cur(),h?(c=parseFloat(h[2]),l=h[3]||(i.cssNumber[t]?"":"px"),l!=="px"&&(i.style(this,t,(c||1)+l),s=(c||1)/o.cur()*s,i.style(this,t,s+l)),h[1]&&(c=(h[1]==="-="?-1:1)*c+s),o.custom(s,c,l)):o.custom(s,u,""));return!0}var f=i.speed(t,r,u);return i.isEmptyObject(n)?this.each(f.complete,[!1]):(n=i.extend({},n),f.queue===!1?this.each(e):this.queue(f.queue,e))},stop:function(n,r,u){return typeof n!="string"&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){function o(n,t,r){var f=t[r];i.removeData(n,r,!0);f.stop(u)}var t,e=!1,f=i.timers,r=i._data(this);if(u||i._unmark(!0,this),n==null)for(t in r)r[t]&&r[t].stop&&t.indexOf(".run")===t.length-4&&o(this,r,t);else r[t=n+".run"]&&r[t].stop&&o(this,r,t);for(t=f.length;t--;)f[t].elem===this&&(n==null||f[t].queue===n)&&(u?f[t](!0):f[t].saveState(),e=!0,f.splice(t,1));u&&e||i.dequeue(this,n)})}});i.each({slideDown:y("show",1),slideUp:y("hide",1),slideToggle:y("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.extend({speed:function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(n){i.isFunction(u.old)&&u.old.call(this);u.queue?i.dequeue(this,u.queue):n!==!1&&i._unmark(this)},u},easing:{linear:function(n){return n},swing:function(n){return-Math.cos(n*Math.PI)/2+.5}},timers:[],fx:function(n,t,i){this.options=t;this.elem=n;this.prop=i;t.orig=t.orig||{}}});i.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(i.fx.step[this.prop]||i.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var t,n=i.css(this.elem,this.prop);return isNaN(t=parseFloat(n))?!n||n==="auto"?0:n:t},custom:function(n,r,u){function e(n){return f.step(n)}var f=this,o=i.fx;this.startTime=rt||yr();this.end=r;this.now=this.start=n;this.pos=this.state=0;this.unit=u||this.unit||(i.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){i._data(f.elem,"fxshow"+f.prop)===t&&(f.options.hide?i._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&i._data(f.elem,"fxshow"+f.prop,f.end))};e()&&i.timers.push(e)&&!tt&&(tt=setInterval(o.tick,o.interval))},show:function(){var n=i._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=n||i.style(this.elem,this.prop);this.options.show=!0;n!==t?this.custom(this.cur(),n):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());i(this.elem).show()},hide:function(){this.options.orig[this.prop]=i._data(this.elem,"fxshow"+this.prop)||i.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(n){var r,f,e,o=rt||yr(),s=!0,u=this.elem,t=this.options;if(n||o>=t.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();t.animatedProperties[this.prop]=!0;for(r in t.animatedProperties)t.animatedProperties[r]!==!0&&(s=!1);if(s){if(t.overflow==null||i.support.shrinkWrapBlocks||i.each(["","X","Y"],function(n,i){u.style["overflow"+i]=t.overflow[n]}),t.hide&&i(u).hide(),t.hide||t.show)for(r in t.animatedProperties)i.style(u,r,t.orig[r]),i.removeData(u,"fxshow"+r,!0),i.removeData(u,"toggle"+r,!0);e=t.complete;e&&(t.complete=!1,e.call(u))}return!1}return t.duration==Infinity?this.now=o:(f=o-this.startTime,this.state=f/t.duration,this.pos=i.easing[t.animatedProperties[this.prop]](this.state,f,0,1,t.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}};i.extend(i.fx,{tick:function(){for(var r,n=i.timers,t=0;t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop()},interval:13,stop:function(){clearInterval(tt);tt=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(n){i.style(n.elem,"opacity",n.now)},_default:function(n){n.elem.style&&n.elem.style[n.prop]!=null?n.elem.style[n.prop]=n.now+n.unit:n.elem[n.prop]=n.now}}});i.each(it.concat.apply([],it),function(n,t){t.indexOf("margin")&&(i.fx.step[t]=function(n){i.style(n.elem,t,Math.max(0,n.now)+n.unit)})});i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});br=/^t(?:able|d|h)$/i;vt=/^(?:body|html)$/i;wr="getBoundingClientRect"in r.documentElement?function(n,t,r,u){try{u=n.getBoundingClientRect()}catch(v){}if(!u||!i.contains(r,n))return u?{top:u.top,left:u.left}:{top:0,left:0};var f=t.body,e=kr(t),o=r.clientTop||f.clientTop||0,s=r.clientLeft||f.clientLeft||0,h=e.pageYOffset||i.support.boxModel&&r.scrollTop||f.scrollTop,c=e.pageXOffset||i.support.boxModel&&r.scrollLeft||f.scrollLeft,l=u.top+h-o,a=u.left+c-s;return{top:l,left:a}}:function(n,t,r){for(var u,c=n.offsetParent,l=n,o=t.body,h=t.defaultView,s=h?h.getComputedStyle(n,null):n.currentStyle,f=n.offsetTop,e=n.offsetLeft;(n=n.parentNode)&&n!==o&&n!==r;){if(i.support.fixedPosition&&s.position==="fixed")break;u=h?h.getComputedStyle(n,null):n.currentStyle;f-=n.scrollTop;e-=n.scrollLeft;n===c&&(f+=n.offsetTop,e+=n.offsetLeft,!i.support.doesNotAddBorder||i.support.doesAddBorderForTableAndCells&&br.test(n.nodeName)||(f+=parseFloat(u.borderTopWidth)||0,e+=parseFloat(u.borderLeftWidth)||0),l=c,c=n.offsetParent);i.support.subtractsBorderForOverflowNotVisible&&u.overflow!=="visible"&&(f+=parseFloat(u.borderTopWidth)||0,e+=parseFloat(u.borderLeftWidth)||0);s=u}return(s.position==="relative"||s.position==="static")&&(f+=o.offsetTop,e+=o.offsetLeft),i.support.fixedPosition&&s.position==="fixed"&&(f+=Math.max(r.scrollTop,o.scrollTop),e+=Math.max(r.scrollLeft,o.scrollLeft)),{top:f,left:e}};i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r=this[0],u=r&&r.ownerDocument;return u?r===u.body?i.offset.bodyOffset(r):wr(r,u,u.documentElement):null};i.offset={bodyOffset:function(n){var t=n.offsetTop,r=n.offsetLeft;return i.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(i.css(n,"marginTop"))||0,r+=parseFloat(i.css(n,"marginLeft"))||0),{top:t,left:r}},setOffset:function(n,t,r){var f=i.css(n,"position");f==="static"&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=(f==="absolute"||f==="fixed")&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));t.top!=null&&(u.top=t.top-o.top+h);t.left!=null&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(!this[0])return null;var u=this[0],n=this.offsetParent(),t=this.offset(),r=vt.test(n[0].nodeName)?{top:0,left:0}:n.offset();return t.top-=parseFloat(i.css(u,"marginTop"))||0,t.left-=parseFloat(i.css(u,"marginLeft"))||0,r.top+=parseFloat(i.css(n[0],"borderTopWidth"))||0,r.left+=parseFloat(i.css(n[0],"borderLeftWidth"))||0,{top:t.top-r.top,left:t.left-r.left}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.body;n&&!vt.test(n.nodeName)&&i.css(n,"position")==="static";)n=n.offsetParent;return n})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=kr(n);if(e===t)return o?r in o?o[r]:i.support.boxModel&&o.document.documentElement[f]||o.document.body[f]:n[f];o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){var u="client"+n,f="scroll"+n,e="offset"+n;i.fn["inner"+n]=function(){var n=this[0];return n?n.style?parseFloat(i.css(n,r,"padding")):this[r]():null};i.fn["outer"+n]=function(n){var t=this[0];return t?t.style?parseFloat(i.css(t,r,n?"margin":"border")):this[r]():null};i.fn[r]=function(n){return i.access(this,function(n,r,o){var s,h,c,l;if(i.isWindow(n))return s=n.document,h=s.documentElement[u],i.support.boxModel&&h||s.body&&s.body[u]||h;if(n.nodeType===9)return(s=n.documentElement,s[u]>=s[f])?s[u]:Math.max(n.body[f],s[f],n.body[e],s[e]);if(o===t)return c=i.css(n,r),l=parseFloat(c),i.isNumeric(l)?l:c;i(n).css(r,o)},r,n,arguments.length,null)}});n.jQuery=n.$=i;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})})(window),function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var i=n.data(this[0],"validator");return i?i:(i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.find("input, button").filter(".cancel").click(function(){i.cancelSubmit=!0}),i.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){i.submitButton=this}),this.submit(function(t){function r(){if(i.settings.submitHandler){if(i.submitButton)var t=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(i.submitButton.value).appendTo(i.currentForm);return i.settings.submitHandler.call(i,i.currentForm),i.submitButton&&t.remove(),!1}return!0}return(i.settings.debug&&t.preventDefault(),i.cancelSubmit)?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t&=i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.metadataRules(r),n.validator.classRules(r),n.validator.attributeRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+t.value)},filled:function(t){return!!n.trim(""+t.value)},unchecked:function(n){return!n.checked}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return arguments.length==1?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!=Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!=Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),i)}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:[],ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n){(n.name in this.submitted||n==this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function r(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0])}var i,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();i=this.groups={};n.each(this.settings.groups,function(t,r){n.each(r.split(/\s/),function(n,r){i[r]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",r).validateDelegate(":radio, :checkbox, select, option","click",r);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.clean(t);this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t);return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0;for(var i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(n){return n.element.name==t.name}).length==1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return(!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules()))?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){return n(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},check:function(t){var i,r,u,f,e;t=this.clean(t);this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]);i=n(t).rules();r=!1;for(u in i){f={method:u,parameters:i[u]};try{if(e=n.validator.methods[u].call(this,t.value.replace(/\r/g,""),t,f.parameters),e=="dependency-mismatch"){r=!0;continue}if(r=!1,e=="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!e)return this.formatAndAdd(t,f),!1}catch(o){this.settings.debug&&window.console&&console.log("exception occured when checking element "+t.id+", check the '"+f.method+"' method",o);throw o;}}if(!r)return this.objectLength(i)&&this.successList.push(t),!0},customMetaMessage:function(t,i){if(n.metadata){var r=this.settings.meta?n(t).metadata()[this.settings.meta]:n(t).metadata();return r&&r.messages&&r.messages[i]}},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor==String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(arguments[n]!==undefined)return arguments[n];return undefined},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customMetaMessage(t,i),!this.settings.ignoreTitle&&t.title||undefined,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(n,t){var i=this.defaultMessage(n,t.method),r=/\$?\{(\d+)\}/g;typeof i=="function"?i=i.call(this,t.parameters,n):r.test(i)&&(i=jQuery.format(i.replace(r,"{$1}"),t.parameters));this.errorList.push({message:i,element:n});this.errorMap[n.name]=i;this.submitted[n.name]=i},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var t,i,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass().addClass(this.settings.errorClass),r.attr("generated")&&r.html(i)):(r=n("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(t),generated:!0}).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),typeof this.settings.success=="string"?r.addClass(this.settings.success):this.settings.success(r));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")==i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){var i=this.currentForm;return n(document.getElementsByName(t)).map(function(n,r){return r.form==i&&r.name==t&&r||null})},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){return!n.validator.methods.required.call(this,n.trim(t.value),t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&this.pendingRequest==0&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&this.pendingRequest==0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},dateDE:{dateDE:!0},number:{number:!0},numberDE:{numberDE:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor==String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var i={},f=n(t),r,u;for(r in n.validator.methods)u=f.attr(r),u&&(i[r]=u);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},metadataRules:function(t){if(!n.metadata)return{};var i=n.data(t.form,"validator").settings.meta;return i?n(t).metadata()[i]:n(t).metadata()},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1){delete t[r];return}if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=u.param!==undefined?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength","min","max"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){t[this]&&(t[this]=[Number(t[this][0]),Number(t[this][1])])}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t.messages&&delete t.messages,t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=r!=undefined?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";switch(i.nodeName.toLowerCase()){case"select":var u=n(i).val();return u&&u.length>0;case"input":if(this.checkable(i))return this.getLength(t,i)>0;default:return n.trim(t).length>0}},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r=typeof r=="string"&&{url:r}||r,this.pending[i.name])?"pending":f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0;e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")},minlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)>=r},maxlength:function(t,i,r){return this.optional(i)||this.getLength(n.trim(t),i)<=r},rangelength:function(t,i,r){var u=this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||n<=i},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e,i;if(this.optional(t))return"dependency-mismatch";if(/[^0-9-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return f%10==0},accept:function(n,t,i){return i=typeof i=="string"?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||n.match(new RegExp(".("+i+")$","i"))},equalTo:function(t,i,r){var u=n(r).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()});return t==u.val()}}});n.format=n.validator.format}(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;n.mode=="abort"&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return f=="abort"?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments)):i.apply(this,arguments)})}(jQuery),function(n){jQuery.event.special.focusin||jQuery.event.special.focusout||!document.addEventListener||n.each({focus:"focusin",blur:"focusout"},function(t,i){function r(t){return t=n.event.fix(t),t.type=i,n.event.handle.call(this,t)}n.event.special[i]={setup:function(){this.addEventListener(t,r,!0)},teardown:function(){this.removeEventListener(t,r,!0)},handler:function(t){return arguments[0]=n.event.fix(t),arguments[0].type=i,n.event.handle.apply(this,arguments)}}});n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function s(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.substr(0,n.lastIndexOf(".")+1)}function e(n,t){return n.indexOf("*.")===0&&(n=n.replace("*.",t)),n}function h(t,i){var r=n(this).find("[data-valmsg-for='"+i[0].name+"']"),u=n.parseJSON(r.attr("data-valmsg-replace"))!==!1;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);u?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function c(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function l(t){var i=t.data("unobtrusiveContainer"),r=n.parseJSON(i.attr("data-valmsg-replace"));i&&(i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),r&&i.empty())}function o(t){var i=n(t),r=i.data(u);return r||(r={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:n.proxy(h,t),invalidHandler:n.proxy(c,t),messages:{},rules:{},success:n.proxy(l,t)},attachValidation:function(){i.validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,r)),r}var r=n.validator,t,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var u=n(t),f=u.parents("form")[0],r,e,s;f&&(r=o(f),r.options.rules[t.name]=e={},r.options.messages[t.name]=s={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=u.attr(i),o={};r!==undefined&&(i+="-",n.each(this.params,function(){o[this]=u.attr(i+this)}),this.adapt({element:t,form:f,message:r,params:o,rules:e,messages:s}))}),jQuery.extend(e,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){n(t).find(":input[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});n("form").each(function(){var n=o(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&r.index===0&&r[0].length===n.length)});t.addSingleVal("accept","exts").addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.add("equalto",["other"],function(t){var r=f(t.element.name),u=t.params.other,o=e(u,r),s=n(t.form).find(":input[name="+o+"]")[0];i(t,"equalTo",s)});t.add("required",function(n){(n.element.tagName.toUpperCase()!=="INPUT"||n.element.type.toUpperCase()!=="CHECKBOX")&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=f(t.element.name);n.each(s(t.params.additionalfields||t.element.name),function(i,f){var o=e(f,u);r.data[o]=function(){return n(t.form).find(":input[name='"+o+"']").val()}});i(t,"remote",r)});n(function(){r.unobtrusive.parse(document)})}(jQuery);jQuery.validator.unobtrusive.adapters.add("notequalto",["other"],function(n){n.rules.notEqualTo="#"+n.params.other;n.message&&(n.messages.notEqualTo=n.message)});jQuery.validator.addMethod("notEqualTo",function(n,t,i){return this.optional(t)||n!=$(i).val()},"");jQuery.validator.addMethod("istrue",function(n,t){return t.checked});jQuery.validator.unobtrusive.adapters.addBool("istrue"),function(n){n.validator.unobtrusive.parseDynamicContent=function(t){n(t).find("*[data-val=true]").each(function(){n.validator.unobtrusive.parseElement(this,!1)});var r=n(t).first().closest("form"),i=r.data("unobtrusiveValidation"),u=r.validate();n.each(i.options.rules,function(t,r){if(u.settings.rules[t]==undefined){var f={};n.extend(f,r);f.messages=i.options.messages[t];n('[name="'+t+'"]').rules("add",f)}else n.each(r,function(r,f){if(u.settings.rules[t][r]==undefined){var e={};e[r]=f;e.messages=i.options.messages[t][r];n('[name="'+t+'"]').rules("add",e)}})})}}($),function(n){n.cookie=function(t,i,r){var h,f,e,o,u,s;if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||i===null||i===undefined))return r=n.extend({},r),(i===null||i===undefined)&&(r.expires=-1),typeof r.expires=="number"&&(h=r.expires,f=r.expires=new Date,f.setDate(f.getDate()+h)),i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("");for(r=i||{},e=r.raw?function(n){return n}:decodeURIComponent,o=document.cookie.split("; "),u=0;s=o[u]&&o[u].split("=");u++)if(e(s[0])===t)return e(s[1]||"");return null}}(jQuery),function(n){String.prototype.formatWith=function(){for(var t=this,n=0;n<arguments.length;n++)t=t.split("{"+n+"}").join(arguments[n]);return t};Date.prototype.ToStandartString=function(n){var t=this,r=t.getDate()>9?t.getDate():"0"+t.getDate(),u=t.getMonth()>8?t.getMonth()+1:"0"+(t.getMonth()+1),i=r+"."+u+"."+t.getFullYear();return n&&(i+=" "+this.getHours()+":"+this.getMinutes()+":"+this.getSeconds()),i};String.prototype.empty=function(){return this==null||this==undefined||this.trim()==""};String.prototype.trim=function(){return n.trim(this)};String.prototype.startWith=function(n){return this.indexOf(n)>=0};String.prototype.endWith=function(n){var t=this.split("").reverse().join("");return n=n.split("").reverse().join(""),t.indexOf(n)==0};String.prototype.toSimpleDateString=function(n,t){if(!/^\d{2}\.\d{2}\.\d{4}\s\d{1,2}:\d{2}:\d{2}/.test(this))return this;var i=this.split(" ")[0].split("."),r=i[0]+" "+["","янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"][parseInt(i[1])];return n||(r+=" "+i[2]),t&&(r+=" "+this.split(" ")[1]),r};String.prototype.transliterize=function(n){var t={"А":"A","а":"a","Б":"B","б":"b","В":"V","в":"v","Г":"G","г":"g","Д":"D","д":"d","Е":"E","е":"e","Ё":"Yo","ё":"yo","Ж":"Zh","ж":"zh","З":"Z","з":"z","И":"I","и":"i","Й":"Y","й":"y","К":"K","к":"k","Л":"L","л":"l","М":"M","м":"m","Н":"N","н":"n","О":"O","о":"o","П":"P","п":"p","Р":"R","р":"r","С":"S","с":"s","Т":"T","т":"t","У":"U","у":"u","Ф":"F","ф":"f","Х":"H","х":"h","Ц":"Ts","ц":"ts","Ч":"Ch","ч":"ch","Ш":"Sh","ш":"sh","Щ":"Sch","щ":"sch","Ъ":"","ъ":"","Ы":"Y","ы":"y","Э":"E","э":"e","Ю":"Yu","ю":"yu","Я":"Ya","я":"ya"},i="",r;n?(t[" "]="_",t["ь"]="",t["Ь"]=""):(t["ь"]="'",t["Ь"]="'");for(r in t)i+=r;return i=new RegExp("["+i+"]","g"),r=function(n){return n in t?t[n]:""},n?this.replace(i,r).toLowerCase():this.replace(i,r)};n.fn.classes=function(){return n(this).attr("class").split(/\s+/)};n.fn.generateName=function(t){return n(this).each(function(i){n(this).attr("name",t.formatWith(i))}),this};n.fn.fillWithAjaxContent=function(t){var i=t.filter("script"),r=t.filter("link"),u=t.not(i).not(r);n("head").append(r);n(this).html(u);n(document).trigger("ajax-content-loaded",n(this));this.append(i)};n.fn.id=function(t){return n(this).prop("id",t).prop("id")};n.fn.href=function(t){return n(this).prop("href",t).prop("href")};n.fn.hasAttribute=function(t){var i=n(this).attr(t);return typeof i!=typeof undefined&&i!==!1};n.fn.disable=function(){return n(this).hasAttribute("disabled")||n(this).hasClass("ui-state-disabled")?n(this):(n(this).attr("aria-disabled","true"),n(this).toggleClass("ui-state-disabled ui-state-default"),n(this).attr("disabled","disabled"))};n.fn.enable=function(){return!n(this).hasAttribute("disabled")&&!n(this).hasClass("ui-state-disabled")?n(this):(n(this).attr("aria-disabled","false"),n(this).toggleClass("ui-state-disabled ui-state-default"),n(this).removeAttr("disabled"))};n.fn.isVisibleOnViewport=function(){var n=this[0].getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)};n.fn.scrollToAndFocus=function(t){if(n(this).length!=0){var i=this;typeof t=="undefined"&&(t=0);n("html, body").animate({scrollTop:n(this).offset().top+t},200,"swing",function(){i.focus()})}};n.utils={proxy:function(n,t){return function(){var r=[],i;for(r.push(this),i=0;i<arguments.length;i++)r.push(arguments[i]);return n.apply(t,r)}},registerNamespace:function(t){for(var i=n,u=t.split("."),r=0;r<u.length;r++)i[u[r]]==null&&(i[u[r]]={}),i=i[u[r]];return i},showError:function(t){var i=n('<div class="error-message">');i.append(t);n(".simple-popup:visible").length==0?i.popup({buttons:{Ok:function(){n(this).dialog("close")}},dialogClass:"error"}):n(".simple-popup:visible").showStatusQtip(t,{my:"top center",at:"bottom center"},"qtip-red qtip-error")},showSuccess:function(t){var i=n("<div>");i.append(t);i.popup({buttons:{Ok:function(){n(this).dialog("close")}}})},getAnchorValueByName:function(n){var t=window.location.hash,i=t.indexOf(n+"-"),r;return i!=-1?(r=t.indexOf(",",i),r==-1)?t.substring(i+n.length+1):t.substring(i+n.length+1,r):""},setAnchorValue:function(t,i){var r=window.location.hash,u=r.indexOf(t+"-");r=u!=-1?r.replace(t+"-"+n.utils.getAnchorValueByName(t),t+"-"+i):r+","+t+"-"+i;window.location.hash=r},removeAnchorValue:function(t){var i=window.location.hash,r=i.indexOf(t+"-");r!=-1&&(i=i.replace(","+t+"-"+n.utils.getAnchorValueByName(t),""));window.location.hash=i},viewScript:function(t,i){var u=t.split("."),f=u.pop(),r;t=u.join(".");r=n.utils.registerNamespace(t);i.o=null;r[f]=function(t){this.o=t;this.init();var i=this;n(document).on("view-unloaded",function(r){r.id==t.viewId&&(i.unload!=undefined&&i.unload(),t.viewId!=null&&(n("*","body").off("."+t.viewId),n(document).off("."+t.viewId),n(window).off("."+t.viewId)))})};r[f].prototype=i},processHash:function(t,i){var u=n(i),r=window.location.hash.trim("#").split(",");n.each(r,function(i){r[i].startWith(t)&&n("#"+r[i],u).click()})},loadValueFromLocalStorage:function(n){return localStorage.getItem(n)},saveToLocalStorage:function(t,i){if(n.utils.localStorageIsNotAvailable())return null;try{localStorage.setItem(t,i)}catch(r){if(r==QUOTA_EXCEEDED_ERR)return console.log("Локальное хранилище переполнено"),null}return{status:"saved"}},localStorageIsNotAvailable:function(){return typeof Storage=="undefined"?!0:!1},updateEntityWithCheckBoxValue:function(t,i){var r={};r[n(i).attr("id")]=n(i).is(":checked");n.customAjax({url:t,data:r,type:"post",success:function(){}})},changeDateFormat:function(n,t,i){var r,f,e,u;if(n==undefined||n=="")return"";if(r=".",t.indexOf("/",0)>0&&(r="/"),f=".",i.indexOf("/",0)>0&&(f="/"),n.indexOf(r,0)<0)return n;var s=t.split(r),h=i.split(f),c=n.split(r),o="";for(e=0;e<h.length;e++)for(u=0;u<s.length;u++)if(h[e]==s[u]){o+=c[u]+f;break}return o.substr(0,o.length-1)},removeSection:function(t){t.slideUp().queue(function(){n(this).remove()})},guid:{block:function(){return((1+Math.random())*65536|0).toString(16).substring(1)},generate:function(){return(this.block()+this.block()+"-"+this.block()+"-4"+this.block().substr(0,3)+"-"+this.block()+"-"+this.block()+this.block()+this.block()).toLowerCase()}},getUrlParam:function(n,t){var e=decodeURI(window.location.search.substring(1)),i,u,r,f;if(e==!1|e=="")return null;i=e.split("&");u={};for(r in i)f=i[r].indexOf("="),f==-1?u[i[r]]="":u[t?i[r].substring(0,f):i[r].substring(0,f).toLowerCase()]=i[r].substr(f+1);return t?u[n]:u[n.toLowerCase()]},localStorage:{set:function(t,i){if(!this.available())return!1;var r=localStorage[t];i=JSON.stringify(i);try{localStorage.setItem(t,i);n(document).trigger("storage-"+t,{key:t,oldValue:r,newValue:i})}catch(u){return u==QUOTA_EXCEEDED_ERR&&console.log("Локальное хранилище переполнено"),!1}return!0},get:function(n){if(!this.available())return null;var t=localStorage.getItem(n);return t?JSON.parse(t):null},remove:function(t){if(!this.available())return!1;var i=localStorage[t];return localStorage.removeItem(t),n(document).trigger("storage-"+t,{key:t,oldValue:i,newValue:null}),!0},available:function(){try{return"localStorage"in window&&window.localStorage!==null}catch(n){return!1}}}};n.marketingUtils={raiseGTMVirtualPageview:function(n,t){typeof googleTmDataLayer=="undefined"&&(googleTmDataLayer=[{}]);googleTmDataLayer.push({event:"VirtualPageview",virtualPageURL:n,virtualPageTitle:t})}};n.partnerUtils={displayPopup:function(t,i,r){i.click(function(n){r.slideToggle();n.stopPropagation()});n("html").click(function(){r.is(":visible")&&r.hide()});t.click(function(n){r.slideToggle();n.stopPropagation()})},allowOnlyNumbersInput:function(n){n.keydown(function(n){n.keyCode==46||n.keyCode==8||n.keyCode==9||n.keyCode==27||n.keyCode==13||n.keyCode==65&&n.ctrlKey===!0||n.keyCode==86&&n.ctrlKey===!0||n.keyCode>=35&&n.keyCode<=39||(n.shiftKey||(n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))&&n.preventDefault()})}};n.fn.serializeObject=function(){var t={},i=this.serializeArray();return n.each(i,function(){t[this.name]!==undefined?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),i.length<this.length&&n.each(this,function(){var i=n(this);t[i.attr("name")]==undefined&&i.hasClass("check-box")&&(t[i.attr("name")]="false")}),t};n.fn.toggleWaitingButton=function(t,i){var r=n(this);if(typeof n().button!="undefined")return r.button("option","disabled")?(r.button("enable"),r.button("option","label",i),r.button("option","icons",{primary:t})):(i==null&&(i="Сохранение..."),r.button("disable"),r.button("option","label",i),r.button("option","icons",{primary:"ui-icon-waiting"})),r;r.is("button")&&(r.attr("disabled")?(r.removeAttr("disabled"),r.html(i)):(i==null&&(i="Сохранение..."),r.attr("disabled","true"),r.html(i)))};n.fn.showStatusQtip=function(t,i,r){return i==undefined&&(i={my:"left center",at:"right center"}),r==undefined&&(r="qtip-intra"),n(this).qtip({content:t,show:"",position:i,hide:{event:"unfocus click",inactive:3e3},style:{classes:r,widget:!0,def:!1,tip:{corner:!1}}}).qtip("show")};n.widgets={reloadFormAndCounter:function(t,i,r,u,f){var o,e;typeof u=="undefined"&&(u=".v-expanded .summary");o=typeof f=="undefined"?n(".v-expanded .preloader"):n(f);n(u,self.$root).replaceWith(r[0].Content);n(this).replaceWith(i[0].Content);e=n(n(this).selector);e.hide();n(document).trigger("ajax-content-loaded",n(this).selector);o.fadeOut(100,function(){e.show("drop",{direction:"right"},200)})},reloadFormAndCounterRefactored:function(t,i,r){var f=n(".b-customer-contact-task-editor",this.$root),e=n(".v-expanded .preloader"),u=n(i[0].Content),o=n(r[0].Content);n(".summary",this.$root).replaceWith(o);f.fillWithAjaxContent(u);n(document).trigger("ajax-content-loaded",u);t(u);u.hide();e.fadeOut(100,function(){u.show("drop",{direction:"right"},200)})}};n.startGA=function(){if(!window.ga){var n=document.createEvent("Event");n.initEvent("start-GA",!0,!0);document.dispatchEvent(n)}};n.chooseVariation=function(t,i,r){n.isAdBlockEasyPrivacyEnabled(t,i,r)};n.isAdBlockEasyPrivacyEnabled=function(t,i,r){var u=n(n("#yandex-metrics").text()).children("img").attr("src");n("<img/>").attr("src",u).load(function(){n.isFirefoxTrackingProtectionEnabled(t,i,r)}).on("error",function(){n.chooseDefaultVariation(i)}).css("display","none").appendTo(document.body)};n.isFirefoxTrackingProtectionEnabled=function(t,i,r){n("<img/>").attr("src","//apps.facebook.com/favicon.ico").load(function(){n.sendGARequest(t,i,r)}).on("error",function(){n.chooseDefaultVariation(i)}).css("display","none").appendTo(document.body)};n.chooseDefaultVariation=function(n){n[0]()};n.sendGARequest=function(t,i,r){n.getScript("//www.google-analytics.com/cx/api.js?experiment="+t,n.proxy(function(){var t=cxApi.chooseVariation();t===null||t<0||t>i.length-1?chooseDefaultVariation(i):(i[t](),(typeof r=="undefined"||r)&&n.startGA())},this))};n.fn.exists=function(){return this.length!==0};n.fn.isLast=function(){return this.is(":last-child")};n.fn.isFirst=function(){return this.is(":first-child")}}(jQuery),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(typeof jQuery!="undefined"?jQuery:window.Zepto)}(function(n){"use strict";function u(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function f(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},r;i.fileapi=n("<input type='file'/>").get(0).files!==undefined;i.formdata=window.FormData!==undefined;r=!!n.fn.prop;n.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||typeof n=="string"?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(u){function ot(t){for(var r=n.param(t,u.traditional).split("&"),o=r.length,e=[],f,i=0;i<o;i++)r[i]=r[i].replace(/\+/g," "),f=r[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function st(t){for(var f,r,s,o=new FormData,i=0;i<t.length;i++)o.append(t[i].name,t[i].value);if(u.extraData)for(f=ot(u.extraData),i=0;i<f.length;i++)f[i]&&o.append(f[i][0],f[i][1]);return u.data=null,r=n.extend(!0,{},n.ajaxSettings,u,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),u.uploadProgress&&(r.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,r=n.total;n.lengthComputable&&(t=Math.ceil(i/r*100));u.uploadProgress(n,i,r,t)},!1),t}),r.data=null,s=r.beforeSend,r.beforeSend=function(n,t){t.data=u.formData?u.formData:o;s&&s.call(this,n,t)},n.ajax(r)}function ft(i){function ot(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function st(){function h(){try{var n=ot(a).readyState;t("state = "+n);n&&n.toLowerCase()=="uninitialized"&&setTimeout(h,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(tt);g&&clearTimeout(g);g=undefined}}var u=f.attr2("target"),s=f.attr2("action"),y=f.attr("enctype")||f.attr("encoding")||"multipart/form-data",r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");s!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){rt=!0;b(ut)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]));o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(h,15);try{l.submit()}catch(p){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",s);l.setAttribute("enctype",y);u?l.setAttribute("target",u):f.removeAttr("target");n(r).remove()}}function b(i){var r,u,w,f,k,d,e,c,l;if(!s.aborted&&!lt){if(h=ot(a),h||(t("cannot access response document"),i=tt),i===ut&&s){s.abort("timeout");y.reject(s,"timeout");return}if(i==tt&&s){s.abort("server abort");y.reject(s,"error","server abort");return}if(h&&h.location.href!=o.iframeSrc||rt){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(rt)throw"timeout";if(w=o.dataType=="xml"||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(h.body===null||!h.body.innerHTML)&&--ct){t("requeing onLoad callback, DOM not available");setTimeout(b,250);return}f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):k=="xml"&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||s.status===304?"success":"error");r==="success"?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(u===undefined&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);lt=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var l=f[0],it,nt,o,p,d,v,a,s,k,w,rt,g,y=n.Deferred(),ut,tt,ft,et,ht,h,ct,lt;if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)it=n(c[nt]),r?it.prop("disabled",!1):it.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,u),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,k.type=="image"&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));ut=1;tt=2;ft=n("meta[name=csrf-token]").attr("content");et=n("meta[name=csrf-param]").attr("content");et&&ft&&(o.extraData=o.extraData||{},o.extraData[et]=ft);o.forceSync?st():setTimeout(st,10);ct=50;var at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},vt=n.parseJSON||function(s){return window.eval("("+s+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=vt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,f,a,v,c,y,s,l,h,d,g,nt,ut,p,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(f=this,typeof u=="function"?u={success:u}:u===undefined&&(u={}),e=u.type||this.attr2("method"),b=u.url||this.attr2("action"),o=typeof b=="string"?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),u=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u),a={},this.trigger("form-pre-serialize",[this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(u.beforeSerialize&&u.beforeSerialize(this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=u.traditional,v===undefined&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(u.semantic,c),u.data&&(u.extraData=u.data,y=n.param(u.data,v)),u.beforeSubmit&&u.beforeSubmit(s,this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);u.type.toUpperCase()=="GET"?(u.url+=(u.url.indexOf("?")>=0?"&":"?")+l,u.data=null):u.data=l;h=[];u.resetForm&&h.push(function(){f.resetForm()});u.clearForm&&h.push(function(){f.clearForm(u.includeHidden)});!u.dataType&&u.target?(d=u.success||function(){},h.push(function(t){var i=u.replaceTarget?"replaceWith":"html";n(u.target)[i](t).each(d,arguments)})):u.success&&h.push(u.success);u.success=function(n,t,i){for(var e=u.context||this,r=0,o=h.length;r<o;r++)h[r].apply(e,[n,t,i||f,f])};u.error&&(g=u.error,u.error=function(n,t,i){var r=u.context||this;g.apply(r,[n,t,i,f])});u.complete&&(nt=u.complete,u.complete=function(n,t){var i=u.context||this;nt.apply(i,[n,t,f])});var et=n("input[type=file]:enabled",this).filter(function(){return n(this).val()!==""}),tt=et.length>0,it="multipart/form-data",rt=f.attr("enctype")==it||f.attr("encoding")==it,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ut=(tt||rt)&&!k,u.iframe!==!1&&(u.iframe||ut)?u.closeKeepAlive?n.get(u.closeKeepAlive,function(){p=ft(s)}):p=ft(s):p=(tt||rt)&&k?st(s):n.ajax(u),f.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,u]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,u).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,i,u).on("click.form-plugin",this.selector,i,f);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,u).bind("click.form-plugin",i,f)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var e=[],l,h,f,c,u,b,k,a,p,v;if(this.length===0)return e;var o=this[0],w=this.attr("id"),s=t?o.getElementsByTagName("*"):o.elements,y;if(s&&!/MSIE [678]/.test(navigator.userAgent)&&(s=n(s).get()),w&&(y=n(':input[form="'+w+'"]').get(),y.length&&(s=(s||[]).concat(y))),!s||!s.length)return e;for(l=0,b=s.length;l<b;l++)if(u=s[l],f=u.name,f&&!u.disabled){if(t&&o.clk&&u.type=="image"){o.clk==u&&(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));continue}if(c=n.fieldValue(u,!0),c&&c.constructor==Array)for(r&&r.push(u),h=0,k=c.length;h<k;h++)e.push({name:f,value:c[h]});else if(i.fileapi&&u.type=="file")if(r&&r.push(u),a=u.files,a.length)for(h=0;h<a.length;h++)e.push({name:f,value:a[h],type:u.type});else e.push({name:f,value:"",type:u.type});else c!==null&&typeof c!="undefined"&&(r&&r.push(u),e.push({name:f,value:c,type:u.type,required:u.required}))}return!t&&o.clk&&(p=n(o.clk),v=p[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(e.push({name:f,value:p.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}),function(n){n.fn.fileUploader=function(t){return this.each(function(){var i=n.extend({ddHoverClass:"hover",maxFileSize:"30",name:"file",multiple:!0,mode:"append",allowedTypes:"*",deniedTypes:"",url:null,required:!1,summaryOnly:!1},t);return new n.fileUploaderObj(n(this),i)})};n.fileUploaderObj=function(n,t){this.o=t;this.$root=n;this.init()};n.fileUploaderObj.prototype={o:null,files:[],multiple:!0,dragdrop:!0,features:{},$root:null,$errors:null,$dragDrop:null,$list:null,$template:null,init:function(){if(this.$root.data("fu-instance",this),this.loadParamsFromDataAttributes(),this.checkFeatures(),!this.features.fileapi){this.enableLegacyUploadMode();return}this.initValidation();this.findViewBlocks();this.bindEvents();this.createCustomFileInput();this.bindFormSubmitEvent()},loadParamsFromDataAttributes:function(){var t=this.$root.data();for(var n in t)n.indexOf("fu")==0&&(this.o[n.substring(2,3).toLowerCase()+n.substring(3)]=t[n])},checkFeatures:function(){this.features.fileapi=n("<input type='file'/>").get(0).files!==undefined;this.features.formdata=window.FormData!==undefined;this.multiple=this.o.multiple;this.features.formdata||(this.multiple=!1,this.dragdrop=!1)},enableLegacyUploadMode:function(){n(".upload-label",this.$root).hide();n(".file-template").hide();n("input[type=file][value=Прикрепить]",".file-uploader").attr("name","File").on("change",n.utils.proxy(function(){n(".file-template").show(function(){n(".file-template .progress").hide()})},this))},initValidation:function(){n.validator.addMethod("requiredFile",function(t,i){var r=n(i).closest(".file-uploader").data("fu-instance");return r.getFilesCount()!=0},"Необходимо добавить файл");this.o.required&&n('input[name="FilesCount_{0}"]'.formatWith(this.o.id),this.$root).rules("add",{requiredFile:!0})},findViewBlocks:function(){this.$list=n(".file-uploader-list[data-fu-id={0}]".formatWith(this.o.id));this.$summary=n(".file-uploader-summary[data-fu-id={0}]".formatWith(this.o.id));this.$errors=n(".file-uploader-errors[data-fu-id={0}]".formatWith(this.o.id));this.$template=n(".file-template[data-fu-id={0}]".formatWith(this.o.id)).removeClass("file-template").remove();n(".upload-label",this.$root).show();n("input[type=file]",this.$root).hide();this.dragdrop?(this.$dragDrop=this.$root,n(".dragdrop-label",this.$root).show()):n(".dragdrop-label",this.$root).hide();this.multiple||n(".multiple",this.$root).hide()},bindEvents:function(){if(this.dragdrop&&(this.preventBrowserReactionOnDnD(),this.bindDragDropEvents()),this.$summary){var t=this;this.$summary.find(".delete").on("click",function(){n(".uploaded-file").not(".file-template").each(function(){var t=n(this);n(this).slideUp(function(){t.remove()})});t.$summary.slideUp();t.files=[];t.generateInputsNames()})}},preventBrowserReactionOnDnD:function(){n(document).on("dragenter",function(n){n.stopPropagation();n.preventDefault()});n(document).on("dragover",function(n){n.stopPropagation();n.preventDefault()});n(document).on("drop",function(n){n.stopPropagation();n.preventDefault()})},bindDragDropEvents:function(){var t=this;this.$dragDrop.on("dragenter",function(i){i.stopPropagation();i.preventDefault();n(this).addClass(t.o.ddHoverClass)});this.$dragDrop.on("dragover",function(i){i.stopPropagation();i.preventDefault();n(this).addClass(t.o.ddHoverClass)});this.$dragDrop.on("drop",function(i){i.stopPropagation();i.preventDefault();n(this).removeClass(t.o.ddHoverClass);t.$errors.empty();var r=i.originalEvent.dataTransfer.files;t.uploadFiles(r)});this.$dragDrop.on("dragleave",function(){n(this).removeClass(t.o.ddHoverClass)})},addError:function(t,i){var r=n("<div>").addClass("error"),u;i!=undefined&&(u=n("<span>").addClass("file-name").text(i+" "),r.append(u));r.append(t);setTimeout(function(){r.slideUp()},5e3);this.$errors.append(r)},uploadFiles:function(n){var i,t,r;if(!this.multiple&&this.o.mode=="append"&&n.length+this.getFilesLength()>1){this.addError("Возможна загрузка только 1 файла");return}for(i=0;i<n.length;i++){if(this.$summary.length!=0&&this.$summary.hide(),t=n[i],this.o.maxFileSize!=-1&&t.size>this.o.maxFileSize*1048576){this.addError("превышает допустимый размер",t.name);continue}if(this.o.maxFileCount!=-1&&this.files.length>=this.o.maxFileCount){this.addError("Превышено допустимое количество файлов");continue}if(!this.isFileTypeAllowed(t.name)){this.addError("не может быть загружен, так как не подходит по типу",t.name);continue}r=this.generateFileItem(t);this.o.mode=="rewrite"&&(this.$list.children().remove(),this.files=[]);this.files.push(t);this.formSubmit(t,r);this.$summary.hide();this.$list.append(r);this.addToSummary(t,r)}},addToSummary:function(){if(this.$summary.length!=0){this.files.length>1&&(this.o.summaryOnly&&this.$list.find(".uploaded-file").hide(),this.$summary.show());this.$summary.find(".files-amount").text(this.files.length);var t=0;n(this.files).each(function(){t+=this.size});this.$summary.find(".size").text(this.getFormatedSize(t))}},getFilesLength:function(){return n(".uploaded-file",this.$list).length},generateFileItem:function(t){var i=this.$template.clone();return n(".name",i).text(t.name),n(".size",i).text(this.getFormatedSize(t.size)),n(".number",i).text(this.files.length),i},formSubmit:function(t,i){var u=n("<form>").hide().attr("action",this.o.url).attr("enctype","multipart/form-data").attr("method","post"),f,r,e;u.appendTo("body");f=new FormData;f.append(this.o.name,t);r=this;e={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:"post",formData:f,dataType:"json",beforeSend:n.utils.proxy(function(){this.features.formdata?n(".filler",i).width("1%"):n(".filler",i).addClass("unknown-size");i.addClass("uploading")},this),uploadProgress:function(t,r,u,f){f>1&&n(".filler",i).width(f+"%")},success:function(f){n(".filler",i).width("100%");n(".progress",i).slideUp();i.removeClass("uploading").addClass("uploaded");n("input[type=hidden]",i).val(f.TempId);r.generateInputsNames();n(".delete",i).fadeIn();n(".delete",i).click(function(){this.file;i.slideUp(function(){n(document).trigger("file-deleted-"+r.o.id,{data:f,file:t,fileItem:i});i.remove();r.generateInputsNames()})});u.remove();n(document).trigger("file-uploaded-"+r.o.id,{data:f,file:t,fileItem:i})}};u.ajaxSubmit(e)},generateInputsNames:function(){var t=[],i;n("*[data-fu-name-template]").each(function(){var i=n(this).data("fuNameTemplate");t.indexOf(i)==-1&&t.push(i)});i=this.$list;n(t).each(function(){var t=this;n('*[data-fu-name-template="{0}"]'.formatWith(t),i).generateName(t)})},isFileTypeAllowed:function(n){var t=n.split(".").pop().toLowerCase(),i=this.o.deniedTypes.toLowerCase().split(","),r=this.o.allowedTypes.toLowerCase().split(",");return this.o.deniedTypes!=""&&jQuery.inArray(t,i)==0||this.o.allowedTypes!="*"&&jQuery.inArray(t,r)<0?!1:!0},getFormatedSize:function(n){var t=n/1024,i;return t>1024?(i=t/1024,i.toFixed(2)+" MB"):t.toFixed(2)+" KB"},createCustomFileInput:function(){var t=n('<input type="file" />'),i;this.multiple&&t.attr("multiple","multiple");t.css({position:"absolute",cursor:"pointer",top:"0",width:"100%",height:"100%",left:"0",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"});i=n(".upload-label",this.$root);i.css({position:"relative"});t.appendTo(i);t.on("change",n.utils.proxy(function(n){n.files&&this.uploadFiles(n.files)},this))},bindFormSubmitEvent:function(){var t=this.$root.closest("form");if(t.length)t.on("reset",n.utils.proxy(function(){this.$list.empty()},this))},getFilesCount:function(){return this.$list.find(".uploaded-file.uploaded").length}}}(jQuery),function(n){n.fn.editable=function(t){t=n.extend({groupPrefix:"group",target:".async-target",hideEditButton:!1,onEditComplete:null},t||{});n(this).click(function(i){var u,e;n(this).is("a")&&i.preventDefault();u=null;n.each(n(this).classes(),function(n,i){i.toLowerCase().substring(0,t.groupPrefix.length)==t.groupPrefix&&(u="."+i)});var o=n(u),r=o.filter(t.target),f=o.not(t.target);t.hideEditButton&&f.hide();e=function(i){var c=n(i),s,h,o;if(r.html(c),n(document).trigger("ajax-content-loaded",c),n("form",r).customAjaxForm(function(n){f.show();e(n)}),n("form",r).keyup(function(t){t.which==27&&n.customAjax({url:n(".cancel-url",r).val(),success:function(t){r.fillWithAjaxContent(n(t));f.show()}})}),n(".editor-buttons .cancel",r).click(function(){var t=this.href;return n.getJSON(t,function(t){r.html(t.Content);n(document).trigger("ajax-content-loaded",r)}),!1}),!n("form",r)[0]&&t.onEditComplete)t.onEditComplete(r);n(document).trigger("editable-loaded",u.slice(7,u.length));s=n('input[type="text"]',r);s.length>0&&(h=s[0],o=n(h),o.focus(),h.setSelectionRange(o.val().length,o.val().length))};n.customAjax({url:n(this).attr("href")===undefined?n(this).data("url"):n(this).attr("href"),cache:!1,success:e})})}}(jQuery),function(n,t,i){(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.qtip&&n(jQuery)})(function(r){function ot(i){b={pageX:i.pageX,pageY:i.pageY,type:"mousemove",scrollX:n.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:n.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}}function ft(n){var t=function(n){return n===s||"object"!=typeof n},i=function(n){return!r.isFunction(n)&&(!n&&!n.attr||n.length<1||"object"==typeof n&&!n.jquery&&!n.then)};return!n||"object"!=typeof n?u:(t(n.metadata)&&(n.metadata={type:n.metadata}),"content"in n&&((t(n.content)||n.content.jquery)&&(n.content={text:n.content}),i(n.content.text||u)&&(n.content.text=u),"title"in n.content&&(t(n.content.title)&&(n.content.title={text:n.content.title}),i(n.content.title.text||u)&&(n.content.title.text=u))),"position"in n&&t(n.position)&&(n.position={my:n.position,at:n.position}),"show"in n&&t(n.show)&&(n.show=n.show.jquery?{target:n.show}:{event:n.show}),"hide"in n&&t(n.hide)&&(n.hide=n.hide.jquery?{target:n.hide}:{event:n.hide}),"style"in n&&t(n.style)&&(n.style={classes:n.style}),r.each(e,function(){this.sanitize&&this.sanitize(n)}),n)}function at(v,w,d,g){function ii(n){for(var r=0,u,t=w,i=n.split(".");t=t[i[r++]];)r<i.length&&(u=t);return[u||w,i.pop()]}function bt(n){return ct.concat("").join(n?"-"+n+" ":" ")}function ri(){var n=w.style.widget,t=rt.hasClass(yt);rt.removeClass(yt);yt=n?"ui-state-disabled":"qtip-disabled";rt.toggleClass(yt,t);rt.toggleClass("ui-helper-reset "+bt(),n).toggleClass(st,w.style.def&&!n);ht.content&&ht.content.toggleClass(bt("content"),n);ht.titlebar&&ht.titlebar.toggleClass(bt("header"),n);ht.button&&ht.button.toggleClass(a+"-icon",!n)}function dt(n){ht.title&&(ht.titlebar.remove(),ht.titlebar=ht.title=ht.button=s,n!==u&&it.reposition())}function gt(){var n=w.content.title.button,i=typeof n=="string",t=i?n:"Close tooltip";ht.button&&ht.button.remove();ht.button=n.jquery?n:r("<a />",{"class":"qtip-close "+(w.style.widget?"":a+"-icon"),title:t,"aria-label":t}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));ht.button.appendTo(ht.titlebar||rt).attr("role","button").click(function(n){return rt.hasClass(yt)||it.hide(n),u})}function ui(){var n=wt+"-title";ht.titlebar&&dt();ht.titlebar=r("<div />",{"class":a+"-titlebar "+(w.style.widget?bt("header"):"")}).append(ht.title=r("<div />",{id:n,"class":a+"-title","aria-atomic":f})).insertBefore(ht.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(n){r(this).toggleClass("ui-state-active ui-state-focus",n.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(n){r(this).toggleClass("ui-state-hover",n.type==="mouseover")});w.content.title.button&&gt()}function si(n){var t=ht.button;if(!it.rendered)return u;n?gt():t.remove()}function ni(n,t){var i=ht.title;if(!it.rendered||!n)return u;if(r.isFunction(n)&&(n=n.call(v,at.event,it)),n!==u&&(n||n===""))n.jquery&&n.length>0?i.empty().append(n.css({display:"block"})):i.html(n);else return dt(u);t!==u&&it.rendered&&rt[0].offsetWidth>0&&it.reposition(at.event)}function fi(n){n&&r.isFunction(n.done)&&n.done(function(n){kt(n,null,u)})}function kt(n,t,f){function o(n){function o(i){i&&(delete f[i.src],clearTimeout(it.timers.img[i.src]),r(i).unbind(vt));r.isEmptyObject(f)&&(t!==u&&it.reposition(at.event),n())}var s,f={};if((s=e.find("img[src]:not([height]):not([width])")).length===0)return o();s.each(function(n,t){if(f[t.src]===i){var u=0,e=3;(function s(){if(t.height||t.width||u>e)return o(t);u+=1;it.timers.img[t.src]=setTimeout(s,700)})();r(t).bind("error"+vt+" load"+vt,function(){o(this)});f[t.src]=t}})}var e=ht.content;return!it.rendered||!n?u:(r.isFunction(n)&&(n=n.call(v,at.event,it)||""),f!==u&&fi(w.content.deferred),n.jquery&&n.length>0?e.empty().append(n.css({display:"block"})):e.html(n),it.rendered<0?rt.queue("fx",o):(ti=0,o(r.noop)),it)}function ei(){function s(n){if(rt.hasClass(yt))return u;clearTimeout(it.timers.show);clearTimeout(it.timers.hide);var t=function(){it.toggle(f,n)};w.show.delay>0?it.timers.show=setTimeout(t,w.show.delay):t()}function h(n){if(rt.hasClass(yt)||pt||ti)return u;var t=r(n.relatedTarget||n.target),f=t.closest(k)[0]===rt[0],o=t[0]===i.show[0];if(clearTimeout(it.timers.show),clearTimeout(it.timers.hide),e.target==="mouse"&&f||w.hide.fixed&&/mouse(out|leave|move)/.test(n.type)&&(f||o)){try{n.preventDefault();n.stopImmediatePropagation()}catch(s){}return}w.hide.delay>0?it.timers.hide=setTimeout(function(){it.hide(n)},w.hide.delay):it.hide(n)}function l(n){if(rt.hasClass(yt))return u;clearTimeout(it.timers.inactive);it.timers.inactive=setTimeout(function(){it.hide(n)},w.hide.inactive)}function a(n){it.rendered&&rt[0].offsetWidth>0&&it.reposition(n)}var e=w.position,i={show:w.show.target,hide:w.hide.target,viewport:r(e.viewport),document:r(t),body:r(t.body),window:r(n)},o={show:r.trim(""+w.show.event).split(" "),hide:r.trim(""+w.hide.event).split(" ")},y=r.browser.msie&&parseInt(r.browser.version,10)===6;rt.bind("mouseenter"+vt+" mouseleave"+vt,function(n){var t=n.type==="mouseenter";t&&it.focus(n);rt.toggleClass(lt,t)});/mouse(out|leave)/i.test(w.hide.event)&&w.hide.leave==="window"&&i.window.bind("mouseout"+vt+" blur"+vt,function(n){/select|option/.test(n.target.nodeName)||n.relatedTarget||it.hide(n)});w.hide.fixed?(i.hide=i.hide.add(rt),rt.bind("mouseover"+vt,function(){rt.hasClass(yt)||clearTimeout(it.timers.hide)})):/mouse(over|enter)/i.test(w.show.event)&&i.hide.bind("mouseleave"+vt,function(){clearTimeout(it.timers.show)});(""+w.hide.event).indexOf("unfocus")>-1&&e.container.closest("html").bind("mousedown"+vt+" touchstart"+vt,function(n){var t=r(n.target),u=it.rendered&&!rt.hasClass(yt)&&rt[0].offsetWidth>0,i=t.parents(k).filter(rt[0]).length>0;t[0]===v[0]||t[0]===rt[0]||i||v.has(t[0]).length||t.attr("disabled")||it.hide(n)});"number"==typeof w.hide.inactive&&(i.show.bind("qtip-"+d+"-inactive",l),r.each(c.inactiveEvents,function(n,t){i.hide.add(ht.tooltip).bind(t+vt+"-inactive",l)}));r.each(o.hide,function(n,t){var u=r.inArray(t,o.show),f=r(i.hide);u>-1&&f.add(i.show).length===f.length||t==="unfocus"?(i.show.bind(t+vt,function(n){rt[0].offsetWidth>0?h(n):s(n)}),delete o.show[u]):i.hide.bind(t+vt,h)});r.each(o.show,function(n,t){i.show.bind(t+vt,s)});"number"==typeof w.hide.distance&&i.show.add(rt).bind("mousemove"+vt,function(n){var t=at.origin||{},i=w.hide.distance,r=Math.abs;(r(n.pageX-t.pageX)>=i||r(n.pageY-t.pageY)>=i)&&it.hide(n)});e.target==="mouse"&&(i.show.bind("mousemove"+vt,ot),e.adjust.mouse&&(w.hide.event&&(rt.bind("mouseleave"+vt,function(n){(n.relatedTarget||n.target)!==i.show[0]&&it.hide(n)}),ht.target.bind("mouseenter"+vt+" mouseleave"+vt,function(n){at.onTarget=n.type==="mouseenter"})),i.document.bind("mousemove"+vt,function(n){it.rendered&&at.onTarget&&!rt.hasClass(yt)&&rt[0].offsetWidth>0&&it.reposition(n||b)})));(e.adjust.resize||i.viewport.length)&&(r.event.special.resize?i.viewport:i.window).bind("resize"+vt,a);i.window.bind("scroll"+vt,a)}function oi(){var i=[w.show.target[0],w.hide.target[0],it.rendered&&ht.tooltip[0],w.position.container[0],w.position.viewport[0],w.position.container.closest("html")[0],n,t];it.rendered?r([]).pushStack(r.grep(i,function(n){return typeof n=="object"})).unbind(vt):w.show.target.unbind(vt+"-create")}var it=this,hi=t.body,wt=a+"-"+d,pt=0,ti=0,rt=r(),vt=".qtip-"+d,yt="qtip-disabled",ht,at;it.id=d;it.rendered=u;it.destroyed=u;it.elements=ht={target:v};it.timers={img:{}};it.options=w;it.checks={};it.plugins={};it.cache=at={event:{},target:r(),disabled:u,attr:g,onTarget:u,lastClass:""};it.checks.builtin={"^id$":function(n,t,i){var o=i===f?c.nextid:i,e=a+"-"+o;o!==u&&o.length>0&&!r("#"+e).length&&(rt[0].id=e,ht.content[0].id=e+"-content",ht.title[0].id=e+"-title")},"^content.text$":function(){kt(w.content.text)},"^content.deferred$":function(){fi(w.content.deferred)},"^content.title.text$":function(n,t,i){if(!i)return dt();!ht.title&&i&&ui();ni(i)},"^content.title.button$":function(n,t,i){si(i)},"^position.(my|at)$":function(n,t,i){"string"==typeof i&&(n[t]=new e.Corner(i))},"^position.container$":function(n,t,i){it.rendered&&rt.appendTo(i)},"^show.ready$":function(){it.rendered?it.toggle(f):it.render(1)},"^style.classes$":function(n,t,i){rt.attr("class",a+" qtip "+i)},"^style.width|height":function(n,t,i){rt.css(t,i)},"^style.widget|content.title":ri,"^events.(render|show|move|hide|focus|blur)$":function(n,t,i){rt[(r.isFunction(i)?"":"un")+"bind"]("tooltip"+t,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var n=w.position;rt.attr("tracking",n.target==="mouse"&&n.adjust.mouse);oi();ei()}};r.extend(it,{_triggerEvent:function(n,t,i){var u=r.Event("tooltip"+n);return u.originalEvent=(i?r.extend({},i):s)||at.event||s,rt.trigger(u,[it].concat(t||[])),!u.isDefaultPrevented()},render:function(n){if(it.rendered)return it;var i=w.content.text,t=w.content.title,o=w.position;return r.attr(v[0],"aria-describedby",wt),rt=ht.tooltip=r("<div/>",{id:wt,"class":[a,st,w.style.classes,a+"-pos-"+w.position.my.abbrev()].join(" "),width:w.style.width||"",height:w.style.height||"",tracking:o.target==="mouse"&&o.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":u,"aria-describedby":wt+"-content","aria-hidden":f}).toggleClass(yt,at.disabled).data("qtip",it).appendTo(w.position.container).append(ht.content=r("<div />",{"class":a+"-content",id:wt+"-content","aria-atomic":f})),it.rendered=-1,pt=1,t.text?(ui(),r.isFunction(t.text)||ni(t.text,u)):t.button&&gt(),(!r.isFunction(i)||i.then)&&kt(i,u),it.rendered=f,ri(),r.each(w.events,function(n,t){r.isFunction(t)&&rt.bind(n==="toggle"?"tooltipshow tooltiphide":"tooltip"+n,t)}),r.each(e,function(){this.initialize==="render"&&this(it)}),ei(),rt.queue("fx",function(t){it._triggerEvent("render");pt=0;(w.show.ready||n)&&it.toggle(f,at.event,u);t()}),it},get:function(n){var t,i;switch(n.toLowerCase()){case"dimensions":t={height:rt.outerHeight(u),width:rt.outerWidth(u)};break;case"offset":t=e.offset(rt,w.position.container);break;default:i=ii(n.toLowerCase());t=i[0][i[1]];t=t.precedance?t.string():t}return t},set:function(n,t){function c(n,t){var i,r,u;for(i in e)for(r in e[i])(u=new RegExp(r,"i").exec(n))&&(t.push(u),e[i][r].apply(it,t))}var h=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,i=u,e=it.checks,o;return"string"==typeof n?(o=n,n={},n[o]=t):n=r.extend(f,{},n),r.each(n,function(t,u){var f=ii(t.toLowerCase()),e;e=f[0][f[1]];f[0][f[1]]="object"==typeof u&&u.nodeType?r(u):u;n[t]=[f[0],f[1],u,e];i=h.test(t)||i}),ft(w),pt=1,r.each(n,c),pt=0,it.rendered&&rt[0].offsetWidth>0&&i&&it.reposition(w.position.target==="mouse"?s:at.event),it},toggle:function(n,i){function h(){n?(r.browser.msie&&rt[0].style.removeAttribute("filter"),rt.css("overflow",""),"string"==typeof e.autofocus&&r(e.autofocus,rt).focus(),e.target.trigger("qtip-"+d+"-inactive")):rt.css({display:"",visibility:"",opacity:"",left:"",top:""});it._triggerEvent(n?"visible":"hidden")}if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(at.event.type)&&w.show.target.add(i.target).length===w.show.target.length&&rt.has(i.relatedTarget).length)return it;at.event=r.extend({},i)}if(!it.rendered)return n?it.render(1):it;var s=n?"show":"hide",e=w[s],y=w[n?"hide":"show"],c=w.position,o=w.content,l=rt[0].offsetWidth>0,a=n||e.target.length===1,v=!i||e.target.length<2||at.target[0]===i.target;return((typeof n).search("boolean|number")&&(n=!l),!rt.is(":animated")&&l===n&&v)?it:it._triggerEvent(s,[90])?(r.attr(rt[0],"aria-hidden",!!!n),n?(at.origin=r.extend({},b),it.focus(i),r.isFunction(o.text)&&kt(o.text,u),r.isFunction(o.title.text)&&ni(o.title.text,u),!ut&&c.target==="mouse"&&c.adjust.mouse&&(r(t).bind("mousemove.qtip",ot),ut=f),it.reposition(i,arguments[2]),!e.solo||r(k,e.solo).not(rt).qtip("hide",r.Event("tooltipsolo"))):(clearTimeout(it.timers.show),delete at.origin,ut&&!r(k+'[tracking="true"]:visible',e.solo).not(rt).length&&(r(t).unbind("mousemove.qtip"),ut=u),it.blur(i)),e.effect===u||a===u?(rt[s](),h.call(rt)):r.isFunction(e.effect)?(rt.stop(1,1),e.effect.call(rt,it),rt.queue("fx",function(n){h();n()})):rt.fadeTo(90,n?1:0,h),n&&e.target.trigger("qtip-"+d+"-inactive"),it):it},show:function(n){return it.toggle(f,n)},hide:function(n){return it.toggle(u,n)},focus:function(n){if(!it.rendered)return it;var t=r(k),u=parseInt(rt[0].style.zIndex,10),i=c.zindex+t.length,f=r.extend({},n);return rt.hasClass(nt)||it._triggerEvent("focus",[i],f)&&(u!==i&&(t.each(function(){this.style.zIndex>u&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+nt).qtip("blur",f)),rt.addClass(nt)[0].style.zIndex=i),it},blur:function(n){return rt.removeClass(nt),it._triggerEvent("blur",[rt.css("zIndex")],n),it},reposition:function(i,f){if(!it.rendered||pt)return it;pt=1;var c=w.position.target,a=w.position,ut=a.my,v=a.at,d=a.adjust,ct=d.method.split(" "),ot=rt.outerWidth(u),st=rt.outerHeight(u),g=0,nt=0,lt=rt.css("position"),ft=a.viewport,s={left:0,top:0},vt=a.container,yt=rt[0].offsetWidth>0,wt=i&&i.type==="scroll",et=r(n),k,tt;if(r.isArray(c)&&c.length===2)v={x:l,y:h},s={left:c[0],top:c[1]};else if(c==="mouse"&&(i&&i.pageX||at.event.pageX))v={x:l,y:h},i=b&&b.pageX&&(d.mouse||!i||!i.pageX)?{pageX:b.pageX,pageY:b.pageY}:(i&&(i.type==="resize"||i.type==="scroll")?at.event:i&&i.pageX&&i.type==="mousemove"?i:!d.mouse&&at.origin&&at.origin.pageX&&w.show.distance?at.origin:i)||i||at.event||b||{},lt!=="static"&&(s=vt.offset()),s={left:i.pageX-s.left,top:i.pageY-s.top},d.mouse&&wt&&(s.left-=b.scrollX-et.scrollLeft(),s.top-=b.scrollY-et.scrollTop());else{if(c==="event"&&i&&i.target&&i.type!=="scroll"&&i.type!=="resize"?at.target=r(i.target):c!=="event"&&(at.target=r(c.jquery?c:ht.target)),c=at.target,c=r(c).eq(0),c.length===0)return it;c[0]===t||c[0]===n?(g=e.iOS?n.innerWidth:c.width(),nt=e.iOS?n.innerHeight:c.height(),c[0]===n&&(s={top:(ft||c).scrollTop(),left:(ft||c).scrollLeft()})):e.imagemap&&c.is("area")?k=e.imagemap(it,c,v,e.viewport?ct:u):e.svg&&c[0].ownerSVGElement?k=e.svg(it,c,v,e.viewport?ct:u):(g=c.outerWidth(u),nt=c.outerHeight(u),s=e.offset(c,vt));k&&(g=k.width,nt=k.height,tt=k.offset,s=k.position);(e.iOS>3.1&&e.iOS<4.1||e.iOS>=4.3&&e.iOS<4.33||!e.iOS&&lt==="fixed")&&(s.left-=et.scrollLeft(),s.top-=et.scrollTop());s.left+=v.x===p?g:v.x===o?g/2:0;s.top+=v.y===y?nt:v.y===o?nt/2:0}return(s.left+=d.x+(ut.x===p?-ot:ut.x===o?-ot/2:0),s.top+=d.y+(ut.y===y?-st:ut.y===o?-st/2:0),e.viewport?(s.adjusted=e.viewport(it,s,a,g,nt,ot,st),tt&&s.adjusted.left&&(s.left+=tt.left),tt&&s.adjusted.top&&(s.top+=tt.top)):s.adjusted={left:0,top:0},!it._triggerEvent("move",[s,ft.elem||ft],i))?it:(delete s.adjusted,f===u||!yt||isNaN(s.left)||isNaN(s.top)||c==="mouse"||!r.isFunction(a.effect)?rt.css(s):r.isFunction(a.effect)&&(a.effect.call(rt,it,r.extend({},s)),rt.queue(function(n){r(this).css({opacity:"",height:""});r.browser.msie&&this.style.removeAttribute("filter");n()})),pt=0,it)},disable:function(n){return"boolean"!=typeof n&&(n=!(rt.hasClass(yt)||at.disabled)),it.rendered?(rt.toggleClass(yt,n),r.attr(rt[0],"aria-disabled",n)):at.disabled=!!n,it},enable:function(){return it.disable(u)},destroy:function(){var n=v[0],t=r.attr(n,tt),i=v.data("qtip");return it.destroyed=f,it.rendered&&(rt.stop(1,0).remove(),r.each(it.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(it.timers.show),clearTimeout(it.timers.hide),oi(),i&&it!==i||(r.removeData(n,"qtip"),w.suppress&&t&&(r.attr(n,"title",t),v.removeAttr(tt)),v.removeAttr("aria-describedby")),v.unbind(".qtip-"+d),delete et[it.id],v}})}function vt(n,i){var v,h,y,o,b,l=r(this),k=r(t.body),p=this===t?k:l,w=l.metadata?l.metadata(i.metadata):s,d=i.metadata.type==="html5"&&w?w[i.metadata.name]:s,a=l.data(i.metadata.name||"qtipopts");try{a=typeof a=="string"?r.parseJSON(a):a}catch(g){}if(o=r.extend(f,{},c.defaults,i,typeof a=="object"?ft(a):s,ft(d||w)),h=o.position,o.id=n,"boolean"==typeof o.content.text)if(y=l.attr(o.content.attr),o.content.attr!==u&&y)o.content.text=y;else return u;if(h.container.length||(h.container=k),h.target===u&&(h.target=p),o.show.target===u&&(o.show.target=p),o.show.solo===f&&(o.show.solo=h.container.closest("body")),o.hide.target===u&&(o.hide.target=p),o.position.viewport===f&&(o.position.viewport=h.container),h.container=h.container.eq(0),h.at=new e.Corner(h.at),h.my=new e.Corner(h.my),r.data(this,"qtip"))if(o.overwrite)l.qtip("destroy");else if(o.overwrite===u)return u;return o.suppress&&(b=r.attr(this,"title"))&&r(this).removeAttr("title").attr(tt,b).attr("title",""),v=new at(l,o,n,!!y),r.data(this,"qtip",v),l.bind("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){v.destroy()}),v}function yt(n){var i=this,l=n.elements.tooltip,t=n.options.content.ajax,o=c.defaults.content.ajax,s=".qtip-ajax",v=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,a=f,h=u,e;n.checks.ajax={"^content.ajax":function(n,r,u){r==="ajax"&&(t=u);r==="once"?i.init():t&&t.url?i.load():l.unbind(s)}};r.extend(i,{init:function(){return t&&t.url&&l.unbind(s)[t.once?"one":"bind"]("tooltipshow"+s,i.load),i},load:function(s){function w(){var i;n.destroyed||(a=u,p&&(h=f,n.show(s.originalEvent)),(i=o.complete||t.complete)&&r.isFunction(i)&&i.apply(t.context||n,arguments))}function b(i,u,f){var e;n.destroyed||(y&&"string"==typeof i&&(i=r("<div/>").append(i.replace(v,"")).find(y)),(e=o.success||t.success)&&r.isFunction(e)?e.call(t.context||n,i,u,f):n.set("content.text",i))}function k(t,i,r){n.destroyed||t.status===0||n.set("content.text",i+": "+r)}if(h){h=u;return}var l=t.url.lastIndexOf(" "),c=t.url,y,p=!t.loading&&a;if(p)try{s.preventDefault()}catch(d){}else if(s&&s.isDefaultPrevented())return i;e&&e.abort&&e.abort();l>-1&&(y=c.substr(l),c=c.substr(0,l));e=r.ajax(r.extend({error:o.error||k,context:n},t,{url:c,success:b,complete:w}))},destroy:function(){e&&e.abort&&e.abort();n.destroyed=f}});i.init()}function pt(n,t,i){var u=Math.ceil(t/2),f=Math.ceil(i/2),r={bottomright:[[0,0],[t,i],[t,0]],bottomleft:[[0,0],[t,0],[0,i]],topright:[[0,i],[t,0],[t,i]],topleft:[[0,0],[0,i],[t,i]],topcenter:[[0,i],[u,0],[t,i]],bottomcenter:[[0,0],[t,0],[u,i]],rightcenter:[[0,0],[t,f],[0,i]],leftcenter:[[t,0],[t,i],[0,f]]};return r.lefttop=r.bottomright,r.righttop=r.bottomleft,r.leftbottom=r.topright,r.rightbottom=r.topleft,r[n.string()]}function wt(n){function ot(n){var t=nt.is(":visible");nt.show();n();nt.toggle(t)}function ct(){k.width=b.height;k.height=b.width}function lt(){k.width=b.width;k.height=b.height}function at(r,e,s){if(c.tip){var a=t.corner.clone(),nt=s.adjusted,ot=n.options.position.adjust.method.split(" "),ft=ot[0],et=ot[1]||ot[0],g={left:u,top:u,x:0,y:0},k,it={},tt;t.corner.fixed!==f&&(ft===d&&a.precedance===w&&nt.left&&a.y!==o?a.precedance=a.precedance===w?v:w:ft!==d&&nt.left&&(a.x=a.x===o?nt.left>0?l:p:a.x===l?p:l),et===d&&a.precedance===v&&nt.top&&a.x!==o?a.precedance=a.precedance===v?w:v:et!==d&&nt.top&&(a.y=a.y===o?nt.top>0?h:y:a.y===h?y:h),a.string()!==rt.corner.string()&&(rt.top!==nt.top||rt.left!==nt.left)&&t.update(a,u));k=t.position(a,nt);k[a.x]+=ut(a,a.x);k[a.y]+=ut(a,a.y);k.right!==i&&(k.left=-k.right);k.bottom!==i&&(k.top=-k.bottom);k.user=b.offset;(g.left=ft===d&&!!nt.left)&&(a.x===o?it["margin-left"]=g.x=k["margin-left"]:(tt=k.right!==i?[nt.left,-k.left]:[-nt.left,k.left],(g.x=Math.max(tt[0],tt[1]))>tt[0]&&(s.left-=nt.left,g.left=u),it[k.right!==i?p:l]=g.x));(g.top=et===d&&!!nt.top)&&(a.y===o?it["margin-top"]=g.y=k["margin-top"]:(tt=k.bottom!==i?[nt.top,-k.top]:[-nt.top,k.top],(g.y=Math.max(tt[0],tt[1]))>tt[0]&&(s.top-=nt.top,g.top=u),it[k.bottom!==i?y:h]=g.y));c.tip.css(it).toggle(!(g.x&&g.y||a.x===o&&g.y||a.y===o&&g.x));s.left-=k.left.charAt?k.user:ft!==d||g.top||!g.left&&!g.top?k.left:0;s.top-=k.top.charAt?k.user:et!==d||g.left||!g.left&&!g.top?k.top:0;rt.left=nt.left;rt.top=nt.top;rt.corner=a.clone()}}function vt(){var i=b.corner,r=n.options.position,s=r.at,o=r.my.string?r.my.string():r.my;return i===u||o===u&&s===u?u:(i===f?t.corner=new e.Corner(o):i.string||(t.corner=new e.Corner(i),t.corner.fixed=f),rt.corner=new e.Corner(t.corner.string()),t.corner.string()!=="centercenter")}function ut(n,t,i){t=t?t:n[n.precedance];var f=c.titlebar&&n.y===h,e=f?c.titlebar:nt,o="border-"+t+"-width",r=function(n){return parseInt(n.css(o),10)},u;return ot(function(){u=(i?r(i):r(c.content)||r(e)||r(nt))||0}),u}function yt(n){var o=c.titlebar&&n.y===h,s=o?c.titlebar:c.content,l=r.browser.mozilla,i=l?"-moz-":r.browser.webkit?"-webkit-":"",u="border-radius-"+n.y+n.x,f="border-"+n.y+"-"+n.x+"-radius",t=function(n){return parseInt(s.css(n),10)||parseInt(nt.css(n),10)},e;return ot(function(){e=t(f)||t(i+f)||t(i+u)||t(u)||0}),e}function wt(n){function i(n,t,i){var r=n.css(t)||y;return i&&r===n.css(i)?u:d.test(r)?u:r}var e=c.tip.css("cssText",""),a=n||t.corner,d=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,l="border-"+a[a.precedance]+"-color",s="background-color",y="transparent",p=" !important",v=c.titlebar,g=v&&(a.y===h||a.y===o&&e.position().top+k.height/2+b.offset<v.outerHeight(f)),w=g?v:c.content;ot(function(){tt.fill=i(e,s)||i(w,s)||i(c.content,s)||i(nt,s)||e.css(s);tt.border=i(e,l,"color")||i(w,l,"color")||i(c.content,l,"color")||i(nt,l,"color")||nt.css(l);r("*",e).add(e).css("cssText",s+":"+y+p+";border:0"+p+";")})}function st(n){var r=n.precedance===v,h=k[r?g:it],f=k[r?it:g],c=n.string().indexOf(o)>-1,l=h*(c?.5:1),i=Math.pow,y=Math.round,p,e,s,u=Math.sqrt(i(l,2)+i(f,2)),t=[a/l*u,a/f*u];return t[2]=Math.sqrt(i(t[0],2)-i(a,2)),t[3]=Math.sqrt(i(t[1],2)-i(a,2)),p=u+t[2]+t[3]+(c?0:t[0]),e=p/u,s=[y(e*f),y(e*h)],{height:s[r?0:1],width:s[r?1:0]}}function ht(n,t,i){return"<qvml:"+n+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+(i||"")+'" />'}var t=this,b=n.options.style.tip,c=n.elements,nt=c.tooltip,rt={top:0,left:0},k={width:b.width,height:b.height},tt={},a=b.border||0,ft=".qtip-tip",et=!!(r("<canvas />")[0]||{}).getContext;t.corner=s;t.mimic=s;t.border=a;t.offset=b.offset;t.size=k;n.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){t.init()||t.destroy();n.reposition()},"^style.tip.(height|width)$":function(){k={width:b.width,height:b.height};t.create();t.update();n.reposition()},"^content.title.text|style.(classes|widget)$":function(){c.tip&&c.tip.length&&t.update()}};r.extend(t,{init:function(){var n=vt()&&(et||r.browser.msie);return n&&(t.create(),t.update(),nt.unbind(ft).bind("tooltipmove"+ft,at)),n},create:function(){var t=k.width,i=k.height,n;c.tip&&c.tip.remove();c.tip=r("<div />",{"class":"qtip-tip"}).css({width:t,height:i}).prependTo(nt);et?r("<canvas />").appendTo(c.tip)[0].getContext("2d").save():(n=ht("shape",'coordorigin="0,0"',"position:absolute;"),c.tip.html(n+n),r("*",c.tip).bind("click mousedown",function(n){n.stopPropagation()}))},update:function(n,i){var kt=c.tip,bt=kt.children(),ot=k.width,at=k.height,d=b.mimic,yt=Math.round,dt,g,it,vt,ft;n||(n=rt.corner||t.corner);d===u?d=n:(d=new e.Corner(d),d.precedance=n.precedance,d.x==="inherit"?d.x=n.x:d.y==="inherit"?d.y=n.y:d.x===d.y&&(d[n.precedance]=n[n.precedance]));dt=d.precedance;n.precedance===w?ct():lt();c.tip.css({width:ot=k.width,height:at=k.height});wt(n);tt.border!=="transparent"?(a=ut(n,s),b.border===0&&a>0&&(tt.fill=tt.border),t.border=a=b.border!==f?b.border:a):t.border=a=0;it=pt(d,ot,at);t.size=ft=st(n);kt.css(ft).css("line-height",ft.height+"px");vt=n.precedance===v?[yt(d.x===l?a:d.x===p?ft.width-ot-a:(ft.width-ot)/2),yt(d.y===h?ft.height-at:0)]:[yt(d.x===l?ft.width-ot:0),yt(d.y===h?a:d.y===y?ft.height-at-a:(ft.height-at)/2)];et?(bt.attr(ft),g=bt[0].getContext("2d"),g.restore(),g.save(),g.clearRect(0,0,3e3,3e3),g.fillStyle=tt.fill,g.strokeStyle=tt.border,g.lineWidth=a*2,g.lineJoin="miter",g.miterLimit=100,g.translate(vt[0],vt[1]),g.beginPath(),g.moveTo(it[0][0],it[0][1]),g.lineTo(it[1][0],it[1][1]),g.lineTo(it[2][0],it[2][1]),g.closePath(),a&&(nt.css("background-clip")==="border-box"&&(g.strokeStyle=tt.fill,g.stroke()),g.strokeStyle=tt.border,g.stroke()),g.fill()):(it="m"+it[0][0]+","+it[0][1]+" l"+it[1][0]+","+it[1][1]+" "+it[2][0]+","+it[2][1]+" xe",vt[2]=a&&/^(r|b)/i.test(n.string())?parseFloat(r.browser.version,10)===8?2:1:0,bt.css({coordsize:ot+a+" "+(at+a),antialias:""+(d.string().indexOf(o)>-1),left:vt[0],top:vt[1],width:ot+a,height:at+a}).each(function(n){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:ot+a+" "+(at+a),path:it,fillcolor:tt.fill,filled:!!n,stroked:!n}).toggle(!!(a||n));n||t.html()!==""||t.html(ht("stroke",'weight="'+a*2+'px" color="'+tt.border+'" miterlimit="1000" joinstyle="miter"'))}));i!==u&&t.position(n)},position:function(n){var a=c.tip,i={},y=b.offset,f,e,s;return b.corner===u||!a?u:(n=n||t.corner,f=n.precedance,e=st(n),s=[n.x,n.y],f===w&&s.reverse(),r.each(s,function(t,r){var u,a,s;r===o?(u=f===v?l:h,i[u]="50%",i["margin-"+u]=-Math.round(e[f===v?g:it]/2)+y):(u=ut(n,r),a=ut(n,r,c.content),s=yt(n),i[r]=t?a:y+(s>u?s:-u))}),i[n[f]]-=e[f===w?g:it],a.css({top:"",bottom:"",left:"",right:"",margin:""}).css(i),i)},destroy:function(){c.tip&&c.tip.remove();c.tip=!1;nt.unbind(ft)}});t.init()}function bt(i){function d(){w=r(tt,s).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function g(n){w.length<1&&n.length?n.not("body").blur():w.first().focus()}function it(n){var t=r(n.target),i=t.closest(".qtip"),f;f=i.length<1?u:parseInt(i[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10);f||r(n.target).closest(k)[0]===s[0]||g(t)}var h=this,y=i.options.show.modal,a=i.elements,s=a.tooltip,b="#qtip-overlay",c=".qtipmodal",l=c+i.id,v="is-modal-qtip",p=r(t.body),tt=e.modal.focusable.join(","),w={},o;i.checks.modal={"^show.modal.(on|blur)$":function(){h.init();a.overlay.toggle(s.is(":visible"))},"^content.text$":function(){d()}};r.extend(h,{init:function(){return y.on?(o=h.create(),s.attr(v,f).css("z-index",e.modal.zindex+r(k+"["+v+"]").length).unbind(c).unbind(l).bind("tooltipshow"+c+" tooltiphide"+c,function(n,t,i){var u=n.originalEvent;if(n.target===s[0])if(u&&n.type==="tooltiphide"&&/mouse(leave|enter)/.test(u.type)&&r(u.relatedTarget).closest(o[0]).length)try{n.preventDefault()}catch(f){}else u&&(!u||u.solo)||h[n.type.replace("tooltip","")](n,i)}).bind("tooltipfocus"+c,function(n){if(!n.isDefaultPrevented()&&n.target===s[0]){var t=r(k).filter("["+v+"]"),i=e.modal.zindex+t.length,u=parseInt(s[0].style.zIndex,10);o[0].style.zIndex=i-2;t.each(function(){this.style.zIndex>u&&(this.style.zIndex-=1)});t.end().filter("."+nt).qtip("blur",n.originalEvent);s.addClass(nt)[0].style.zIndex=i;try{n.preventDefault()}catch(f){}}}).bind("tooltiphide"+c,function(n){n.target===s[0]&&r("["+v+"]").filter(":visible").not(s).last().qtip("focus",n)}),y.escape&&r(t).unbind(l).bind("keydown"+l,function(n){n.keyCode===27&&s.hasClass(nt)&&i.hide(n)}),y.blur&&a.overlay.unbind(l).bind("click"+l,function(n){s.hasClass(nt)&&i.hide(n)}),d(),h):h},create:function(){function f(){o.css({height:t.height(),width:t.width()})}var i=r(b),t=r(n);return i.length?a.overlay=i.insertAfter(r(k).last()):(o=a.overlay=r("<div />",{id:b.substr(1),html:"<div><\/div>",mousedown:function(){return u}}).hide().insertAfter(r(k).last()),t.unbind(c).bind("resize"+c,f),f(),o)},toggle:function(n,t,i){if(n&&n.isDefaultPrevented())return h;var e=y.effect,c=t?"show":"hide",a=o.is(":visible"),w=r("["+v+"]").filter(":visible").not(s);return(o||(o=h.create()),o.is(":animated")&&a===t&&o.data("toggleState")!==u||!t&&w.length)?h:(t?(o.css({left:0,top:0}),o.toggleClass("blurs",y.blur),y.stealfocus!==u&&(p.bind("focusin"+l,it),g(r("body :focus")))):p.unbind("focusin"+l),o.stop(f,u).data("toggleState",t),r.isFunction(e)?e.call(o,t):e===u?o[c]():o.fadeTo(parseInt(i,10)||90,t?1:0,function(){t||r(this).hide()}),t||o.queue(function(n){o.css({left:"",top:""}).removeData("toggleState");n()}),h)},show:function(n,t){return h.toggle(n,f,t)},hide:function(n,t){return h.toggle(n,u,t)},destroy:function(){var n=o;return n&&(n=r("["+v+"]").not(s).length<1,n?(a.overlay.remove(),r(t).unbind(c)):a.overlay.unbind(c+i.id),p.unbind("focusin"+l)),s.removeAttr(v).unbind(c)}});h.init()}function kt(i){var s=this,o=i.elements,c=i.options,e=o.tooltip,l=".ie6-"+i.id,a=r("select, object").length<1,h=0,v=u,y;i.checks.ie6={"^content|style$":function(){redraw()}};r.extend(s,{init:function(){var u=r(n),i;a&&(o.bgiframe=r('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1;"><\/iframe>'),o.bgiframe.appendTo(e),e.bind("tooltipmove"+l,s.adjustBGIFrame));y=r("<div/>",{id:"qtip-rcontainer"}).appendTo(t.body);s.redraw();o.overlay&&!v&&(i=function(){o.overlay[0].style.top=u.scrollTop()+"px"},u.bind("scroll.qtip-ie6, resize.qtip-ie6",i),i(),o.overlay.addClass("qtipmodal-ie6fix"),v=f)},adjustBGIFrame:function(){var f=i.get("dimensions"),r=i.plugins.tip,u=o.tip,t,n;n=parseInt(e.css("border-left-width"),10)||0;n={left:-n,top:-n};r&&u&&(t=r.corner.precedance==="x"?["width","left"]:["height","top"],n[t[1]]-=u[t[0]]());o.bgiframe.css(n).css(f)},redraw:function(){if(i.rendered<1||h)return s;var u=c.style,o=c.position.container,f,n,t,r;return h=1,u.height&&e.css(it,u.height),u.width?e.css(g,u.width):(e.css(g,"").appendTo(y),n=e.width(),n%2<1&&(n+=1),t=e.css("max-width")||"",r=e.css("min-width")||"",f=(t+r).indexOf("%")>-1?o.width()/100:0,t=(t.indexOf("%")>-1?f:1)*parseInt(t,10)||n,r=(r.indexOf("%")>-1?f:1)*parseInt(r,10)||0,n=t+r?Math.min(Math.max(n,r),t):n,e.css(g,Math.round(n)).appendTo(o)),h=0,s},destroy:function(){a&&o.bgiframe.remove();e.unbind(l)}});s.init()}var f=!0,u=!1,s=null,w="x",v="y",g="width",it="height",h="top",l="left",y="bottom",p="right",o="center",ht="flipinvert",d="shift",c,e,b,a="qtip",et={},ct=["ui-widget","ui-tooltip"],k="div.qtip."+a,st=a+"-default",nt=a+"-focus",lt=a+"-hover",rt="_replacedByqTip",tt="oldtitle",ut;c=r.fn.qtip=function(n,t,e){var o=(""+n).toLowerCase(),a=s,v=r.makeArray(arguments).slice(1),h=v[v.length-1],l=this[0]?r.data(this[0],"qtip"):s;return!arguments.length&&l||o==="api"?l:"string"==typeof n?(this.each(function(){var n=r.data(this,"qtip");if(!n)return f;if(h&&h.timeStamp&&(n.cache.event=h),(o==="option"||o==="options")&&t)if(r.isPlainObject(t)||e!==i)n.set(t,e);else return a=n.get(t),u;else n[o]&&n[o].apply(n[o],v)}),a!==s?a:this):"object"==typeof n||!arguments.length?(l=ft(r.extend(f,{},n)),c.bind.call(this,l,h)):void 0};c.bind=function(n,t){return this.each(function(o){function p(n){function t(){s.render(typeof n=="object"||h.show.ready);y.show.add(y.hide).unbind(v)}if(s.cache.disabled)return u;s.cache.event=r.extend({},n);s.cache.target=n?r(n.target):[i];h.show.delay>0?(clearTimeout(s.timers.show),s.timers.show=setTimeout(t,h.show.delay),a.show!==a.hide&&y.hide.bind(a.hide,function(){clearTimeout(s.timers.show)})):t()}var h,y,a,v,s,l;if(l=r.isArray(n.id)?n.id[o]:n.id,l=!l||l===u||l.length<1||et[l]?c.nextid++:et[l]=l,v=".qtip-"+l+"-create",s=vt.call(this,l,n),s===u)return f;h=s.options;r.each(e,function(){this.initialize==="initialize"&&this(s)});y={show:h.show.target,hide:h.hide.target};a={show:r.trim(""+h.show.event).replace(/ /g,v+" ")+v,hide:r.trim(""+h.hide.event).replace(/ /g,v+" ")+v};/mouse(over|enter)/i.test(a.show)&&!/mouse(out|leave)/i.test(a.hide)&&(a.hide+=" mouseleave"+v);y.show.bind("mousemove"+v,function(n){ot(n);s.cache.onTarget=f});y.show.bind(a.show,p);(h.show.ready||h.prerender)&&p(t)}).attr("data-hasqtip",f)};e=c.plugins={Corner:function(n){n=(""+n).replace(/([A-Z])/," $1").replace(/middle/gi,o).toLowerCase();this.x=(n.match(/left|right/i)||n.match(/center/)||["inherit"])[0].toLowerCase();this.y=(n.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=n.charAt(0);this.precedance=t==="t"||t==="b"?v:w;this.string=function(){return this.precedance===v?this.y+this.x:this.x+this.y};this.abbrev=function(){var n=this.x.substr(0,1),t=this.y.substr(0,1);return n===t?n:this.precedance===v?t+n:n+t};this.invertx=function(n){this.x=this.x===l?p:this.x===p?l:n||this.x};this.inverty=function(n){this.y=this.y===h?y:this.y===y?h:n||this.y};this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(n,i){function l(n,t){f.left+=t*n.scrollLeft();f.top+=t*n.scrollTop()}var f=n.offset(),s=n.closest("body"),c=r.browser.msie&&t.compatMode!=="CSS1Compat",u=i,e,o,h;if(u){do u.css("position")!=="static"&&(o=u.position(),f.left-=o.left+(parseInt(u.css("borderLeftWidth"),10)||0)+(parseInt(u.css("marginLeft"),10)||0),f.top-=o.top+(parseInt(u.css("borderTopWidth"),10)||0)+(parseInt(u.css("marginTop"),10)||0),e||(h=u.css("overflow"))==="hidden"||h==="visible"||(e=u));while((u=r(u[0].offsetParent)).length);(e&&e[0]!==s[0]||c)&&l(e||s,1)}return f},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||u,fn:{attr:function(n,t){if(this.length){var u=this[0],f="title",i=r.data(u,"qtip");if(n===f&&i&&"object"==typeof i&&i.options.suppress)return arguments.length<2?r.attr(u,tt):(i&&i.options.content.attr===f&&i.cache.attr&&i.set("content.text",t),this.attr(tt,t))}return r.fn["attr"+rt].apply(this,arguments)},clone:function(n){var i=r([]),t=r.fn["clone"+rt].apply(this,arguments);return n||t.filter("["+tt+"]").attr("title",function(){return r.attr(this,tt)}).removeAttr(tt),t}}};r.each(e.fn,function(n,t){if(!t||r.fn[n+rt])return f;var i=r.fn[n+rt]=r.fn[n];r.fn[n]=function(){return t.apply(this,arguments)||i.apply(this,arguments)}});r.ui||(r["cleanData"+rt]=r.cleanData,r.cleanData=function(n){for(var t=0,u;(u=n[t])!==i;t++)try{r(u).triggerHandler("removeqtip")}catch(f){}r["cleanData"+rt](n)});c.version="";c.nextid=0;c.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" ");c.zindex=50;c.defaults={prerender:u,id:u,overwrite:f,suppress:f,content:{text:f,attr:"title",deferred:u,title:{text:u,button:u}},position:{my:"top left",at:"bottom right",target:u,container:u,viewport:u,adjust:{x:0,y:0,mouse:f,resize:f,method:"flipinvert flipinvert"},effect:function(n,t){r(this).animate(t,{duration:200,queue:u})}},show:{target:u,event:"mouseenter",effect:f,delay:90,solo:u,ready:u,autofocus:u},hide:{target:u,event:"mouseleave",effect:f,delay:0,fixed:u,inactive:u,leave:"window",distance:u},style:{classes:"",widget:u,width:u,height:u,def:f},events:{render:s,move:s,show:s,hide:s,toggle:s,visible:s,hidden:s,focus:s,blur:s}};e.svg=function(n,i){for(var l=r(t),f=i[0],u={width:0,height:0,position:{top:1e10,left:1e10}},s,h,c,e,o;!f.getBBox;)f=f.parentNode;if(f.getBBox&&f.parentNode){if(s=f.getBBox(),h=f.getScreenCTM(),c=f.farthestViewportElement||f,!c.createSVGPoint)return u;e=c.createSVGPoint();e.x=s.x;e.y=s.y;o=e.matrixTransform(h);u.position.left=o.x;u.position.top=o.y;e.x+=s.width;e.y+=s.height;o=e.matrixTransform(h);u.width=o.x-u.position.left;u.height=o.y-u.position.top;u.position.left+=l.scrollLeft();u.position.top+=l.scrollTop()}return u};e.ajax=function(n){var t=n.plugins.ajax;return"object"==typeof t?t:n.plugins.ajax=new yt(n)};e.ajax.initialize="render";e.ajax.sanitize=function(n){var i=n.content,t;i&&"ajax"in i&&(t=i.ajax,typeof t!="object"&&(t=n.content.ajax={url:t}),"boolean"!=typeof t.once&&t.once&&(t.once=!!t.once))};r.extend(f,c.defaults,{content:{ajax:{loading:f,once:f}}});e.tip=function(n){var t=n.plugins.tip;return"object"==typeof t?t:n.plugins.tip=new wt(n)};e.tip.initialize="render";e.tip.sanitize=function(n){var i=n.style,t;i&&"tip"in i&&(t=n.style.tip,typeof t!="object"&&(n.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=f),typeof t.width!="number"&&delete t.width,typeof t.height!="number"&&delete t.height,typeof t.border!="number"&&t.border!==f&&delete t.border,typeof t.offset!="number"&&delete t.offset)};r.extend(f,c.defaults,{style:{tip:{corner:f,mimic:u,width:6,height:6,border:f,offset:0}}});e.modal=function(n){var t=n.plugins.modal;return"object"==typeof t?t:n.plugins.modal=new bt(n)};e.modal.initialize="render";e.modal.sanitize=function(n){n.show&&(typeof n.show.modal!="object"?n.show.modal={on:!!n.show.modal}:typeof n.show.modal.on=="undefined"&&(n.show.modal.on=f))};e.modal.zindex=c.zindex-200;e.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"];r.extend(f,c.defaults,{show:{modal:{on:u,effect:f,blur:f,stealfocus:f,escape:f}}});e.viewport=function(i,r,u,f,e,s,c){function yt(n,t,i,u,f,e,s,h,c){var a=r[f],l=rt[n],g=pt[n],ut=i===d,it=-nt.offset[f]+b.offset[f]+b["scroll"+f],ft=l===f?c:l===e?-c:-c/2,ot=g===f?h:g===e?-h:-h/2,et=k&&k.size?k.size[s]||0:0,y=k&&k.corner&&k.corner.precedance===n&&!ut?et:0,w=it-a+y,p=a+c-b[s]-it+y,v=ft-(rt.precedance===n||l===rt[t]?ot:0)-(g===o?h/2:0);return ut?(y=k&&k.corner&&k.corner.precedance===t?et:0,v=(l===f?1:-1)*ft-y,r[f]+=w>0?w:p>0?-p:0,r[f]=Math.max(-nt.offset[f]+b.offset[f]+(y&&k.corner[n]===o?k.offset:0),a-v,Math.min(Math.max(-nt.offset[f]+b.offset[f]+b[s],a+v),r[f]))):(u*=i===ht?2:0,w>0&&(l!==f||p>0)?(r[f]-=v+u,tt["invert"+n](f)):p>0&&(l!==e||w>0)&&(r[f]-=(l===o?-v:v)+u,tt["invert"+n](e)),r[f]<it&&-r[f]>p&&(r[f]=a,tt=rt.clone())),r[f]-a}var lt=u.target,at=i.elements.tooltip,rt=u.my,pt=u.at,ut=u.adjust,ft=ut.method.split(" "),et=ft[0],ot=ft[1]||ft[0],b=u.viewport,nt=u.container,wt=i.cache,k=i.plugins.tip,st={left:0,top:0},ct,tt,vt;return!b.jquery||lt[0]===n||lt[0]===t.body||ut.method==="none"?st:(ct=at.css("position")==="fixed",b={elem:b,height:b[(b[0]===n?"h":"outerH")+"eight"](),width:b[(b[0]===n?"w":"outerW")+"idth"](),scrollleft:ct?0:b.scrollLeft(),scrolltop:ct?0:b.scrollTop(),offset:b.offset()||{left:0,top:0}},nt={elem:nt,scrollLeft:nt.scrollLeft(),scrollTop:nt.scrollTop(),offset:nt.offset()||{left:0,top:0}},(et!=="shift"||ot!=="shift")&&(tt=rt.clone()),st={left:et!=="none"?yt(w,v,et,ut.x,l,p,g,f,s):0,top:ot!=="none"?yt(v,w,ot,ut.y,h,y,it,e,c):0},tt&&wt.lastClass!==(vt=a+"-pos-"+tt.abbrev())&&at.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=vt),st)};e.imagemap=function(n,t,i,u){function g(n,t,i){for(var s=0,r=1,u=1,c=0,a=0,f=n.width,e=n.height;f>0&&e>0&&r>0&&u>0;)for(f=Math.floor(f/2),e=Math.floor(e/2),i.x===l?r=f:i.x===p?r=n.width-f:r+=Math.floor(f/2),i.y===h?u=e:i.y===y?u=n.height-e:u+=Math.floor(e/2),s=t.length;s--;){if(t.length<2)break;c=t[s][0]-n.position.left;a=t[s][1]-n.position.top;(i.x===l&&c>=r||i.x===p&&c<=r||i.x===o&&(c<r||c>n.width-r)||i.y===h&&a>=u||i.y===y&&a<=u||i.y===o&&(a<u||a>n.height-u))&&t.splice(s,1)}return{left:t[0][0],top:t[0][1]}}t.jquery||(t=r(t));var k=n.cache.areas={},d=(t[0].shape||t.attr("shape")).toLowerCase(),w=t[0].coords||t.attr("coords"),a=w.split(","),e=[],v=r('img[usemap="#'+t.parent("map").attr("name")+'"]'),b=v.offset(),f={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},c=0,s=0;if(b.left+=Math.ceil((v.outerWidth()-v.width())/2),b.top+=Math.ceil((v.outerHeight()-v.height())/2),d==="poly")for(c=a.length;c--;)s=[parseInt(a[--c],10),parseInt(a[c+1],10)],s[0]>f.position.right&&(f.position.right=s[0]),s[0]<f.position.left&&(f.position.left=s[0]),s[1]>f.position.bottom&&(f.position.bottom=s[1]),s[1]<f.position.top&&(f.position.top=s[1]),e.push(s);else for(c=-1;c++<a.length;)e.push(parseInt(a[c],10));switch(d){case"rect":f={width:Math.abs(e[2]-e[0]),height:Math.abs(e[3]-e[1]),position:{left:Math.min(e[0],e[2]),top:Math.min(e[1],e[3])}};break;case"circle":f={width:e[2]+2,height:e[2]+2,position:{left:e[0],top:e[1]}};break;case"poly":f.width=Math.abs(f.position.right-f.position.left);f.height=Math.abs(f.position.bottom-f.position.top);i.abbrev()==="c"?f.position={left:f.position.left+f.width/2,top:f.position.top+f.height/2}:(k[i+w]||(f.position=g(f,e.slice(),i),u&&(u[0]==="flip"||u[1]==="flip")&&(f.offset=g(f,e.slice(),{x:i.x===l?p:i.x===p?l:o,y:i.y===h?y:i.y===y?h:o}),f.offset.left-=f.position.left,f.offset.top-=f.position.top),k[i+w]=f),f=k[i+w]);f.width=f.height=0}return f.position.left+=b.left,f.position.top+=b.top,f};e.ie6=function(n){var t=r.browser,i=n.plugins.ie6;return(t.msie&&(""+t.version).charAt(0)==="6")?"object"==typeof i?i:n.plugins.ie6=new kt(n):u};e.ie6.initialize="render"})}(window,document);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){var i,t=navigator.userAgent,u=/iphone/i.test(t),f=/chrome/i.test(t),r=/android/i.test(t);n.mask={definitions:{d:"[0-9]",Z:"([0-9])?",a:"[A-Za-z]",b:"[A-Яa-я]","*":"[A-Za-z0-9]","~":"[0-1]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"};n.fn.extend({caret:function(n,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof n?(t="number"==typeof t?t:n,this.each(function(){this.setSelectionRange?this.setSelectionRange(n,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())})):(this[0].setSelectionRange?(n=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length),{begin:n,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,e){var p,l,o,c,h,v,s,a,y;return!t&&this.length>0?(p=n(this[0]),y=p.data(n.mask.dataName),y?y():void 0):(e=n.extend({autoclear:n.mask.autoclear,placeholder:n.mask.placeholder,completed:null},e),l=n.mask.definitions,o=[],c=s=t.length,h=null,n.each(t.split(""),function(n,t){"?"==t?(s--,c=n):l[t]?(o.push(new RegExp(l[t])),null===h&&(h=o.length-1),c>n&&(v=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function nt(){if(e.completed){for(var n=h;v>=n;n++)if(o[n]&&p[n]===w(n))return;e.completed.call(y)}}function w(n){return e.placeholder.charAt(n<e.placeholder.length?n:0)}function b(n){for(;++n<s&&!o[n];);return n}function ut(n){for(;--n>=0&&!o[n];);return n}function it(n,t){var r,i;if(!(0>n)){for(r=n,i=b(t);s>r;r++)if(o[r]){if(!(s>i&&o[r].test(p[i])))break;p[r]=p[i];p[i]=w(i);i=b(i)}d();y.caret(Math.max(h,n))}}function ft(n){for(var r,u,t=n,i=w(n);s>t;t++)if(o[t]){if(r=b(t),u=p[t],p[t]=i,!(s>r&&o[r].test(u)))break;i=u}}function et(){var t=y.val(),n=y.caret();if(a&&a.length&&a.length>t.length){for(k(!0);n.begin>0&&!o[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<h&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}else{for(k(!0);n.begin<s&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}nt()}function rt(){k();y.val()!=tt&&y.change()}function ot(n){if(!y.prop("readonly")){var f,i,t,r=n.which||n.keyCode;a=y.val();8===r||46===r||u&&127===r?(f=y.caret(),i=f.begin,t=f.end,t-i==0&&(i=46!==r?ut(i):t=b(i-1),t=46===r?b(t):t),g(i,t),it(i,t-1),n.preventDefault()):13===r?rt.call(this,n):27===r&&(y.val(tt),y.caret(0,k()),n.preventDefault())}}function st(t){var u,e,h,f,i,c;y.prop("readonly")||(f=t.which||t.keyCode,i=y.caret(),t.ctrlKey||t.altKey||t.metaKey||32>f||!f||13===f||((i.end-i.begin!=0&&(g(i.begin,i.end),it(i.begin,i.end-1)),u=b(i.begin-1),s>u&&(e=String.fromCharCode(f),o[u].test(e)))&&((ft(u),p[u]=e,d(),h=b(u),r)?(c=function(){n.proxy(n.fn.caret,y,h)()},setTimeout(c,0)):y.caret(h),i.begin<=v&&nt()),t.preventDefault()))}function g(n,t){for(var i=n;t>i&&s>i;i++)o[i]&&(p[i]=w(i))}function d(){y.val(p.join(""))}function k(n){for(var f,r=y.val(),u=-1,t=0,i=0;s>t;t++)if(o[t]){for(p[t]=w(t);i++<r.length;)if(f=r.charAt(i-1),o[t].test(f)){p[t]=f;u=t;break}if(i>r.length){g(t+1,s);break}}else p[t]===r.charAt(i)&&i++,c>t&&(u=t);return n?d():c>u+1?e.autoclear||p.join("")===ht?(y.val()&&y.val(""),g(0,s)):d():(d(),y.val(y.val().substring(0,u+1))),c?t:h}var y=n(this),p=n.map(t.split(""),function(n,t){if("?"!=n)return l[n]?w(t):n}),ht=p.join(""),tt=y.val();y.data(n.mask.dataName,function(){return n.map(p,function(n,t){return o[t]&&n!=w(t)?n:null}).join("")});y.one("unmask",function(){y.off(".mask").removeData(n.mask.dataName)}).on("focus.mask",function(){if(!y.prop("readonly")){clearTimeout(i);var n;tt=y.val();n=k();i=setTimeout(function(){y.get(0)===document.activeElement&&(d(),n==t.replace("?","").length?y.caret(0,n):y.caret(n))},10)}}).on("blur.mask",rt).on("keydown.mask",ot).on("keypress.mask",st).on("input.mask paste.mask",function(){y.prop("readonly")||setTimeout(function(){var n=k(!0);y.caret(n);nt()},0)});f&&r&&y.off("input.mask").on("input.mask",et);k()}))}})}),function(n){"use strict";var t={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So.","Mo","Di","Mi","Do","Fr","Sa."]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,mask:!1,validateOnBlur:!0,allowBlank:!1,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(n,t){for(var i=t||0,r=this.length;i<r;i++)if(this[i]===n)return i;return-1});n.fn.xdsoftScroller=function(t){return this.each(function(){var i=n(this);if(!n(this).hasClass("xdsoft_scroller_box")){var c=function(n){var t={x:0,y:0},i;return n.type=="touchstart"||n.type=="touchmove"||n.type=="touchend"||n.type=="touchcancel"?(i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],t.x=i.pageX,t.y=i.pageY):(n.type=="mousedown"||n.type=="mouseup"||n.type=="mousemove"||n.type=="mouseover"||n.type=="mouseout"||n.type=="mouseenter"||n.type=="mouseleave")&&(t.x=n.pageX,t.y=n.pageY),t},l=0,f=i.children().eq(0),u=i[0].clientHeight,e=f[0].offsetHeight,o=n('<div class="xdsoft_scrollbar"><\/div>'),r=n('<div class="xdsoft_scroller"><\/div>'),s=100,h=!1;o.append(r);i.addClass("xdsoft_scroller_box").append(o);r.on("mousedown.xdsoft_scroller",function(f){u||i.trigger("resize_scroll.xdsoft_scroller",[t]);var h=f.pageY,c=parseInt(r.css("margin-top")),e=o[0].offsetHeight;n(document.body).addClass("xdsoft_noselect");n([document.body,window]).on("mouseup.xdsoft_scroller",function a(){n([document.body,window]).off("mouseup.xdsoft_scroller",a).off("mousemove.xdsoft_scroller",l).removeClass("xdsoft_noselect")});n(document.body).on("mousemove.xdsoft_scroller",l=function(n){var t=n.pageY-h+c;t<0&&(t=0);t+r[0].offsetHeight>e&&(t=e-r[0].offsetHeight);i.trigger("scroll_element.xdsoft_scroller",[s?t/s:0])})});i.on("scroll_element.xdsoft_scroller",function(n,t){u||i.trigger("resize_scroll.xdsoft_scroller",[t,!0]);t=t>1?1:t<0||isNaN(t)?0:t;r.css("margin-top",s*t);f.css("marginTop",-parseInt((e-u)*t))}).on("resize_scroll.xdsoft_scroller",function(n,t,h){u=i[0].clientHeight;e=f[0].offsetHeight;var c=u/e,l=c*o[0].offsetHeight;c>1?r.hide():(r.show(),r.css("height",parseInt(l>10?l:10)),s=o[0].offsetHeight-r[0].offsetHeight,h!==!0&&i.trigger("scroll_element.xdsoft_scroller",[t?t:Math.abs(parseInt(f.css("marginTop")))/(e-u)]))});i.mousewheel&&i.mousewheel(function(n,t){var r=Math.abs(parseInt(f.css("marginTop")));return i.trigger("scroll_element.xdsoft_scroller",[(r-t*20)/(e-u)]),n.stopPropagation(),!1});i.on("touchstart",function(n){h=c(n)});i.on("touchmove",function(n){if(h){var t=c(n),r=Math.abs(parseInt(f.css("marginTop")));i.trigger("scroll_element.xdsoft_scroller",[(r-(t.y-h.y))/(e-u)]);n.stopPropagation();n.preventDefault()}});i.on("touchend touchcancel",function(){h=!1})}i.trigger("resize_scroll.xdsoft_scroller",[t])})};n.fn.datetimepicker=function(i,r){var h=48,y=57,c=96,l=105,o=17,f=46,a=13,p=27,e=8,w=37,b=38,k=39,d=40,v=9,g=116,nt=65,tt=67,it=86,rt=90,ut=89,s=!1,u=n.isPlainObject(i)||!i?n.extend({},t,i):n.extend({},t),ft=function(t){var i=n("<div "+(u.id?'id="'+u.id+'"':"")+" "+(u.style?'style="'+u.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+u.className+'"><\/div>'),dt=n('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net<\/a><\/div>'),ct=n('<div class="xdsoft_datepicker active"><\/div>'),et=n('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"><\/button><button type="button" class="xdsoft_today_button"><\/button><div class="xdsoft_label xdsoft_month"><span><\/span><\/div><div class="xdsoft_label xdsoft_year"><span><\/span><\/div><button type="button" class="xdsoft_next"><\/button><\/div>'),pt=n('<div class="xdsoft_calendar"><\/div>'),lt=n('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"><\/button><div class="xdsoft_time_box"><\/div><button type="button" class="xdsoft_next"><\/button><\/div>'),ot=lt.find(".xdsoft_time_box").eq(0),ft=n('<div class="xdsoft_time_variant"><\/div>'),gt=n('<div class="xdsoft_scrollbar"><\/div>'),ni=n('<div class="xdsoft_scroller"><\/div>'),wt=n('<div class="xdsoft_select xdsoft_monthselect"><div><\/div><\/div>'),bt=n('<div class="xdsoft_select xdsoft_yearselect"><div><\/div><\/div>'),at,r,vt,st,yt,kt,ht;et.find(".xdsoft_month span").after(wt);et.find(".xdsoft_year span").after(bt);et.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var u,f;et.find(".xdsoft_select").hide();var i=n(this).find(".xdsoft_select").eq(0),e=0,o=0;for(r.currentTime&&(e=r.currentTime[n(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i.show(),u=i.find("div.xdsoft_option"),f=0;f<u.length;f++)if(u.eq(f).data("value")==e)break;else o+=u[0].offsetHeight;return i.xdsoftScroller(o/(i.children()[0].offsetHeight-i[0].clientHeight)),t.stopPropagation(),!1});et.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(n){n.stopPropagation();n.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){r&&r.currentTime&&r.currentTime[n(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](n(this).data("value"));n(this).parent().parent().hide();i.trigger("xchange.xdsoft");u.onChangeMonth&&u.onChangeMonth.call&&u.onChangeMonth.call(i,r.currentTime,i.data("input"))});i.setOptions=function(ft){var ot,st;if(r.isNumber(ft.minDate)&&(ft.minDate=r.offsetToDate(ft.minDate)),r.isNumber(ft.maxDate)&&(ft.maxDate=r.offsetToDate(ft.maxDate)),u=n.extend({},u,ft),(u.open||u.opened)&&!u.inline&&t.trigger("open.xdsoft"),u.inline&&(i.addClass("xdsoft_inline"),t.after(i).hide(),i.trigger("afterOpen.xdsoft")),u.inverseButton&&(u.next="xdsoft_prev",u.prev="xdsoft_next"),!u.datepicker&&u.timepicker&&ct.removeClass("active"),u.datepicker&&!u.timepicker&&lt.removeClass("active"),u.value&&(t&&t.val&&t.val(u.value),r.setCurrentTime(u.value)),u.dayOfWeekStart=isNaN(u.dayOfWeekStart)||parseInt(u.dayOfWeekStart)<0||parseInt(u.dayOfWeekStart)>6?0:parseInt(u.dayOfWeekStart),u.timepickerScrollbar||gt.hide(),ot=[],u.minDate&&(ot=/^-(.*)$/.exec(u.minDate))&&(ot=Date.parseDate(ot[1],u.formatDate))&&(st=ot.getTime()+-6e4*ot.getTimezoneOffset(),u.minDate=new Date(r.now().getTime()-st).dateFormat(u.formatDate)),u.maxDate&&(ot=/^\+(.*)$/.exec(u.maxDate))&&(ot=Date.parseDate(ot[1],u.formatDate))&&(st=ot.getTime()+-6e4*ot.getTimezoneOffset(),u.maxDate=new Date(r.now().getTime()+st).dateFormat(u.formatDate)),et.find(".xdsoft_today_button").css("visibility",u.todayButton?"visible":"hidden"),u.mask){var at=function(n){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(n.setSelectionRange)return n.selectionStart}catch(i){return 0}},vt=function(n,t){var n=typeof n=="string"||n instanceof String?document.getElementById(n):n,i;if(n){if(n.createTextRange)return i=n.createTextRange(),i.collapse(!0),i.moveEnd(t),i.moveStart(t),i.select(),!0;if(n.setSelectionRange)return n.setSelectionRange(t,t),!0}else return!1;return!1},ht=function(n,t){var i=n.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(i).test(t)};t.off("keydown.xdsoft");switch(!0){case u.mask===!0:u.mask=u.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case n.type(u.mask)=="string":ht(u.mask,t.val())||t.val(u.mask.replace(/[0-9]/g,"_"));t.on("keydown.xdsoft",function(i){var et=this.value,r=i.which,ft,ot;switch(!0){case r>=h&&r<=y||r>=c&&r<=l||r==e||r==f:for(ft=at(this),ot=r!=e&&r!=f?String.fromCharCode(c<=r&&r<=l?r-h:r):"_",(r==e||r==f)&&ft&&(ft--,ot="_");/[^0-9_]/.test(u.mask.substr(ft,1))&&ft<u.mask.length&&ft>0;)ft+=r==e||r==f?-1:1;if(et=et.substr(0,ft)+ot+et.substr(ft+1),n.trim(et)=="")et=u.mask.replace(/[0-9]/g,"_");else if(ft==u.mask.length)break;for(ft+=r==e||r==f?0:1;/[^0-9_]/.test(u.mask.substr(ft,1))&&ft<u.mask.length&&ft>0;)ft+=r==e||r==f?-1:1;ht(u.mask,et)?(this.value=et,vt(this,ft)):n.trim(et)==""?this.value=u.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft");break;case!!~[nt,tt,it,rt,ut].indexOf(r)&&s:case!!~[p,b,d,w,k,g,o,v,a].indexOf(r):return!0}return i.preventDefault(),!1})}}if(u.validateOnBlur)t.off("blur.xdsoft").on("blur.xdsoft",function(){u.allowBlank&&!n.trim(n(this).val()).length?(n(this).val(null),i.data("xdsoft_datetime").empty()):Date.parseDate(n(this).val(),u.format)?i.data("xdsoft_datetime").setCurrentTime(n(this).val()):(n(this).val(r.now().dateFormat(u.format)),i.data("xdsoft_datetime").setCurrentTime(n(this).val()));i.trigger("changedatetime.xdsoft")});u.dayOfWeekStartPrev=u.dayOfWeekStart==0?6:u.dayOfWeekStart-1;i.trigger("xchange.xdsoft")};i.data("options",u).on("mousedown.xdsoft",function(n){return n.stopPropagation(),n.preventDefault(),bt.hide(),wt.hide(),!1});at=lt.find(".xdsoft_time_box");at.append(ft);at.xdsoftScroller();i.on("afterOpen.xdsoft",function(){at.xdsoftScroller()});i.append(ct).append(lt);u.withoutCopyright!==!0&&i.append(dt);ct.append(et).append(pt);n("body").append(i);r=new function(){var n=this;n.now=function(){var n=new Date;return u.yearOffset&&n.setFullYear(n.getFullYear()+u.yearOffset),n};n.currentTime=this.now();n.isValidDate=function(n){return Object.prototype.toString.call(n)!=="[object Date]"?!1:!isNaN(n.getTime())};n.setCurrentTime=function(t){n.currentTime=typeof t=="string"?n.strtodatetime(t):n.isValidDate(t)?t:n.now();i.trigger("xchange.xdsoft")};n.empty=function(){n.currentTime=null};n.getCurrentTime=function(){return n.currentTime};n.nextMonth=function(){var t=n.currentTime.getMonth()+1,f=n.currentTime.getFullYear();return t==12&&(n.currentTime.setFullYear(n.currentTime.getFullYear()+1),t=0),n.currentTime.setMonth(t),n.currentTime.getMonth()>t&&(n.currentTime=new Date(f,n.currentTime.getMonth(),0)),u.onChangeMonth&&u.onChangeMonth.call&&u.onChangeMonth.call(i,r.currentTime,i.data("input")),i.trigger("xchange.xdsoft"),t};n.prevMonth=function(){var t=n.currentTime.getMonth()-1,f=n.currentTime.getFullYear();return t==-1&&(n.currentTime.setFullYear(n.currentTime.getFullYear()-1),t=11),n.currentTime.setMonth(t),n.currentTime.getMonth()>t&&(n.currentTime=new Date(f,n.currentTime.getMonth(),0)),u.onChangeMonth&&u.onChangeMonth.call&&u.onChangeMonth.call(i,r.currentTime,i.data("input")),i.trigger("xchange.xdsoft"),t};n.strtodatetime=function(t){var i=t?Date.parseDate(t,u.format):n.now();return n.isValidDate(i)||(i=n.now()),i};n.strtodate=function(t){var i=t?Date.parseDate(t,u.formatDate):n.now();return n.isValidDate(i)||(i=n.now()),i};n.strtotime=function(t){var i=t?Date.parseDate(t,u.formatTime):n.now();return n.isValidDate(i)||(i=n.now()),i};n.str=function(){return n.currentTime.dateFormat(u.format)};n.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};n.offsetToDate=function(t){if(!n.isNumber(t))return n.now();var i=new Date(n.now().setDate(n.now().getDate()+t));return i.ToStandartString()}};et.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){i.data("changed",!0);r.setCurrentTime(0);i.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(r.str());i.trigger("close.xdsoft")});et.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=n(this),i=0,f=!1;(function e(n){var o=r.currentTime.getMonth();t.hasClass(u.next)?r.nextMonth():t.hasClass(u.prev)&&r.prevMonth();f||(i=setTimeout(e,n?n:100))})(500);n([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(i);f=!0;n([document.body,window]).off("mouseup.xdsoft",o)})});lt.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var i=n(this),r=0,f=!1,t=110;(function e(n){var s=ot[0].clientHeight,h=ft[0].offsetHeight,o=Math.abs(parseInt(ft.css("marginTop")));i.hasClass(u.next)&&h-s-u.timeHeightInTimePicker>=o?ft.css("marginTop","-"+(o+u.timeHeightInTimePicker)+"px"):i.hasClass(u.prev)&&o-u.timeHeightInTimePicker>=0&&ft.css("marginTop","-"+(o-u.timeHeightInTimePicker)+"px");ot.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(ft.css("marginTop"))/(h-s))]);t=t>10?10:t-10;f||(r=setTimeout(e,n?n:t))})(500);n([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(r);f=!0;n([document.body,window]).off("mouseup.xdsoft",o)})});i.on("xchange.xdsoft",function(t){for(var h="",e=new Date(r.currentTime.getFullYear(),r.currentTime.getMonth(),1),f=0,w=r.now(),c,l,y,b,a,o,s,v;e.getDay()!=u.dayOfWeekStart;)e.setDate(e.getDate()-1);for(h+="<table><thead><tr>",s=0;s<7;s++)h+="<th>"+u.i18n[u.lang].dayOfWeek[s+u.dayOfWeekStart>6?0:s+u.dayOfWeekStart]+"<\/th>";for(h+="<\/tr><\/thead>",h+="<tbody><tr>",c=!1,l=!1,u.maxDate!==!1&&(c=r.strtodate(u.maxDate),c=new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59,999)),u.minDate!==!1&&(l=r.strtodate(u.minDate),l=new Date(l.getFullYear(),l.getMonth(),l.getDate())),o=[];f<r.currentTime.getDaysInMonth()||e.getDay()!=u.dayOfWeekStart||r.currentTime.getMonth()==e.getMonth();)o=[],f++,y=e.getDate(),b=e.getFullYear(),a=e.getMonth(),o.push("xdsoft_date"),(c!==!1&&e>c||l!==!1&&e<l)&&o.push("xdsoft_disabled"),r.currentTime.getMonth()!=a&&o.push("xdsoft_other_month"),(u.defaultSelect||i.data("changed"))&&r.currentTime.dateFormat("d.m.Y")==e.dateFormat("d.m.Y")&&o.push("xdsoft_current"),w.dateFormat("d.m.Y")==e.dateFormat("d.m.Y")&&o.push("xdsoft_today"),(e.getDay()==0||e.getDay()==6||~u.weekends.indexOf(e.dateFormat("d.m.Y")))&&o.push("xdsoft_weekend"),h+='<td data-date="'+y+'" data-month="'+a+'" data-year="'+b+'" class="xdsoft_date xdsoft_day_of_week'+e.getDay()+" "+o.join(" ")+'"><div>'+y+"<\/div><\/td>",e.getDay()==u.dayOfWeekStartPrev&&(h+="<\/tr>"),e.setDate(y+1);h+="<\/tbody><\/table>";pt.html(h);et.find(".xdsoft_label span").eq(0).text(u.i18n[u.lang].months[r.currentTime.getMonth()]);et.find(".xdsoft_label span").eq(1).text(r.currentTime.getFullYear());var k="",p="",a="",d=function(n,t){var f=r.now();f.setHours(n);n=parseInt(f.getHours());f.setMinutes(t);t=parseInt(f.getMinutes());o=[];(u.maxTime!==!1&&r.strtotime(u.maxTime).getTime()<f.getTime()||u.minTime!==!1&&r.strtotime(u.minTime).getTime()>f.getTime())&&o.push("xdsoft_disabled");(u.defaultSelect||i.data("changed"))&&parseInt(r.currentTime.getHours())==parseInt(n)&&(u.step>59||Math[u.roundTime](r.currentTime.getMinutes()/u.step)*u.step==parseInt(t))&&o.push("xdsoft_current");parseInt(w.getHours())==parseInt(n)&&parseInt(w.getMinutes())==parseInt(t)&&o.push("xdsoft_today");k+='<div class="xdsoft_time '+o.join(" ")+'" data-hour="'+n+'" data-minute="'+t+'">'+f.dateFormat(u.formatTime)+"<\/div>"};if(u.allowTimes&&n.isArray(u.allowTimes)&&u.allowTimes.length)for(f=0;f<u.allowTimes.length;f++)p=r.strtotime(u.allowTimes[f]).getHours(),a=r.strtotime(u.allowTimes[f]).getMinutes(),d(p,a);else for(f=0,s=0;f<(u.hours12?12:24);f++)for(s=0;s<60;s+=u.step)p=(f<10?"0":"")+f,a=(s<10?"0":"")+s,d(p,a);for(ft.html(k),v="",f=0,f=parseInt(u.yearStart,10)+u.yearOffset;f<=parseInt(u.yearEnd,10)+u.yearOffset;f++)v+='<div class="xdsoft_option '+(r.currentTime.getFullYear()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"<\/div>";for(bt.children().eq(0).html(v),f=0,v="";f<=11;f++)v+='<div class="xdsoft_option '+(r.currentTime.getMonth()==f?"xdsoft_current":"")+'" data-value="'+f+'">'+u.i18n[u.lang].months[f]+"<\/div>";wt.children().eq(0).html(v);n(this).trigger("generate.xdsoft");t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(u.timepicker&&ft.find(".xdsoft_current").length){var t=ot[0].clientHeight,i=ft[0].offsetHeight,n=ft.find(".xdsoft_current").index()*u.timeHeightInTimePicker+1;i-t<n&&(n=i-t);ft.css("marginTop","-"+parseInt(n)+"px");ot.trigger("scroll_element.xdsoft_scroller",[parseInt(n)/(i-t)])}});vt=0;pt.on("click.xdsoft","td",function(){vt++;var f=n(this),e=r.currentTime;if(f.hasClass("xdsoft_disabled"))return!1;e.setFullYear(f.data("year"));e.setMonth(f.data("month"));e.setDate(f.data("date"));i.trigger("select.xdsoft",[e]);t.val(r.str());(vt>1||u.closeOnDateSelect===!0||u.closeOnDateSelect===0&&!u.timepicker)&&!u.inline&&i.trigger("close.xdsoft");u.onSelectDate&&u.onSelectDate.call&&u.onSelectDate.call(i,r.currentTime,i.data("input"));i.data("changed",!0);i.trigger("xchange.xdsoft");i.trigger("changedatetime.xdsoft");setTimeout(function(){vt=0},200)});ft.on("click.xdsoft","div",function(){var t=n(this),f=r.currentTime;if(t.hasClass("xdsoft_disabled"))return!1;f.setHours(t.data("hour"));f.setMinutes(t.data("minute"));i.trigger("select.xdsoft",[f]);i.data("input").val(r.str());u.inline||i.trigger("close.xdsoft");u.onSelectTime&&u.onSelectTime.call&&u.onSelectTime.call(i,r.currentTime,i.data("input"));i.data("changed",!0);i.trigger("xchange.xdsoft");i.trigger("changedatetime.xdsoft")});i.mousewheel&&ct.mousewheel(function(n,t){return u.scrollMonth?(t<0?r.nextMonth():r.prevMonth(),!1):!0});i.mousewheel&&ot.unmousewheel().mousewheel(function(n,t){if(!u.scrollTime)return!0;var f=ot[0].clientHeight,e=ft[0].offsetHeight,i=Math.abs(parseInt(ft.css("marginTop"))),r=!0;return t<0&&e-f-u.timeHeightInTimePicker>=i?(ft.css("marginTop","-"+(i+u.timeHeightInTimePicker)+"px"),r=!1):t>0&&i-u.timeHeightInTimePicker>=0&&(ft.css("marginTop","-"+(i-u.timeHeightInTimePicker)+"px"),r=!1),ot.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(ft.css("marginTop"))/(e-f))]),n.stopPropagation(),r});i.on("changedatetime.xdsoft",function(){u.onChangeDateTime&&u.onChangeDateTime.call&&u.onChangeDateTime.call(i,r.currentTime,i.data("input"))}).on("generate.xdsoft",function(){u.onGenerate&&u.onGenerate.call&&u.onGenerate.call(i,r.currentTime,i.data("input"))});st=0;t.mousewheel&&t.mousewheel(function(n,f,e,o){return u.scrollInput?!u.datepicker&&u.timepicker?(st=ft.find(".xdsoft_current").length?ft.find(".xdsoft_current").eq(0).index():0,st+f>=0&&st+f<ft.children().length&&(st+=f),ft.children().eq(st).length&&ft.children().eq(st).trigger("mousedown"),!1):u.datepicker&&!u.timepicker?(ct.trigger(n,[f,e,o]),t.val&&t.val(r.str()),i.trigger("changedatetime.xdsoft"),!1):void 0:!0});yt=function(){var t=i.data("input");u.$owner&&u.$owner.length>0&&(t=u.$owner);var r=t.offset(),f=r.top+t[0].offsetHeight-1,e=r.left;f+i[0].offsetHeight>n(window).height()&&(f=r.top-i[0].offsetHeight+1);e+i[0].offsetWidth>n(window).width()&&(e=r.left-i[0].offsetWidth+t[0].offsetWidth);i.css({left:e,top:f})};i.on("open.xdsoft",function(){var t=!0;if(u.onShow&&u.onShow.call&&(t=u.onShow.call(i,r.currentTime,i.data("input"))),t!==!1){i.show();i.trigger("afterOpen.xdsoft");yt();n(window).off("resize.xdsoft",yt).on("resize.xdsoft",yt);if(u.closeOnWithoutClick)n([document.body,window]).on("mousedown.xdsoft",function f(){n([document.body,window]).off("mousedown.xdsoft",f);i.trigger("close.xdsoft")})}}).on("close.xdsoft",function(n){var t=!0;u.onClose&&u.onClose.call&&(t=u.onClose.call(i,r.currentTime,i.data("input")));t===!1||u.opened||u.inline||i.hide();n.stopPropagation()}).data("input",t);kt=0;i.data("xdsoft_datetime",r);i.setOptions(u);ht=u.value?u.value:t&&t.val&&t.val()?t.val():"";ht&&r.isValidDate(ht=Date.parseDate(ht,u.format))?i.data("changed",!0):ht="";r.setCurrentTime(ht?ht:0);i.trigger("afterOpen.xdsoft");t.data("xdsoft_datetimepicker",i).data("xdsoft_datetimepicker_options",u).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(clearTimeout(kt),kt=setTimeout(function(){t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||(r.setCurrentTime(t&&t.val&&t.val()?t.val():0),i.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var u=t.which,r;switch(!0){case!!~[a].indexOf(u):r=n("input:visible,textarea:visible");i.trigger("close.xdsoft");i.trigger("changedatetime.xdsoft");r.eq(r.index(this)+1).focus();return;case!!~[v].indexOf(u):i.trigger("close.xdsoft");i.trigger("changedatetime.xdsoft");return}})},et=function(t){var i=t.data("xdsoft_datetimepicker");i&&(i.data("xdsoft_datetime",null),i.remove(),t.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),n(window).off("resize.xdsoft"),n([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())};n(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(n){n.keyCode==o&&(s=!0)}).on("keyup.xdsoftctrl",function(n){n.keyCode==o&&(s=!1)});return this.each(function(){var t;if(t=n(this).data("xdsoft_datetimepicker")){if(n.type(i)==="string")switch(i){case"show":n(this).select().focus();t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":et(n(this));break;case"reset":this.value=this.defaultValue;this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,u.format))||t.data("changed",!1);t.data("xdsoft_datetime").setCurrentTime(this.value);break;case"option":t.setOptions(r)}else t.setOptions(i);return 0}n.type(i)!=="string"&&ft(n(this))})}}(jQuery);Date.parseFunctions={count:0};Date.parseRegexes=[];Date.formatFunctions={count:0};Date.prototype.dateFormat=function(n){Date.formatFunctions[n]==null&&Date.createNewFormat(n);var t=Date.formatFunctions[n];return this[t]()};Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++,i;Date.formatFunctions[format]=funcName;var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="";for(i=0;i<format.length;++i)ch=format.charAt(i),special||ch!="\\"?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")};Date.getFormatCode=function(n){switch(n){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(n)+"' + "}};Date.parseDate=function(n,t){Date.parseFunctions[t]==null&&Date.createParser(t);var i=Date.parseFunctions[t];return Date[i](n)};Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1,i;Date.parseFunctions[format]=funcName;var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="";for(i=0;i<format.length;++i)ch=format.charAt(i),special||ch!="\\"?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}";Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$");eval(code)};Date.formatCodeToRegex=function(n,t){switch(n){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(n)}}};Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")};Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")};Date.prototype.getDayOfYear=function(){var t=0,n;for(Date.daysInMonth[1]=this.isLeapYear()?29:28,n=0;n<this.getMonth();++n)t+=Date.daysInMonth[n];return t+this.getDate()-1};Date.prototype.getWeekOfYear=function(){var t=this.getDayOfYear()+(4-this.getDay()),i=new Date(this.getFullYear(),0,1),n=11-i.getDay();return document.write(n),String.leftPad((t-n)/7+1,2,"0")};Date.prototype.isLeapYear=function(){var n=this.getFullYear();return(n&3)==0&&(n%100||n%400==0&&n)};Date.prototype.getFirstDayOfMonth=function(){var n=(this.getDay()-(this.getDate()-1))%7;return n<0?n+7:n};Date.prototype.getLastDayOfMonth=function(){var n=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return n<0?n+7:n};Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]};Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};String.escape=function(n){return n.replace(/('|\\)/g,"\\$1")};String.leftPad=function(n,t,i){var r=new String(n);for(i==null&&(i=" ");r.length<t;)r=i+r;return r};Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.y2kYear=50;Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11};Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n:n(jQuery)}(function(n){function f(i){var u=i||window.event,l=[].slice.call(arguments,1),f=0,e=0,o=0,h=0,c=0,s;return i=n.event.fix(u),i.type="mousewheel",u.wheelDelta&&(f=u.wheelDelta),u.detail&&(f=u.detail*-1),u.deltaY&&(o=u.deltaY*-1,f=o),u.deltaX&&(e=u.deltaX,f=e*-1),u.wheelDeltaY!==undefined&&(o=u.wheelDeltaY),u.wheelDeltaX!==undefined&&(e=u.wheelDeltaX*-1),h=Math.abs(f),(!r||h<r)&&(r=h),c=Math.max(Math.abs(o),Math.abs(e)),(!t||c<t)&&(t=c),s=f>0?"floor":"ceil",f=Math[s](f/r),e=Math[s](e/t),o=Math[s](o/t),l.unshift(i,f,e,o),(n.event.dispatch||n.event.handle).apply(this,l)}var e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r,t,u;if(n.event.fixHooks)for(u=e.length;u;)n.event.fixHooks[e[--u]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=i.length;n;)this.addEventListener(i[--n],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var n=i.length;n;)this.removeEventListener(i[--n],f,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),function(n){n.fn.customAjaxForm=function(t){return this.each(function(){return n(this).data("customAjaxForm",new n.ajaxObj(this,t)),n(this).data("customAjaxForm")})};n.customAjax=function(t){var i=n.Deferred();return new n.ajaxObj(null,t,i),i.promise()};n.ajaxObj=function(t,i,r){t!=null&&(this.$obj=n(t));(typeof i=="function"||i==undefined)&&(i={success:i});this.o=n.extend({},this.defaults,i);this.o.deferred=r;this.init()};n.ajaxObj.prototype={$obj:null,defaults:{customSuccess:!1,replaceContent:!0},o:null,oldSuccess:null,oldComplete:null,oldError:null,submitText:null,init:function(){this.o.customSuccess||(this.o.success!=null&&(this.oldSuccess=this.o.success),this.o.success=n.proxy(this.success,this));this.o.cache=!1;this.o.dataType="json";this.o.data=this.o.data||{};this.o.data.isAjax=!0;this.o.error!=null&&(this.oldError=this.o.error);this.o.error=n.proxy(this.error,this);this.$obj!=null&&this.$obj[0].tagName.toLowerCase()=="form"?this.setupForm():this.sendRequest()},sendRequest:function(){n.ajax(this.o)},setupForm:function(){this.o.url=this.$obj.attr("action").indexOf("?")===-1?this.$obj.attr("action")+"?isAjax=true":this.$obj.attr("action")+"&isAjax=true";this.o.type="post";this.o.complete!=null&&(this.oldComplete=this.o.complete);this.o.beforeSubmit=n.proxy(this.beforeSubmit,this);this.o.complete=n.proxy(this.complete,this);this.$obj.ajaxForm(this.o)},beforeSubmit:function(t,i){if(!i.valid()||this.$obj.data("submited"))return!1;this.$obj.data("submited",!0);i.find("input:submit").each(function(){n(this).data("text",n(this).val())}).val("Отправка...").attr("disabled","disabled").addClass("submitting");i.find("a.submit").each(function(){n(this).data("text",n(this).text())}).text("Отправка...").attr("disabled","disabled").addClass("submitting")},complete:function(n,t){this.$obj.data("submited",!1);(this.oldSuccess!=null||this.o.replaceContent==null)&&this.enableSubmitButton();this.oldComplete&&this.oldComplete(n,t)},enableSubmitButton:function(){this.$obj!=null&&(this.$obj.find("input:submit").each(function(){n(this).val(n(this).data("text"))}).removeAttr("disabled").removeClass("submitting"),this.$obj.find("a.submit").each(function(){n(this).text(n(this).data("text"))}).removeAttr("disabled").removeClass("submitting"))},success:function(t){var i,u,r;if(t!=null){if(i=t,t.DataObject!=null&&(i=t.DataObject),t.Unauthorized==!0){location.reload(!0);return}if(i.Error!=null){n.utils.showError(i.Error);this.oldError!=null&&this.oldError(i);this.enableSubmitButton();return}if(t.Redirect!=null){window.location=t.Url;return}t.Content&&t.Content.indexOf("<")!=-1&&(u=n(t.Content),u.find("link").add(u.filter("link")).appendTo(n("head")));t.Changes!=null&&this.notifyAboutChanges(t.Changes);this.o.deferred!=undefined&&this.o.deferred.resolve(arguments);this.oldSuccess!=null?t.Content!=null?this.oldSuccess(t.Content):t.DataObject!=null?this.oldSuccess(t.DataObject):this.oldSuccess(t):this.o.replaceContent==!0&&this.$obj!=null&&(r=n(t.Content),r.ajaxForm(this.o),this.$obj.replaceWith(r),this.$obj=r,n(document).trigger("ajax-content-loaded",r))}},error:function(t,i,r){window.console&&window.console.log(i);this.oldError!=null&&this.oldError(t,i,r);r.toString().toLowerCase()=="forbidden"&&n.utils.showError("Доступ запрещен")},notifyAboutChanges:function(t){var i=this;n.each(t,function(t,r){var u=null,f,e;r.type=="changed"&&(u=i.getNameValueCollection(r.changes));f=(r.entityType+"-"+r.type).toLowerCase();e={id:r.id,changes:u};n(document).trigger(f,e)})},getNameValueCollection:function(t){for(var u,r=[],i=0;i<t.length;i++)n.isArray(t[i][1])?r.push({name:t[i][0],changes:this.getNameValueCollection(t[i][1])}):(u={name:t[i][0],value:t[i][1],additionalData:{previousValue:t[i][2]}},t[i].length>=4&&(u.additionalData.entityName=t[i][3].entityName),r.push(u));return r}}}(jQuery),function(n,t,i){function w(n,t){var v=n.keyCode,u=t.data("dropkick"),c=t.find(".dk_options"),r=t.hasClass("dk_open"),i=t.find(".dk_option_current"),y=c.find("li").first(),p=c.find("li").last(),l,a;switch(v){case s.enter:r?(f(i.find(".item"),t),h(t)):o(t);n.preventDefault();break;case s.up:r?(console.log(i),a=k(u.$options,i),e(a,t)):o(t);n.preventDefault();break;case s.down:r?(l=b(u.$options,i),e(l,t)):o(t);n.preventDefault()}}function b(t,i){var r=t.index(i);return r==t.size()-1?t.first():n(t.get(++r))}function k(t,i){var r=t.index(i);return r==0?t.last():n(t.get(--r))}function f(n,t,i){var u,f,r;u=n.attr("data-dk-dropdown-value");f=n.text();r=t.data("dropkick");$select=r.$select;$select.val(u);r.selfTriggered=!0;$select.trigger("change");r.selfTriggered=!1;u==""?t.find(".dk_label").removeClass("dk_selected"):t.find(".dk_label").addClass("dk_selected");t.find(".dk_label").text(f);i=i||!1;r.settings.change&&!i&&r.settings.change.call($select,u,f)}function e(n,t){t.find(".dk_option_current").removeClass("dk_option_current");n.addClass("dk_option_current");d(t,n)}function d(n,t){var i=t.prevAll("li").outerHeight()*t.prevAll("li").length;n.find(".dk_options_inner").animate({scrollTop:i+"px"},0)}function h(n){n.removeClass("dk_open");n.trigger("dropKickClosed")}function o(n){n.focus();var t=n.data("dropkick");n.find(".dk_options").css({top:n.find(".dk_toggle").outerHeight()-1});n.toggleClass("dk_open");n.trigger("dropKickOpened")}function g(t,i){var r=t,a=[],o,f,e,s,w,h,l,b;if(r=r.replace("{{ id }}",i.id),r=r.replace("{{ label }}",i.label),r=r.replace("{{ tabindex }}",i.tabindex),i.columns<1&&(i.columns=1),f=i.options.length/i.columns,i.options.length%i.columns>0&&(f=Math.ceil(f)),i.options&&i.options.length)for(e=0;e<i.columns;e++){for(s=[],w=Math.min(f*(e+1),i.options.length),h=f*e;h<w;h++){var p=n(i.options[h]),u=y;u=u.replace("{{ value }}",p.val());u=u.replace("{{ current }}",c(p.val())===i.value?"dk_option_current":"");u=u.replace("{{ text }}",p.text());s[s.length]=u}l=v;l=l.replace("{{ content }}",s.join(""));a[a.length]=l}return r=r.replace("{{ columns }}",a.join("")),o=n(r),i.columns>1&&o.addClass("multicolumn"),b=o.find(".item-container"),i.$options=b,o}function c(t){return n.trim(t).length>0?t:!1}var l=!1;n.browser.msie&&n.browser.version.substr(0,1)<7&&!n.browser.version.substring(0,2)>=10?l=!0:i.documentElement.className=i.documentElement.className+" dk_fouc";var r={},u=[],s={left:37,up:38,right:39,down:40,enter:13},a='<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}"><a href="#" class="dk_toggle"><span class="dk_label">{{ label }}<\/span><\/a><div class="dk_options">{{ columns }}<\/div><\/div>',v='<ul class="dk_options_inner">{{ content }}<\/ul>',y='<li class="item-container {{ current }}"><span class="item" data-dk-dropdown-value="{{ value }}">{{ text }}<\/span><\/li>',p={startSpeed:1e3,theme:!1,change:!1,reverseSync:!0};r.init=function(t){return t=n.extend({},p,t),this.each(function(){var i=n(this),s=i.find(":selected").first(),v=i.find("option"),r=i.data("dropkick")||{},h=i.attr("id")||i.attr("name"),y=t.width||i.outerWidth()-Math.round(i.outerWidth()/200),p=i.attr("tabindex")?i.attr("tabindex"):"0",o=!1,l,w=u.length;if(h+="-"+w,r.dropkickInitialized)return i;r.settings=t;r.tabindex=p;r.id=h;r.dropkickInitialized=!0;r.$original=s;r.$select=i;r.v=c(i.val())||c(s.attr("value"));r.label=s.text();r.options=v;r.columns=i.data("columns")>0?i.data("columns"):1;o=g(a,r);o.find(".dk_toggle").css({width:y+"px"});i.before(o);o=n("#dk_container_"+h).fadeIn(t.startSpeed);l=t.theme?t.theme:"default";o.addClass("dk_theme_"+l);r.theme=l;r.$dk=o;i.data("dropkick",r);o.data("dropkick",r);u[u.length]=i;o.bind("focus",function(){o.addClass("dk_focus")}).bind("blur",function(){o.removeClass("dk_open dk_focus");o.trigger("dropKickClosed")});r.settings.reverseSync&&i.bind("change",function(){if(r.selfTriggered!=!0){var t=n(':[data-dk-dropdown-value="'+i.val()+'"]',o);f(t,o,!0);e(t.parent(".item-container"),o)}});setTimeout(function(){i.hide()},0)})};r.theme=function(t){var r=n(this),i=r.data("dropkick"),u=i.$dk,f="dk_theme_"+i.theme;u.removeClass(f).addClass("dk_theme_"+t);i.theme=t};r.reset=function(){for(var t=0,i=u.length;t<i;t++){var r=u[t].data("dropkick"),n=r.$dk,o=n.find("li").first();n.find(".dk_label").text(r.label);n.find(".dk_options_inner").animate({scrollTop:0},0);e(o,n);f(o,n,!0)}};r.setValue=function(t){var r=n(this),u=r.data("dropkick"),i=u.$dk,e=n(':[data-dk-dropdown-value="'+t+'"]',i);f(e,i,!0)};n.fn.dropkick=function(n){if(!l){if(r[n])return r[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return r.init.apply(this,arguments)}};n(function(){n(".dk_toggle").live("click",function(i){var r=n(this).parents(".dk_container").first();return r.hasClass("dk_open")?h(r):(o(r),"ontouchstart"in t&&(r.addClass("dk_touch"),r.find(".dk_options_inner").addClass("scrollable vertical"))),i.preventDefault(),!1});n(".dk_toggle").live("mousedown",function(n){return n.preventDefault(),!1});n(".dk_options .item").live("mousedown",function(t){var r=n(this),i=r.parents(".dk_container").first(),u=i.data("dropkick");return h(i),f(r,i),e(r.parent(),i),t.preventDefault(),!1});n(i).bind("keydown.dk_nav",function(t){var r=n(".dk_container.dk_open"),u=n(".dk_container.dk_focus"),i=null;r.length?i=r:u.length&&!r.length&&(i=u);i&&w(t,i)})})}(jQuery,window,document),function(n){n.carousel=function(t,i){this.$root=n(t);this.o=n.extend(!0,{navigation:{leftright:this.$root.hasClass("left-right")}},i);this.init()};n.carousel.prototype={currentImageN:0,defaultInterval:7e3,extendedInterval:9e3,$bannersContainer:null,$bannersWindow:null,init:function(){this.bannerWidth=this.$root.width();this.$banners=n(".w-banner",this.$root).wrapAll("<div class='banners'><\/div>");this.$bannersContainer=n(".banners",this.$root).wrap("<div class='window'><\/div>");this.$bannersContainer.width(this.$banners.length*this.bannerWidth);this.initNavigation();this.startTimer();n(document).bind("carousel-banner-stop",n.proxy(this.stopTimer,this));n(document).bind("carousel-banner-start",n.proxy(this.startTimer,this))},initNavigation:function(){this.initSwitches();this.o.navigation.leftright&&this.initLeftRightNavigation()},initSwitches:function(){var r=n(".switches",this.$root).length==0,t,i;if(r){for(t='<ul class="switches">',i=0;i<this.$banners.length;i++)t+='<li class="switch" data-n='+i+"><\/li>";t+="<\/ul>";n(t).appendTo(this.$root)}this.$switches=n(".switches .switch",this.$root).click(n.utils.proxy(this.onSwitchClicked,this))},onSwitchClicked:function(t){this.stopTimer();this.setCurrentImage(n(t).data("n"));this.startTimer(this.extendedInterval)},initLeftRightNavigation:function(){var t=this;this.$root.prepend(n('<div class="navigation right"><\/div>'));this.$root.prepend(n('<div class="navigation left"><\/div>'));n(".navigation.left",this.$root).click(function(){t.stopTimer();t.showPrev();t.startTimer(this.extendedInterval)});n(".navigation.right",this.$root).click(function(){t.stopTimer();t.showNext();t.startTimer(this.extendedInterval)})},startTimer:function(t){this.timerHandle=setTimeout(n.utils.proxy(this.onTimerTick,this),t||this.defaultInterval)},stopTimer:function(){clearTimeout(this.timerHandle)},onTimerTick:function(){this.showNext();this.startTimer()},showNext:function(){this.currentImageN=this.currentImageN+1;this.currentImageN==this.$banners.length&&(this.currentImageN=0);this.setCurrentImage(this.currentImageN)},showPrev:function(){this.currentImageN=this.currentImageN-1;this.currentImageN==-1&&(this.currentImageN=this.$banners.length-1);this.setCurrentImage(this.currentImageN)},setCurrentImage:function(t){this.currentImageN=t;this.$bannersContainer.stop();this.$bannersContainer.animate({left:-t*this.bannerWidth},800,"swing");this.$switches.removeClass("selected");n(this.$switches[t]).addClass("selected");n(document).trigger("carousel-banner-changed")}};n.fn.carousel=function(t){return n(this).each(function(){new n.carousel(n(this),t)})}}(jQuery),function(n){n.fn.scrolloader=function(t){return t=n.extend({list:this,preserveHeader:!0,area:this,offsetName:"offset",filtersForm:null,additionalFilters:null,direction:"down",inputTextTimeout:500,loadOnInit:!1,showEndOfListMessage:!1,localStorageOffsetKey:null,autoSubmit:!0,invertArea:!1,behaviourOnScroll:"default",pagingMode:"offset"},t||{}),n(t.list).data("scrolloader",new n.scrolloader(t)),this};n.scrolloader=function(n){this.o=n;this.init()};n.scrolloader.prototype={isNextPageLoading:!1,noMoreItemsToLoadUp:!1,noMoreItemsToLoadDown:!1,isScrolling:!1,timer:0,nextPageToLoad:1,directionOptions:{UP:"up",DOWN:"down",BOTH:"both"},scrollingDirection:{DOWN:1,UP:2},behaviourOnScroll:{DEFAULT:"default",LIST:"list"},init:function(){this.$list=n(this.o.list);this.$list.addClass("scrolloader");this.detectListType();this.$area=n(this.o.area);this.lastScrollTop=this.$area.scrollTop();this.lastScrollingDirection=null;this.$area.scroll(n.utils.proxy(this.onAreaScrolled,this));this.$filtersForm=n(this.o.filtersForm);this.makeBaseUrl();this.o.autoSubmit&&this.bindFiltersFormChanges();this.o.loadOnInit&&this.loadNextPage();this.initRefreshOnSearch()},detectListType:function(){this.isTable=this.$list.children("tbody").length!=0?!0:!1},makeBaseUrl:function(){if(this.o.url==null){var n=this.$filtersForm.attr("action");n==null&&console.Write("SL - не удается найти адрес для запроса данных");this.o.url=n}},initRefreshOnSearch:function(){},bindFiltersFormChanges:function(){n(":input[type!=text]",this.$filtersForm).on("change",n.proxy(this.onFiltersChanged,this));n(":input[type=text]",this.$filtersForm).on("input",n.proxy(this.onTextBoxInput,this));n(".date-picker:input[type=text]",this.$filtersForm).on("change",n.proxy(this.onTextBoxInput,this));if(this.o.additionalFilters){n(":input[type!=text]",this.o.additionalFilters).on("change",n.proxy(this.onFiltersChanged,this));n(":input[type=text]",this.o.additionalFilters).on("input",n.proxy(this.onTextBoxInput,this));n(".date-picker:input[type=text]",this.o.additionalFilters).on("change",n.proxy(this.onTextBoxInput,this))}},onAreaScrolled:function(){!this.$list.is(":visible")&&this.items().length>1||(this.isNextPageLoading||this.setScrollingDirection(),this.o.localStorageOffsetKey!=null&&this.handleCurrentScrollOffset(),this.canLoadNextPage()&&(this.isScrolling=!0,this.loadNextPage(),this.isNextPageLoading=!0),this.lastScrollTop=this.$area.scrollTop())},handleCurrentScrollOffset:function(){this.timer!=0&&clearInterval(this.timer);this.timer=setTimeout(n.proxy(this.saveCurrentScrollOffset,this),500)},saveCurrentScrollOffset:function(){var t=this;this.items().each(function(){if(n(this).isVisibleOnViewport()){var i=n(this).prev("tr, li")?n(this).prev("tr, li").data("offset"):n(this).data("offset");return n.utils.saveToLocalStorage(t.o.localStorageOffsetKey,i),!1}})},canLoadNextPage:function(){var t=!1,i,r;return this.o.behaviourOnScroll==this.behaviourOnScroll.DEFAULT?t=this.leftToScroll()<100:this.o.behaviourOnScroll==this.behaviourOnScroll.LIST&&(i=n(document).height()-this.$list.height()-this.$list.position().top,r=this.scrollToBottom(),t=r<i),t&&this.scrollingIsRelevant()},leftToScroll:function(){return this.lastScrollingDirection==this.scrollingDirection.UP?this.$area.scrollTop():this.scrollToBottom()},scrollToBottom:function(){return this.getAreaHeight()-this.$area.scrollTop()-this.$area.outerHeight()},setScrollingDirection:function(){this.lastScrollingDirection=this.lastScrollTop>this.$area.scrollTop()?this.scrollingDirection.UP:this.scrollingDirection.DOWN},getAreaHeight:function(){return this.$area[0]==window?n(document).height():this.$area[0].scrollHeight},onTextBoxInput:function(){clearTimeout(this.timer);this.timer=setTimeout(n.proxy(this.onFiltersChanged,this),this.o.inputTextTimeout)},onFiltersChanged:function(){this.isScrolling=!1;this.noMoreItemsToLoadUp=!1;this.noMoreItemsToLoadDown=!1;this.lastScrollingDirection=null;this.nextPageToLoad=1;n.utils.saveToLocalStorage(this.o.localStorageOffsetKey,0);this.clearView();this.loadNextPage()},loadNextPage:function(){this.isNextPageLoading!=!0&&(this.showLoadingIndicator(),n.customAjax({url:this.getUrl(),success:n.proxy(this.onItemsLoaded,this)}))},scrollingIsRelevant:function(){switch(this.o.direction){case this.directionOptions.UP:return this.lastScrollingDirection==this.scrollingDirection.UP&&!this.noMoreItemsToLoadUp;case this.directionOptions.DOWN:return this.lastScrollingDirection==this.scrollingDirection.DOWN&&!this.noMoreItemsToLoadDown;case this.directionOptions.BOTH:return this.lastScrollingDirection==this.scrollingDirection.UP&&!this.noMoreItemsToLoadUp||this.lastScrollingDirection==this.scrollingDirection.DOWN&&!this.noMoreItemsToLoadDown;default:return!1}},showLoadingIndicator:function(){var t,i='<i class="loader-icon"><\/i>';this.isTable?(t=n('<tr class="ajax-loader"><td colspan="'+this.getNumberOfColumns()+'"><\/td><\/tr>'),t.find("td").append(i)):(t=n('<li class="ajax-loader" style="list-style:none"><\/li>'),t.append(i));this.insertContent(t)},hideLoadingIndicator:function(){n(".ajax-loader",this.$list).remove()},getNumberOfColumns:function(){var t=0;return this.$list.find("tr").first().children().each(function(){if(!n(this).attr("colspan")){t+=1;return}t+=n(this).attr("colspan")}),t},showEmptyListMessage:function(){if(n(".end-list",this.$list).length==0){var t=this.isTable?n('<tr><td colspan="'+this.getNumberOfColumns()+'" class="end-list">Конец списка<\/td><\/tr>'):n('<li class="end-list" style="list-style:none">Конец списка<\/li>');this.$list.append(t)}},onItemsLoaded:function(t){var r,i;if(!this.isScrolling&&this.items().length>1&&this.clearView(),this.nextPageToLoad++,this.isNextPageLoading=!1,this.hideLoadingIndicator(),r=t.replace(/<script{1}.*<\/script>{1}/g,""),!n.trim(r).length){if(this.lastScrollingDirection==this.scrollingDirection.UP?this.noMoreItemsToLoadUp=!0:(this.noMoreItemsToLoadDown=!0,n(document).trigger("end-of-list-is-reached")),this.o.showEndOfListMessage&&this.showEmptyListMessage(),this.o.onLoadedCallback!=undefined&&n.trim(r).length!=0)this.o.onLoadedCallback(n(t));return}if(i=n(t),this.insertContent(i),i.each(function(){n(document).trigger("ajax-content-loaded",n(this))}),this.o.onLoadedCallback!=undefined)this.o.onLoadedCallback(i)},getUrl:function(){var i=this.o.url,t=[],e=this.$filtersForm.serialize(),u,f,r;if(e!=""&&t.push(e),this.o.additionalFilters!=null&&(u=n(":input",this.o.additionalFilters).serialize(),u!=""&&t.push(u)),f=this.getOffset(),f!=null&&(t.push(this.o.offsetName+"="+f),t.push("&scrollingDirection="+this.lastScrollingDirection)),t.length!=0)for(i+=i.indexOf("?")==-1?"?":"&",r=0;r<t.length;r++)i+="&"+t[r];return i},getBaseUrl:function(){var n=this.$filtersForm.find("form").attr("action"),t;return((n==null||this.o.url!=null)&&(n=this.o.url),t=this.$filtersForm.serialize(),t=="")?n:n.indexOf("?")==-1?n+"?"+t:n+"&"+t},clearView:function(){if(this.o.preserveHeader){var n=this.getHeader();this.$list.html("");this.$list.append(n)}else this.$list.html("");this.offset=null},getHeader:function(){return this.items().first()},items:function(){var n=this.$list;return this.isTable&&(n=this.$list.children("tbody")),n.children(':not([class="ajax-loader"])')},getOffset:function(){if(this.o.pagingMode=="offset"){var t=this.items().filter("[data-{0}]".formatWith(this.o.offsetName)).last();return(this.lastScrollingDirection==this.scrollingDirection.UP&&(t=this.items().filter("[data-{0}]".formatWith(this.o.offsetName)).first()),t.length==0&&this.o.localStorageOffsetKey!=null)?n.utils.loadValueFromLocalStorage(this.o.localStorageOffsetKey):t.length!=0?t.data(this.o.offsetName):null}return this.nextPageToLoad},insertContent:function(n){var r=this.$list.children(":not(.ajax-loader)").length==0,t,i;this.lastScrollingDirection==this.scrollingDirection.UP?this.o.preserveHeader?this.getHeader().after(n):(this.$list.prepend(n),n.hasClass("ajax-loader")||(t=0,i=this.leftToScroll(),n.each(function(){this.offsetHeight!=undefined&&(t+=this.offsetHeight)}),this.$area.scrollTop(t+i))):this.$list.append(n);r&&this.o.invertArea&&this.$area.length!=0&&this.$area.scrollTop(this.$area[0].scrollHeight)},setLoadedCallback:function(n){this.o.onLoadedCallback=n}}}(jQuery),function(n){n.fn.flagIcon=function(){return n(this).each(function(){new n.flagIcon(n(this))})};n.flagIcon=function(t){this.$root=n(t);this.init()};n.flagIcon.prototype={$root:null,codes:[{id:1,countryName:"Австралия",phoneCode:61,countryClass:"australia"},{id:2,countryName:"Австрия",phoneCode:43,countryClass:"austria"},{id:3,countryName:"Азербайджан",phoneCode:994,countryClass:"azerbaijan"},{id:4,countryName:"Албания",phoneCode:355,countryClass:"albania"},{id:5,countryName:"Алжир",phoneCode:213,countryClass:"algeria"},{id:6,countryName:"Американское Самоа",phoneCode:1684,countryClass:"american-samoa"},{id:7,countryName:"Ангилья",phoneCode:1264,countryClass:"anguilla"},{id:8,countryName:"Ангола",phoneCode:244,countryClass:"angola"},{id:9,countryName:"Андорра",phoneCode:376,countryClass:"andorra"},{id:10,countryName:"Антигуа и Барбуда",phoneCode:1268,countryClass:"antigua-and-barbuda"},{id:11,countryName:"Аргентина",phoneCode:54,countryClass:"argentina"},{id:12,countryName:"Армения",phoneCode:374,countryClass:"armenia"},{id:13,countryName:"Аруба",phoneCode:297,countryClass:"aruba"},{id:14,countryName:"Афганистан",phoneCode:93,countryClass:"afghanistan"},{id:15,countryName:"Багамские Острова",phoneCode:1242,countryClass:"bahamas"},{id:16,countryName:"Бангладеш",phoneCode:880,countryClass:"bangladesh"},{id:17,countryName:"Барбадос",phoneCode:1246,countryClass:"barbados"},{id:18,countryName:"Бахрейн",phoneCode:973,countryClass:"bahrain"},{id:19,countryName:"Белиз",phoneCode:501,countryClass:"belize"},{id:20,countryName:"Белоруссия",phoneCode:375,countryClass:"belarus"},{id:21,countryName:"Бельгия",phoneCode:32,countryClass:"belgium"},{id:22,countryName:"Бенин",phoneCode:229,countryClass:"benin"},{id:23,countryName:"Бермуды",phoneCode:1441,countryClass:"bermuda"},{id:24,countryName:"Болгария",phoneCode:359,countryClass:"bulgaria"},{id:25,countryName:"Боливия",phoneCode:591,countryClass:"bolivia"},{id:26,countryName:"Бонэйр, Синт-Эстатиус и Саба",phoneCode:599,countryClass:"bonaire"},{id:27,countryName:"Босния и Герцеговина",phoneCode:387,countryClass:"bosnia-and-herzegovina"},{id:28,countryName:"Ботсвана",phoneCode:267,countryClass:"botswana"},{id:29,countryName:"Бразилия",phoneCode:55,countryClass:"brazil"},{id:30,countryName:"Бруней",phoneCode:673,countryClass:"brunei"},{id:31,countryName:"Буркина-Фасо",phoneCode:226,countryClass:"burkina-faso"},{id:32,countryName:"Бурунди",phoneCode:257,countryClass:"burundi"},{id:33,countryName:"Бутан",phoneCode:975,countryClass:"bhutan"},{id:34,countryName:"Вануату",phoneCode:678,countryClass:"vanuatu"},{id:35,countryName:"Ватикан",phoneCode:379,countryClass:"vatican"},{id:36,countryName:"Великобритания",phoneCode:44,countryClass:"united-kingdom"},{id:37,countryName:"Венгрия",phoneCode:36,countryClass:"hungary"},{id:38,countryName:"Венесуэла",phoneCode:58,countryClass:"venezuela"},{id:39,countryName:"Виргинские острова (Великобритания)",phoneCode:1284,countryClass:"british-virgin-islands"},{id:40,countryName:"Виргинские острова (США)",phoneCode:1340,countryClass:"united-states-virgin-islands"},{id:41,countryName:"Восточный Тимор",phoneCode:670,countryClass:"east-timor"},{id:42,countryName:"Вьетнам",phoneCode:84,countryClass:"vietnam"},{id:43,countryName:"Габон",phoneCode:241,countryClass:"gabon"},{id:44,countryName:"Гаити",phoneCode:509,countryClass:"haiti"},{id:45,countryName:"Гайана",phoneCode:592,countryClass:"guyana"},{id:46,countryName:"Гамбия",phoneCode:220,countryClass:"gambia"},{id:47,countryName:"Гана",phoneCode:233,countryClass:"ghana"},{id:48,countryName:"Гваделупа",phoneCode:590,countryClass:"guadeloupe"},{id:49,countryName:"Гватемала",phoneCode:502,countryClass:"guatemala"},{id:50,countryName:"Гвиана",phoneCode:594,countryClass:"france"},{id:51,countryName:"Гвинея",phoneCode:224,countryClass:"guinea"},{id:52,countryName:"Гвинея-Бисау",phoneCode:245,countryClass:"Guinea-Bissau"},{id:53,countryName:"Германия",phoneCode:49,countryClass:"germany"},{id:54,countryName:"Гибралтар",phoneCode:350,countryClass:"gibraltar"},{id:55,countryName:"Гондурас",phoneCode:504,countryClass:"honduras"},{id:56,countryName:"Гонконг",phoneCode:852,countryClass:"hong-kong"},{id:57,countryName:"Гренада",phoneCode:1473,countryClass:"grenada"},{id:58,countryName:"Гренландия",phoneCode:299,countryClass:"greenland"},{id:59,countryName:"Греция",phoneCode:30,countryClass:"greece"},{id:60,countryName:"Грузия",phoneCode:995,countryClass:"georgia"},{id:61,countryName:"Гуам",phoneCode:1671,countryClass:"guam"},{id:62,countryName:"Дания",phoneCode:45,countryClass:"denmark"},{id:63,countryName:"Демократическая Республика Конго",phoneCode:243,countryClass:"democratic-republic-of-the-congo"},{id:64,countryName:"Джибути",phoneCode:253,countryClass:"djibouti"},{id:65,countryName:"Диего-Гарсия",phoneCode:246,countryClass:"united-kingdom"},{id:66,countryName:"Доминика",phoneCode:1767,countryClass:"dominica"},{id:67,countryName:"Доминиканская Республика",phoneCode:1809,countryClass:"dominican-republic"},{id:68,countryName:"Египет",phoneCode:20,countryClass:"egypt"},{id:69,countryName:"Замбия",phoneCode:260,countryClass:"zambia"},{id:70,countryName:"Зимбабве",phoneCode:263,countryClass:"zimbabwe"},{id:71,countryName:"Израиль",phoneCode:972,countryClass:"israel"},{id:72,countryName:"Индия",phoneCode:91,countryClass:"india"},{id:73,countryName:"Индонезия",phoneCode:62,countryClass:"indonesia"},{id:74,countryName:"Иордания",phoneCode:962,countryClass:"jordan"},{id:75,countryName:"Ирак",phoneCode:964,countryClass:"iraq"},{id:76,countryName:"Иран",phoneCode:98,countryClass:"iran"},{id:77,countryName:"Ирландия",phoneCode:353,countryClass:"ireland"},{id:78,countryName:"Исландия",phoneCode:354,countryClass:"iceland"},{id:79,countryName:"Испания",phoneCode:34,countryClass:"spain"},{id:80,countryName:"Италия",phoneCode:39,countryClass:"italy"},{id:81,countryName:"Йемен",phoneCode:967,countryClass:"yemen"},{id:82,countryName:"Кабо-Верде",phoneCode:238,countryClass:"cape-verde"},{id:83,countryName:"Казахстан",phoneCode:7,countryClass:"kazakhstan"},{id:84,countryName:"Каймановы острова",phoneCode:1345,countryClass:"cayman-islands"},{id:85,countryName:"Камбоджа",phoneCode:855,countryClass:"cambodia"},{id:86,countryName:"Камерун",phoneCode:237,countryClass:"cameroon"},{id:87,countryName:"Канада",phoneCode:1,countryClass:"canada"},{id:88,countryName:"Катар",phoneCode:974,countryClass:"qatar"},{id:89,countryName:"Кения",phoneCode:254,countryClass:"kenya"},{id:90,countryName:"Кипр",phoneCode:357,countryClass:"cyprus"},{id:91,countryName:"Киргизия",phoneCode:996,countryClass:"kyrgyzstan"},{id:92,countryName:"Кирибати",phoneCode:686,countryClass:"kiribati"},{id:93,countryName:"Китай",phoneCode:86,countryClass:"china"},{id:94,countryName:"Колумбия",phoneCode:57,countryClass:"colombia"},{id:95,countryName:"Коморы и Майотта",phoneCode:269,countryClass:"comoros"},{id:96,countryName:"Конго",phoneCode:242,countryClass:"congo"},{id:97,countryName:"Коста-Рика",phoneCode:506,countryClass:"costa-rica"},{id:98,countryName:"Кот-д'Ивуар",phoneCode:225,countryClass:"Cote_d'ivoire"},{id:99,countryName:"Куба",phoneCode:53,countryClass:"cuba"},{id:100,countryName:"Кувейт",phoneCode:965,countryClass:"kuwait"},{id:101,countryName:"Кюрасао",phoneCode:599,countryClass:"curacao"},{id:102,countryName:"Лаос",phoneCode:856,countryClass:"laos"},{id:103,countryName:"Латвия",phoneCode:371,countryClass:"latvia"},{id:104,countryName:"Лесото",phoneCode:266,countryClass:"lesotho"},{id:105,countryName:"Либерия",phoneCode:231,countryClass:"liberia"},{id:106,countryName:"Ливан",phoneCode:961,countryClass:"lebanon"},{id:107,countryName:"Ливия",phoneCode:218,countryClass:"libya"},{id:108,countryName:"Литва",phoneCode:370,countryClass:"lithuania"},{id:109,countryName:"Лихтенштейн",phoneCode:423,countryClass:"liechtenstein"},{id:110,countryName:"Люксембург",phoneCode:352,countryClass:"luxembourg"},{id:111,countryName:"Маврикий",phoneCode:230,countryClass:"mauritius"},{id:112,countryName:"Мавритания",phoneCode:222,countryClass:"mauritania"},{id:113,countryName:"Мадагаскар",phoneCode:261,countryClass:"madagascar"},{id:114,countryName:"Макау",phoneCode:853,countryClass:"macau"},{id:115,countryName:"Македония",phoneCode:389,countryClass:"macedonia"},{id:116,countryName:"Малави",phoneCode:265,countryClass:"malawi"},{id:117,countryName:"Малайзия",phoneCode:60,countryClass:"malaysia"},{id:118,countryName:"Мали",phoneCode:223,countryClass:"mali"},{id:119,countryName:"Мальдивы",phoneCode:960,countryClass:"maldives"},{id:120,countryName:"Мальта",phoneCode:356,countryClass:"malta"},{id:121,countryName:"Марокко",phoneCode:212,countryClass:"morocco"},{id:122,countryName:"Мартиника",phoneCode:596,countryClass:"martinique"},{id:123,countryName:"Маршалловы Острова",phoneCode:692,countryClass:"marshall-islands"},{id:124,countryName:"Мексика",phoneCode:52,countryClass:"mexico"},{id:125,countryName:"Микронезия",phoneCode:691,countryClass:"micronesia"},{id:126,countryName:"Мозамбик",phoneCode:258,countryClass:"mozambique"},{id:127,countryName:"Молдавия",phoneCode:373,countryClass:"moldova"},{id:128,countryName:"Монако",phoneCode:377,countryClass:"monaco"},{id:129,countryName:"Монголия",phoneCode:976,countryClass:"mongolia"},{id:130,countryName:"Монтсеррат",phoneCode:1664,countryClass:"montserrat"},{id:131,countryName:"Мьянма",phoneCode:95,countryClass:"myanmar"},{id:132,countryName:"Намибия",phoneCode:264,countryClass:"namibia"},{id:133,countryName:"Науру",phoneCode:674,countryClass:"nauru"},{id:134,countryName:"Непал",phoneCode:977,countryClass:"nepal"},{id:135,countryName:"Нигер",phoneCode:227,countryClass:"niger"},{id:136,countryName:"Нигерия",phoneCode:234,countryClass:"nigeria"},{id:137,countryName:"Нидерланды",phoneCode:31,countryClass:"netherlands"},{id:138,countryName:"Никарагуа",phoneCode:505,countryClass:"nicaragua"},{id:139,countryName:"Ниуэ",phoneCode:683,countryClass:"niue"},{id:140,countryName:"Новая Зеландия",phoneCode:64,countryClass:"new-zealand"},{id:141,countryName:"Новая Каледония",phoneCode:687,countryClass:"new-caledonia"},{id:142,countryName:"Норвегия",phoneCode:47,countryClass:"norway"},{id:143,countryName:"Объединенные Арабские Эмираты",phoneCode:971,countryClass:"united-arab-emirates"},{id:144,countryName:"Оман",phoneCode:968,countryClass:"oman"},{id:145,countryName:"Остров Вознесения",phoneCode:247,countryClass:"united-kingdom"},{id:146,countryName:"Остров Норфолк",phoneCode:6723,countryClass:"norfolk-island"},{id:147,countryName:"Острова Кука",phoneCode:682,countryClass:"cook-islands"},{id:148,countryName:"Пакистан",phoneCode:92,countryClass:"pakistan"},{id:149,countryName:"Палау",phoneCode:680,countryClass:"palau"},{id:150,countryName:"Палестина",phoneCode:970,countryClass:"palestine"},{id:151,countryName:"Панама",phoneCode:507,countryClass:"panama"},{id:152,countryName:"Папуа - Новая Гвинея",phoneCode:675,countryClass:"papua-new-guinea"},{id:153,countryName:"Парагвай",phoneCode:595,countryClass:"paraguay"},{id:154,countryName:"Перу",phoneCode:51,countryClass:"peru"},{id:155,countryName:"Польша",phoneCode:48,countryClass:"poland"},{id:156,countryName:"Португалия",phoneCode:351,countryClass:"portugal"},{id:157,countryName:"Пуэрто-Рико",phoneCode:1787,countryClass:"puerto-rico"},{id:158,countryName:"Реюньон",phoneCode:262,countryClass:"france"},{id:159,countryName:"Россия",phoneCode:7,countryClass:"russia"},{id:160,countryName:"Руанда",phoneCode:250,countryClass:"rwanda"},{id:161,countryName:"Румыния",phoneCode:40,countryClass:"romania"},{id:162,countryName:"Сальвадор",phoneCode:503,countryClass:"el-salvador"},{id:163,countryName:"Самоа",phoneCode:685,countryClass:"samoa"},{id:164,countryName:"Сан-Марино",phoneCode:378,countryClass:"san-marino"},{id:165,countryName:"Сан-Томе и Принсипи",phoneCode:239,countryClass:"sao-tome-and-principe"},{id:166,countryName:"Саудовская Аравия",phoneCode:966,countryClass:"saudi-arabia"},{id:167,countryName:"Свазиленд",phoneCode:268,countryClass:"swaziland"},{id:168,countryName:"Святая Елена",phoneCode:290,countryClass:"saint-helena"},{id:169,countryName:"Северная Корея",phoneCode:850,countryClass:"north-korea"},{id:170,countryName:"Северные Марианские острова",phoneCode:1,countryClass:"northern-mariana-islands"},{id:171,countryName:"Сейшельские острова",phoneCode:248,countryClass:"seychelles"},{id:172,countryName:"Сен-Бартелеми",phoneCode:590,countryClass:"france"},{id:173,countryName:"Сен-Мартен",phoneCode:590,countryClass:"united-kingdom"},{id:174,countryName:"Сенегал",phoneCode:221,countryClass:"senegal"},{id:175,countryName:"Сент-Винсент и Гренадины",phoneCode:1784,countryClass:"saint-vincent-and-the-grenadines"},{id:176,countryName:"Сент-Китс и Невис",phoneCode:1869,countryClass:"saint-kitts-and-nevis"},{id:177,countryName:"Сент-Люсия",phoneCode:1758,countryClass:"saint-lucia"},{id:178,countryName:"Сент-Пьер и Микелон",phoneCode:508,countryClass:"Saint-Pierre_and_Miquelon"},{id:179,countryName:"Сербия",phoneCode:381,countryClass:"serbia"},{id:180,countryName:"Сингапур",phoneCode:65,countryClass:"singapore"},{id:181,countryName:"Синт-Мартен",phoneCode:1721,countryClass:"sint-maarten"},{id:182,countryName:"Сирия",phoneCode:963,countryClass:"syria"},{id:183,countryName:"Словакия",phoneCode:421,countryClass:"slovakia"},{id:184,countryName:"Словения",phoneCode:386,countryClass:"slovenia"},{id:185,countryName:"Соломоновы Острова",phoneCode:677,countryClass:"solomon-islands"},{id:186,countryName:"Сомали",phoneCode:252,countryClass:"somalia"},{id:187,countryName:"Судан",phoneCode:249,countryClass:"sudan"},{id:188,countryName:"Суринам",phoneCode:597,countryClass:"suriname"},{id:189,countryName:"США",phoneCode:1,countryClass:"united-states"},{id:190,countryName:"Сьерра-Леоне",phoneCode:232,countryClass:"sierra-leone"},{id:191,countryName:"Таджикистан",phoneCode:992,countryClass:"tajikistan"},{id:192,countryName:"Таиланд",phoneCode:66,countryClass:"thailand"},{id:193,countryName:"Тайвань",phoneCode:886,countryClass:"taiwan"},{id:194,countryName:"Танзания",phoneCode:255,countryClass:"tanzania"},{id:195,countryName:"Тёркс и Кайкос",phoneCode:1649,countryClass:"turks-and-caicos-islands"},{id:196,countryName:"Того",phoneCode:228,countryClass:"togo"},{id:197,countryName:"Токелау",phoneCode:690,countryClass:"tokelau"},{id:198,countryName:"Тонга",phoneCode:676,countryClass:"tonga"},{id:199,countryName:"Тринидад и Тобаго",phoneCode:1868,countryClass:"trinidad-and-tobago"},{id:200,countryName:"Тувалу",phoneCode:688,countryClass:"tuvalu"},{id:201,countryName:"Тунис",phoneCode:216,countryClass:"tunisia"},{id:202,countryName:"Туркмения",phoneCode:993,countryClass:"turkmenistan"},{id:203,countryName:"Турция",phoneCode:90,countryClass:"turkey"},{id:204,countryName:"Уганда",phoneCode:256,countryClass:"uganda"},{id:205,countryName:"Узбекистан",phoneCode:998,countryClass:"uzbekistan"},{id:206,countryName:"Украина",phoneCode:380,countryClass:"ukraine"},{id:207,countryName:"Уоллис и Футуна",phoneCode:681,countryClass:"france"},{id:208,countryName:"Уругвай",phoneCode:598,countryClass:"uruguay"},{id:209,countryName:"Фарерские острова",phoneCode:298,countryClass:"faroe-islands"},{id:210,countryName:"Фиджи",phoneCode:679,countryClass:"fiji"},{id:211,countryName:"Филиппины",phoneCode:63,countryClass:"philippines"},{id:212,countryName:"Финляндия",phoneCode:358,countryClass:"finland"},{id:213,countryName:"Фолклендские острова",phoneCode:500,countryClass:"falkland-islands"},{id:214,countryName:"Франция",phoneCode:33,countryClass:"france"},{id:215,countryName:"Французская Полинезия",phoneCode:689,countryClass:"french-polynesia"},{id:216,countryName:"Хорватия",phoneCode:385,countryClass:"croatia"},{id:217,countryName:"Центральноафриканская Республика",phoneCode:236,countryClass:"central-african-republic"},{id:218,countryName:"Чад",phoneCode:235,countryClass:"chad"},{id:219,countryName:"Черногория",phoneCode:382,countryClass:"montenegro"},{id:220,countryName:"Чехия",phoneCode:420,countryClass:"czech-republic"},{id:221,countryName:"Чили",phoneCode:56,countryClass:"chile"},{id:222,countryName:"Швейцария",phoneCode:41,countryClass:"switzerland"},{id:223,countryName:"Швеция",phoneCode:46,countryClass:"sweden"},{id:224,countryName:"Шри-Ланка",phoneCode:94,countryClass:"sri-lanka"},{id:225,countryName:"Эквадор",phoneCode:593,countryClass:"ecuador"},{id:226,countryName:"Экваториальная Гвинея",phoneCode:240,countryClass:"equatorial-guinea"},{id:227,countryName:"Эритрея",phoneCode:291,countryClass:"eritrea"},{id:228,countryName:"Эстония",phoneCode:372,countryClass:"estonia"},{id:229,countryName:"Эфиопия",phoneCode:251,countryClass:"ethiopia"},{id:230,countryName:"Южная Корея",phoneCode:82,countryClass:"south-korea"},{id:231,countryName:"Южно-Африканская Республика",phoneCode:27,countryClass:"south-africa"},{id:232,countryName:"Южный Судан",phoneCode:211,countryClass:"south-sudan"},{id:233,countryName:"Ямайка",phoneCode:1876,countryClass:"jamaica"},{id:234,countryName:"Япония",phoneCode:81,countryClass:"japan"}],itemTemplate:'<li data-id="{0}" data-code="{1}" data-title="{2}" class="country-entry"><span class="{3} flag"><\/span><span class="{3}">{2} +{1}<\/span><\/li>',commonCountriesIds:[159,206,20],$itemList:null,init:function(){this.$itemList=n(".phone-codes ul",this.$root);this.addCommonCountries();this.addCountries();this.initCurrentFlag();this.showFlagIcon();this.hideOnBlur();this.onCountryEntryClick();this.onFlagIconClick()},addCommonCountries:function(){n.each(this.commonCountriesIds,n.proxy(function(n,t){this.addCountryToList(this.codes[t-1])},this));this.$itemList.append(n('<li class="separator"><\/li>'))},addCountries:function(){n.each(this.codes,n.proxy(function(n,t){this.addCountryToList(t)},this))},addCountryToList:function(t){var i=n(this.itemTemplate.formatWith(t.id,t.phoneCode,t.countryName,t.countryClass));this.$itemList.append(i)},initCurrentFlag:function(){var i=n(".phone-number-input input",this.$root),t=i.val();t=t==undefined?"":t.replace(/[^0-9]/g,"");i.val(t);this.isValidNumber(t)?this.searchPhoneCode(t):this.setDefaultFlag()},isValidNumber:function(n){return!(n==undefined||n.length!==12&n.length!==11)},searchPhoneCode:function(n){n.length===12?this.searchThreeDigitCode(n):this.searchOneTwoOrFourDigitCode(n)},searchThreeDigitCode:function(t){var i=t.substring(0,3),r=n('.country-entry[data-code="'+i+'"]',this.$root).first();this.changeCurrentFlag(r)},searchOneTwoOrFourDigitCode:function(t){for(var u,r,i=4;i>0;i--)if(i===3&&i--,u=t.substring(0,i),r=n('.country-entry[data-code="'+u+'"]',this.$root).first(),r.exists()){this.changeCurrentFlag(r);break}},setDefaultFlag:function(){var t=n('.country-entry[data-title="Россия"]',this.$root);this.changeCurrentFlag(t,!0)},changeCurrentFlag:function(t,i){var u=n(t).data("code"),f=n(t).find("span").attr("class"),e=n(t).data("title"),r=this.createPhoneMask(u);n("dt .flag",this.$root).attr("class",f);n("dt .flag",this.$root).attr("title",e);n(".phone-input",this.$root).mask(r);n(".phone-input",this.$root).attr("placeholder",r.replace(/d/g,"_"));i||n(".phone-input",this.$root).focus()},createPhoneMask:function(n){var t;switch(n.toString().length){case 1:t="+"+n+" ddd ddd dddd";break;case 2:t=n===86?"+"+n+" dd ddd dddddd":"+"+n+" dd ddd dddd";break;case 3:t=n===374?"+"+n+" dd dd dd dd":"+"+n+" dd ddd dddd";break;default:t="+"+n+" ddd dddd"}return t},showFlagIcon:function(){var t=n(".dropdown-flags",this.$root);t.show()},hideOnBlur:function(){n(document).on("click",function(t){n(t.target).parents().hasClass("dropdown-flags")||n(".phone-codes").hide()})},onCountryEntryClick:function(){var t=n(".country-entry",this.$root);t.on("click",n.proxy(function(n){this.changeCurrentFlag(n.currentTarget)},this))},onFlagIconClick:function(){n(".dropdown-flags",this.$root).off("click");n(".dropdown-flags",this.$root).on("click",function(){n(".phone-codes",this).toggle()})}}}(jQuery),function(n){n.fn.extend({popup:function(t,i){var r=[];return n(this).each(function(){var f=n(this),u;if(typeof t=="string"){if(u=f.data("popup"),u==null)return;u[t].call(u,i)}else r.push(new n.popup(f,t))}),r}});n.popup=function(n,t){this.$root=n;this.o=t;this.init()};n.popup.prototype={$root:null,$overlay:null,o:null,defaults:{offsetTop:null,overlayOpacity:.3,keyEsc:!0,overlayClick:!0,needOverlay:!0,overlayId:"simple-popup-overlay"},init:function(){if(this.$root.is("script")){n("head").append(this.$root);return}var t=this.$root.data();this.o=n.extend({},this.defaults,this.o,t||{});n(window).bind("resize",n.proxy(this.display,this));n(document).keyup(n.proxy(this.onKeyUp,this));this.$root[0].tagName.toLowerCase()=="a"?this.initPopupOnLink():this.openPopup();n(document).bind("close-popup",n.proxy(function(){this.close()},this));n(document).bind("simple-popup-recalculate-position",n.proxy(this.recalcualtePosition,this))},openPopup:function(){this.showOverlay();var t=n("<div>").addClass("simple-popup").attr("id","simple-popup");t.html(this.$root);n("body").append(t);t.css("width","auto");t.data("popup",this);this.display();n(".close-popup, .cancel-link, .cancel",t).click(n.proxy(function(){return this.close(),!1},this))},buildOverlay:function(){this.o.needOverlay&&((this.$overlay=n("#"+this.o.overlayId),this.$overlay.size())||(this.$overlay=n("<div>").attr("id",this.o.overlayId).css({display:"none"}),n("body").append(this.$overlay),this.o.overlayClick&&this.$overlay.click(n.proxy(this.close,this))))},showOverlay:function(){if(this.buildOverlay(),this.$overlay){this.$overlay.show();var t=this.$overlay.css("opacity");this.$overlay.css("opacity",0);this.$overlay.animate({opacity:t},n.proxy(this.animationFinished,this))}},animationFinished:function(){var n=this.$root.data("popup-loaded-callback");n!=undefined&&n()},onKeyUp:function(n){this.o.keyEsc&&n.keyCode==27&&this.close()},close:function(){n("#simple-popup").remove();this.$overlay&&this.$overlay.hide();n(document).trigger("popup-closed")},display:function(){this.$overlay&&this.$overlay.css({width:n(window).width(),height:n(window).height()});this.recalcualtePosition()},recalcualtePosition:function(){var i=n("#simple-popup"),r=n(window).scrollTop()+(n(window).height()-i.height())/2,t;r<5&&(r=5);t=i.outerWidth();t<this.o.width&&(t=this.o.width);i.css({top:r,left:(n(window).innerWidth()-t)/2})},initPopupOnLink:function(){this.$root.click(n.proxy(this.onPopupLinkClick,this))},onPopupLinkClick:function(t){t.stopPropagation();t.preventDefault();var i=n(t.target).closest("a");return i.data("active")?!1:(i.data("active",!0),n.customAjax({url:i.attr("href"),cache:!1,success:n.proxy(this.onPopupContentLoaded,this,i)}),!1)},onPopupContentLoaded:function(t,i){var r=n(i),f=r.filter("script"),u;r=r.not(f);u=n("<div>");u.append(r);u.popup(this.o);n("head").append(f);t.data("active",!1);n(document).trigger("ajax-content-loaded",u)}}}(jQuery),function(n){n.tabs=function(t,i){if(!i.name){var r="tab";n.tabs.elements.length&&(r+=n.tabs.elements.length)}this.name=r;this.$root=n(t);this.o=i;n.tabs.elements.push(this);this.init()};n.tabs.elements=[];n.tabs.prototype={o:null,name:null,$navigation:null,$containers:null,$root:null,init:function(){var t=this;t.fillElements();t.addClasses();t.startup();n(".tabs-nav li a",t.$root).click(function(){return t.select.call(t,t.getHrefFromLink(n(this))),!1});n(window).on("hashchange",function(){t.startup()})},startup:function(){var t=n.utils.getAnchorValueByName(this.name);t&&this.select.call(this,t)||this.select.call(this,this.getHrefFromLink(n(this.$navigation.first())));this.$root.closest("#simple-popup")!==undefined&&n(document).trigger("simple-popup-recalculate-position")},getHrefFromLink:function(n){return n.href().split("#")[1]},fillElements:function(){this.$navigation=n("ul li a",this.$root);this.$containers=this.$root.children("div")},addClasses:function(){this.$root.addClass("tabs");this.$root.children("ul").addClass("tabs-nav");this.$navigation=n("ul li a",this.$root);this.$containers=this.$root.children("div");this.$containers.addClass("tabs-panel");n("ul li:last-child",this.$root).addClass("last")},generateUniqueNames:function(){var t=this;this.$containers.each(function(){n(this).id(t.name+"-"+n(this).id())});this.$navigation.each(function(){var i=n(this).href();i=i.split("#");i="#"+t.name+"-"+i[1];n(this).href(i)})},select:function(t){var u=this.getLinkByHash(t),i=this.getContainerByHash(t),r;return!u[0]||!i?!1:(this.$navigation.closest("li").removeClass("selected left right"),this.$containers.not(i).hide(),r=u.closest("li"),r.addClass("selected"),r.prevAll().addClass("left"),r.nextAll().addClass("right"),i.show(),this.replacePlaceHolder(n(".placeholder",i)),n.utils.setAnchorValue(this.name,t),!0)},getLinkByHash:function(t){return this.$navigation.filter(function(){return n(this).href().split("#")[1]==t})},getContainerByHash:function(t){return this.$containers.filter(function(){return n(this).id()==t})},replacePlaceHolder:function(t){var i=n(t),r;i.size()&&(r=i.data("url"),n.customAjax({url:r,success:function(t){var r=n(t);i.parent().fillWithAjaxContent(r)}}))}};n.fn.extend({tabs:function(t){return this.each(function(){var i=n.extend({},t);new n.tabs(n(this),i)})}})}(jQuery),function(n){n.fn.autocomplete=function(t){var i={startText:"",emptyText:"Нет результатов",selectedItemProp:"value",selectedValuesProp:"value",queryParam:"term",delimiter:null,additionalData:null,minChars:2,keyDelay:400,resultsHighlight:!0,neverSubmit:!1,selectionLimit:!1,showResultList:!0,start:function(){},formatList:!1,beforeRetrieve:function(n){return n},retrieveComplete:function(n){return n},resultClick:function(){},resultsComplete:function(){}},r=(new Date).getMilliseconds();return this.each(function(u){function b(){var n=f.offset();n.top+=f.outerHeight();e.css({top:n.top,left:n.left});o.css("width",f.outerWidth());e.show()}function k(){var t,i,r;if(v==46||v>8&&v<32)return e.hide();(t=f.val().replace(/[\\]+|[\/]+/g,""),t!=a)&&(f.data("autocomplete-options").delimiter&&t.indexOf(f.data("autocomplete-options").delimiter)&&(i=t.split(f.data("autocomplete-options").delimiter),t=i[i.length-1]),a=t,t.length>=f.data("autocomplete-options").minChars?(f.addClass("ac-loading"),r=f.data("autocomplete-options").url+"?"+f.data("autocomplete-options").queryParam+"="+encodeURIComponent(t),f.data("autocomplete-options").additionalData&&(r+="&additionalData="+encodeURIComponent(f.data("autocomplete-options").additionalData)),n.post(r,function(n){var i=f.data("autocomplete-options").retrieveComplete.call(this,n);f.is(":focus")&&d(i,t)})):(f.removeClass("ac-loading"),e.hide()))}function d(t,i){var l,v,p,s,r;i=i.toLowerCase();l=0;e.html(o.html("")).hide();v=0;for(p in t)t.hasOwnProperty(p)&&v++;for(s=0;s<v;s++){r=s;y++;var k=t[r].value,h=n('<li class="ac-result-item" ac-id="ac-result-item-'+r+'"><\/li>').click(function(){var t=n(this).data("data"),u=t.num,r=t.attributes,i;a="";i=f.data("autocomplete-options").delimiter;i&&f.val().indexOf(i)!=-1?g(r):f.val(r.value).focus();f.data("autocomplete-options").resultClick.call(this,t);e.hide();f.trigger("input").trigger("change")}).mousedown(function(){c=!1}).mouseover(function(){n("li",o).removeClass("active");n(this).addClass("active")}).data("data",{attributes:t[r],num:y}),u=n.extend({},t[r]),w=new RegExp("(?![^&;]+;)(?!<[^<>]*)("+i+")(?![^<>]*>)(?![^&;]+;)","gi");f.data("autocomplete-options").resultsHighlight&&(u[f.data("autocomplete-options").selectedItemProp]=u[f.data("autocomplete-options").selectedItemProp].toString().replace(w,"<em>$1<\/em>"));h=f.data("autocomplete-options").formatList?f.data("autocomplete-options").formatList.call(this,u,h):h.html(u[f.data("autocomplete-options").selectedItemProp]);o.append(h);delete u;l++}f.removeClass("ac-loading");l<=0&&o.html('<li class="ac-message">'+f.data("autocomplete-options").emptyText+"<\/li>");b();f.data("autocomplete-options").resultsComplete.call(this)}function g(n){for(var t=f.val().split(f.data("autocomplete-options").delimiter),i=t.length-1;i>=0;i--)if(n.value.toLowerCase().indexOf(t[i].toLowerCase().trim())!=-1){t[i]=n.value.trim();break}f.val(t.join(", ").trim(",").trim().replace(/\s+/g," ")).focus()}function w(t){var i,u,r;n(":visible",e).length>0&&(i=n("li",e),u=t=="down"?i.eq(0):i.filter(":last"),r=n("li.active:first",e),r.length>0&&(u=t=="down"?r.next():r.prev()),i.removeClass("active"),u.addClass("active"))}var f=n(this),p,h,y;if(!f.data("autocomplete-added")){p=n.extend(i,t);f.data("autocomplete-options",p);h=r+"_"+u;f.data("autocomplete-options").start.call(this);f.attr("autocomplete","off").addClass("ac-input").attr("ac-id","ac-input"+h);f.val().trim()==""&&f.val(f.data("autocomplete-options").startText);f.data("autocomplete-added",!0);var c=!1,e=n('<div class="ac-results" ac-id="ac-results-'+h+'"><\/div>').hide(),o=n('<ul class="ac-list"><\/ul>');n("body").append(e);var l=null,a="",v,s=!1;f.focus(function(){return n(this).val()==f.data("autocomplete-options").startText&&n(this).val(""),c=!0,!0}).blur(function(){n(this).val()==""?n(this).val(f.data("autocomplete-options").startText):c&&e.hide()}).bind("keydown.autocomplete",function(t){s=!1;switch(t.keyCode){case 38:t.preventDefault();w("up");break;case 40:t.preventDefault();w("down");break;case 13:var i=n("li.active:first",e);e.is(":visible")&&i.length>0&&(s=!0,i.click(),e.hide(),t.preventDefault());break;default:l&&clearTimeout(l);l=setTimeout(function(){k()},f.data("autocomplete-options").keyDelay)}}).bind("keypress.autocomplete",function(n){s&&(s=!1,n.preventDefault())});y=0}})}}(jQuery),function(n){n.autocomplete={};n.autocomplete.unobtrusive={parse:function(t){n(t).find("input[data-autocomplete=true]").each(function(){var t=n(this).data("autocomplete-min-length"),i,r;t==undefined&&(t=2);i=n(this).data("autocomplete-delimiter");r=n("#"+n(this).data("autocomplete-additional-object-field-id")).val();n(this).autocomplete({url:n(this).data("autocomplete-url"),minChars:t,queryParam:"term",selectionLimit:1,delimiter:i,additionalData:r})})}}}(jQuery),function(n){n.makePayoutOrder=function(n,t){this.$root=n;this.o=t;this.init()};n.makePayoutOrder.prototype={$root:null,o:null,$subform:null,typeSelector:null,init:function(){this.typeSelector=this.o.typeSelector?this.o.typeSelector:"#Type";this.$subform=n(".js-subform",this.$root);this.$subform.remove();this.refreshForm()},initMask:function(){n("#WebMoney_PurseNumber",this.$subForms).mask("R dddd-dddd-dddd");n("#WebMoneyMethod_PurseNumber",this.$subForms).mask("R dddd-dddd-dddd");n("#PhonePayoutMethod_Phone",this.$subForms).mask("+7(ddd)ddd-dd-dd");this.o.country==2?(n("#Qiwi_PurseNumber",this.$subForms).mask("380ddddddddd"),n("#QiwiMethod_PurseNumber",this.$subForms).mask("380ddddddddd")):this.o.country==3?(n("#Qiwi_PurseNumber",this.$subForms).mask("375ddddddddd"),n("#QiwiMethod_PurseNumber",this.$subForms).mask("375ddddddddd")):(n("#Qiwi_PurseNumber",this.$subForms).mask("7dddddddddd"),n("#QiwiMethod_PurseNumber",this.$subForms).mask("7dddddddddd"));n("#BankCard_CardNumber",this.$subForms).mask("dddd-dddd-dddd-dddd");n("#BankCard_Passport",this.$subForms).mask("dd dd dddddd");n("#BankCard_Expire",this.$subForms).mask("dd/dd");n("#BankMethod_CardNumber",this.$subForms).mask("dddd-dddd-dddd-dddd");n("#BankMethod_Passport",this.$subForms).mask("dd dd dddddd");n("#BankMethod_PhoneNumber",this.$subForms).mask("+7(ddd)ddd-dd-dd");n("#BankMethod_Expire",this.$subForms).mask("dd/dd")},addValidation:function(){var t=this.o.amountAvailable;n.validator.addMethod("lessThanCashAmount",function(n){return n<=parseInt(t)},"Сумма превышает доступную.");n("#PayoutAmount",this.$root).length>0&&n("#PayoutAmount",this.$root).rules("add",{lessThanCashAmount:!0});this.$root.validate()},refreshForm:function(){var i=this.getType(),t=this.$subform.filter(function(){return n(this).data("type")==i});this.changeFormAnimation(t);n("input",t).each(function(){var t=n(this);if(t.attr("id")=="BankCard_PostIndex"||t.attr("id")=="BankCard_Address"){t.rules("remove");return}t.rules("add",{required:!0,messages:{required:"Поле обязательно для заполнения"}})});this.initMask();this.addValidation()},getType:function(){return n(this.typeSelector,this.$root).val()},getAmount:function(){return n("#PayoutAmount",this.$root).val()},setType:function(t){n("#Type",this.$root).val(t);this.refreshForm();this.o.handlers&&this.o.handlers.getComission&&this.onPayoutChanged()},changeRealAmount:function(n){this.setRealAmount(n.ToOut)},onPayoutChanged:function(){n.customAjax({url:this.o.handlers.getComission,data:{Amount:this.getAmount(),Type:this.getType(),Id:n("#Id",this.$root).val()},type:"get",success:n.proxy(this.changeRealAmount,this)})},amountUpdated:function(){this.onPayoutChanged()},setRealAmount:function(n){this.o.setRealAmount&&this.o.setRealAmount(n)},changeFormAnimation:function(n){this.o.changeFormAnimation&&this.o.changeFormAnimation(n)}};n.fn.makePayoutOrder=function(t){return new n.makePayoutOrder(n(this),t)}}(jQuery),function(n){n.utils.webNotification={access:null,icon:null,denied:"Denied",granted:"Granted",haveToAsk:"Default",accesschangedEventKey:"web-push-notification-access-changed",webPushSubscribedStorageKey:"web-push-subscribed",updateCustomerAccessUrl:null,init:function(t,i){t||(t={});var r=t.Access||this.haveToAsk;this.updateCustomerAccessUrl=t.UpdateCustomerAccessUrl;n(document).on(this.accesschangedEventKey,n.proxy(this.updateCustomerAccess,this));if(this.access="Notification"in window?Notification.permission.charAt(0).toUpperCase()+Notification.permission.substr(1):this.denied,this.access!==r&&n(document).trigger(this.accesschangedEventKey,this.access),this.access!==this.denied){if(this.access===this.haveToAsk)n(document).on("storage-"+this.webPushSubscribedStorageKey,n.proxy(this.getPermission,this));this.icon=t.Icon||"/favicon.ico";n(document).one(n.singleTabTracker.singleTabTrackerActivated,n.proxy(function(){this.waitForAnswer(n.proxy(this.start,this))},this));i.active&&this.waitForAnswer(n.proxy(this.start,this))}},start:function(){n(document).on(n.eventsTracker.eventsTrackerEventReceivedActionName,n.proxy(this.showMessage,this))},getPermission:function(){Notification.requestPermission(n.proxy(function(t){"permission"in Notification||(Notification.permission=t);this.access=t;n(document).trigger(this.accesschangedEventKey,this.access)},this))},waitForAnswer:function(t){if(this.access&&this.access!==this.haveToAsk){t();return}setTimeout(n.proxy(this.waitForAnswer,this,t),1e3)},showMessage:function(t,i){var r=n(i.Html),u=n("a",r);u.length===0&&(u=r.filter("a"));var e=n(u[0]).attr("href"),o=r.text().replace(/[\s\r\n\t↵]+/g," "),f=new Notification("Новое уведомление",{lang:"ru-RU",body:o,iconUrl:this.icon,icon:this.icon,tag:i.Id,data:{url:e}});f.onclick=function(n){n.target.data.url&&(window.open(n.target.data.url),f.close())}},updateCustomerAccess:function(t,i){this.updateCustomerAccessUrl!==null&&n.customAjax({type:"post",url:this.updateCustomerAccessUrl,data:{Access:i},success:function(){}})}}}(jQuery);$(function(){$.utils.registerNamespace("common");$.common.bootstrapper=function(){$(document).bind("ajax-content-loaded",$.proxy(this.onContentLoaded,this));$(document).trigger("ajax-content-loaded",$("html"))};$.common.bootstrapper.prototype={onContentLoaded:function(n,t){var i=$(t);this.tabs(i);this.accordeon(i);this.popup(i);this.datepicker(i);this.datetimepicker(i);this.gridFilter(i);$.validator.unobtrusive.parse(i);this.ajaxForm(i);this.editableDisplays(i);this.uiButtonHover(i);this.ajaxWidget(i);this.appearance(i);this.gallery(i);this.expandable(i);this.asuncPagedView(i);$.fn.countdownTimer!=undefined&&$(".js-countdown-timer",i).countdownTimer();$.autocomplete.unobtrusive.parse(i);this.ajaxPager(i);this.scrollable(i);this.flagIcon(i);this.fileUploader(i);this.searchAuthocomplete(i);this.focus(i);this.simpleToolTip(i);this.metaEditor(i);this.spanToLink(i);this.notPostedForm(i);this.labeledInput(i)},focus:function(n){var t=$("form.autofocus *:input:text:first",n);if(t.length>0){if(t.focus(),t.closest(".simple-popup").length>0)return;window.scrollTo(0,0)}},searchAuthocomplete:function(n){$.fn.newSearchAutocomplete&&$(".asc-search-autocomlpete",n).each(function(){$(this).newSearchAutocomplete()})},tabs:function(n){var t=$(".js-tabs",n);$.fn.standartTabs!=undefined&&t.standartTabs();$.fn.tabs!=undefined&&t.tabs()},ajaxWidget:function(n){if($.fn.replacePlaceHolder!=undefined){var t=$(".js-ajax-widget",n);t.each(function(){$(this).replacePlaceHolder($(".tab-placeholder",$(this)))})}},accordeon:function(n){$.fn.accordion!=undefined&&$(".accordion",n).accordion({collapsible:!0,autoHeight:!1,active:!1});$.fn.customAccordion!=undefined&&$(".accordion",n).customAccordion();$(".w-collapsible .content",n).each(function(){var n=$(this).closest(".w-collapsible").width();$(this).width(n)});$(".w-collapsible .header",n).click(function(){$(this).closest(".w-collapsible").children(".content").slideToggle(function(){$(this).closest(".w-collapsible").toggleClass("opened")})})},popup:function(n){if($.fn.popup!=undefined){var t=$(".popup, .js-popup",n);t.length>0?t.popup():(n.hasClass("popup")||n.hasClass("js-popup"))&&n.popup();this.onloadPopup(n)}$.fn.qtipExt!=undefined&&$(".hover-popup-source",n).qtipExt();$.fn.qtip!=undefined&&$(".v-help",n).qtip({content:{text:!1},hide:{delay:1e3},position:{adjust:{method:"flip flip"},at:"top center",my:"bottom left",viewport:$(window)}})},onloadPopup:function(n){var t=window.location.hash,i;t&&(t=t.substr(1),i=t.split(","),$(i).each(function(){var t=this;$(".popup",n).filter(function(){return $(this).data("name")==t}).click()}))},datepicker:function(n){$.fn.Zebra_DatePicker!=undefined&&$("input.date-picker",n).each(function(){var n=$(this);n.Zebra_DatePicker({show_icon:!1,onSelect:function(){n.change();n.trigger("date-picker-changed")}})});$.fn.datetimepicker!=undefined&&($("input.date-picker",n).each(function(){var n=$(this),r=$(this).attr("id"),t="d.m.Y",i;n.data("format")!=undefined&&(t=n.data("format"));i={format:t,formatDate:t,timepicker:!1,lang:"ru",allowBlank:!0,value:$.utils.changeDateFormat(n.val(),"d.m.Y",t),validateOnBlur:!1,dayOfWeekStart:1,onChangeDateTime:function(i,u){$("#hidden-"+r).val($.utils.changeDateFormat(n.val(),t,"m/d/Y"));n.trigger("date-picker-changed",{datapicker:i,field:u});n.change()}};n.data("mask")!=undefined&&$.extend(i,{mask:n.data("mask")});n.datetimepicker(i)}),this.datepickerevents(n))},datepickerevents:function(n){$("input.date-picker",n).keyup(function(){if($.trim($(this).val())==""){var n=$(this).attr("id");$("#hidden-"+n).val("")}});$(".date-picker-icon",n).click(function(){$(this).prev().datetimepicker("show")});$.validator.addMethod("date",function(n,t){var i=n.split("."),r=n;return i.length!=3&&(i=n.split("/")),i.length==3&&(r=i[1]+"."+i[0]+"."+i[2]),this.optional(t)||!(/Invalid|NaN/.test(new Date(n))&&/Invalid|NaN/.test(new Date(r)))})},datetimepicker:function(n){$.fn.datetimepicker!=undefined&&($("input.date-time-picker",n).each(function(){var n=$(this),r=$(this).attr("id"),t="d.m.Y H:i",i;n.data("format")!=undefined&&(t=n.data("format"));i={format:t,lang:"ru",allowBlank:!0,value:$.utils.changeDateFormat(n.val(),"d.m.Y H:i",t),validateOnBlur:!1,step:30,dayOfWeekStart:1,onChangeDateTime:function(i,u){$("#hidden-"+r,n.parent()).val($.utils.changeDateFormat(n.val(),t,"m/d/Y H:i"));n.trigger("date-picker-changed",{datapicker:i,field:u});n.change()}};n.data("mask")!=undefined&&$.extend(i,{mask:n.data("mask")});n.datetimepicker(i)}),this.datepickerevents(n))},gridFilter:function(n){$(".filters",n).show()},ajaxForm:function(n){$.fn.editable!=undefined&&($(".async-source",n).editable(),n.hasClass("async-source")&&n.editable());$.fn.customAjaxForm!=undefined&&($("form[class*=simple-ajax]",n).customAjaxForm(),n.hasClass("simple-ajax")&&n[0].tagName.toLowerCase()=="form"&&n.customAjaxForm())},appearance:function(n){$.fn.dropkick!=undefined&&$("select.custom-dropdown",n).dropkick({reverseSync:!0});$.fn.ezMark!=undefined&&$(".custom-checkbox input, .custom-radiobutton input, input.custom-checkbox",n).ezMark();$.fn.button!=undefined&&$("input:button, input:submit, a.button, button.button",n).button();$.fn.buttonset!=undefined&&$(".buttonset",n).buttonset();$("li:has(a.selected)").add($("th:has( a.ascending )",n)).add($("th:has( a.descending )",n)).addClass("selected");$(".js-focus-on-load").focus();$("a.submit",n).click(function(){return $(this).closest("form").submit(),!1});$.fn.carousel!=null&&$(".w-carousel",n).carousel();$("a.post-link",n).click(function(){return $.customAjax({type:"post",url:$(this).attr("href"),success:function(){}}),!1})},editableDisplays:function(n){$.fn.editableDisplay!=undefined&&$(".v-editable-display",n).editableDisplay()},uiButtonHover:function(n){$(".ui-state-default",n).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")})},gallery:function(n){if($.fn.lightBox!=undefined){var t=window.location.href.split(".")[0],i=window.location.href.replace(t,""),r=i.indexOf("/");t+=i.substr(0,r);$(".js-gallery a",n).lightBox({imageLoading:t+"/content/images/lightBox/lightbox-ico-loading.gif",imageBtnPrev:t+"/content/images/lightBox/lightbox-btn-prev.gif",imageBtnNext:t+"/content/images/lightBox/lightbox-btn-next.gif",imageBtnClose:t+"/content/images/lightBox/lightbox-btn-close.gif",imageBlank:t+"/content/images/lightBox/lightbox-blank.gif"})}},expandable:function(n){$("tr",n.find(".w-expandeble")).click(function(){var i=$(this).closest("tr"),n=i.next(".sub-row"),t;n.length!=0&&(t=n.children(".sub"),t.length!=0)&&(t.slideToggle(),i.toggleClass("expanded"),n.toggleClass("expanded"))})},asuncPagedView:function(n){var t=$(".async-paged-view",n);t.length==0&&(t=n.closest(".async-paged-view"));$(".v-pager a",t).click(function(){return $.customAjax({url:$(this).closest("a").attr("href"),type:"get",success:function(n){var i=$(n);t.replaceWith(i);$(document).trigger("ajax-content-loaded",i)}}),!1})},ajaxPager:function(n){if($.fn.ajaxPager!=undefined){if(n.hasClass("ajax-paging")){n.ajaxPager();return}$(".ajax-paging",n).ajaxPager()}},flagIcon:function(n){if($.fn.flagIcon!=undefined){if(n.hasClass("phone-template")&&!n.hasClass("manual-start")){n.flagIcon();return}$(".phone-template:not(.manual-start)",n).flagIcon()}},metaEditor:function(n){$.fn.metaEditor!=undefined&&$("body",n).metaEditor()},scrollable:function(n){if($.fn.scrolloader!=undefined){var t=$(".js-scrolloader",n);t.length!=0&&t.each(function(){var n=$(this).data("area")=="window"?window:$(this).data("area")==null||$(this).data("area")==undefined?this:$(this).data("area"),t=$(this).data("offset-name")==null||$(this).data("offset-name")==undefined?"offset":$(this).data("offset-name");$(this).scrolloader({url:$(this).data("url"),area:n,offsetName:t,filtersForm:$(this).data("filter-selector"),loadOnInit:$(this).data("load-on-init"),onLoadEvent:$(this).data("on-load-event"),showEndOfListMessage:$(this).data("show-end-of-list-message"),localStorageOffsetKey:$(this).data("local-storage-offset-key"),direction:$(this).data("direction"),autoSubmit:$(this).data("auto-submit"),preserveHeader:$(this).data("preserve-header"),invertArea:$(this).data("invert-area"),behaviourOnScroll:$(this).data("behaviour-on-scroll"),pagingMode:$(this).data("sl-paging-mode"),additionalFilters:$(this).data("sl-additionalFilters")})})}},fileUploader:function(n){$.fn.fileUploader!=undefined&&$(".file-uploader",n).fileUploader()},simpleToolTip:function(n){if($.fn.qtip!=undefined){var t=$(".tool-tip",n);t.each(function(){var n=$(this),t=n.data("tooltip-title"),i=$(this).parent();n&&t&&i&&n.qtip({content:{text:t},position:{my:"topCenter",at:"bottomCenter",container:i,effect:!1,adjust:{y:5}},show:{event:"mouseover",delay:100},hide:{event:"mouseleave"},style:{classes:"qtip-dark custom-qtip",tip:{width:10,height:4,border:2}}})})}},spanToLink:function(n){$.fn.spanToLink!=undefined&&$("span[data-href]",n).each(function(){$(this).spanToLink()})},notPostedForm:function(n){if($.fn.notPostedForm!=undefined){var t=$("form.not-posted-fallback",n);t.length!=0&&t.each(function(){$(this).notPostedForm({url:$(this).data("not-posted-url")})})}},labeledInput:function(n){$.fn.labeledInput!=undefined&&$(".b-labeled-input",n).labeledInput()}};new $.common.bootstrapper}),function(n){n.singleTabTracker={id:null,singleTabTrackerKey:"singleTabTrackerItems",singleTabTrackerActivated:"single-tab-tracker-activated",currentIndex:null,tabs:[],active:null,services:null,singleTabTrackerPingActiveKey:"singleTabTrackerPingActive",pingInterval:1e4,start:function(t){this.id=n.utils.guid.generate();this.services=t?Array.isArray(t)?t:[t]:[];this.active=!1;this.updateLocalTabs();this.tabs.push(this.id);this.checkPing();n.utils.localStorage.set(this.singleTabTrackerKey,this.tabs);this.bind();this.updateLocalTabs();this.check()},updateCurrentIndex:function(){for(var n=0;n<this.tabs.length;n++)if(this.tabs[n]===this.id){this.currentIndex=n;return}},check:function(){this.currentIndex===0&&this.active!==!0&&(n(document).trigger(this.singleTabTrackerActivated,this),this.active=!0,this.startServices())},bind:function(){window.addEventListener?window.addEventListener("storage",n.proxy(this.onLocalStorageChanged,this),!1):window.attachEvent("onstorage",n.proxy(this.onLocalStorageChanged,this));n(window).one("beforeunload",n.proxy(this.currentRemove,this));n(document).on("storage-"+this.singleTabTrackerKey,n.proxy(this.onStorageChanged,this))},onLocalStorageChanged:function(t){n(document).trigger("storage-"+t.key,{key:t.key,oldValue:t.oldValue,newValue:t.newValue})},onStorageChanged:function(){this.updateLocalTabs();this.check()},currentRemove:function(){this.tabs.splice(this.currentIndex,1);n.utils.localStorage.set(this.singleTabTrackerKey,this.tabs)},updateLocalTabs:function(){this.tabs=n.utils.localStorage.get(this.singleTabTrackerKey)||[];this.updateCurrentIndex()},startServices:function(){for(var t=0;t<this.services.length;t++)try{this.services[t].start.call(this.services[t].service,this.services[t].params,this)}catch(i){}setTimeout(n.proxy(this.setPing,this),this.pingInterval)},setPing:function(){var t=new Date;n.utils.localStorage.set(this.singleTabTrackerPingActiveKey,t);setTimeout(n.proxy(this.setPing,this),this.pingInterval)},checkPing:function(){var t=new Date,i=Date.parse(n.utils.localStorage.get(this.singleTabTrackerPingActiveKey));i>=t.setSeconds(t.getSeconds()-11)||this.tabs.length<=1||(this.tabs.splice(0,1),n.utils.localStorage.set(this.singleTabTrackerKey,this.tabs))}}}(jQuery),function(n){n.eventsTracker={mode:null,modeTypeActive:"active",modeTypePassive:"passive",eventsTrackerEventReceivedActionName:"new-customer-event-received",eventsData:null,localStorageEventKey:"customer-events-storage",url:null,requestDelay:7e3,hub:null,userId:null,pingSuccess:null,start:function(n,t){this.mode=t.active?this.modeTypeActive:this.modeTypePassive;this.url=n.ServiceUrl;this.userId=n.SignalRUserId;this.eventsData={LastLoaded:n.LastLoaded,Events:[]};this.setupBinders();this.load()},load:function(){this.mode===this.modeTypeActive&&(this.hub=n.connection.informer,this.hub&&this.userId?(this.hub.client.addMessage=n.proxy(this.loadedFromHub,this),this.hub.client.updateConnection=n.proxy(this.connectToHub,this),this.hub.client.pong=n.proxy(function(){this.pingSuccess=!0},this),n.connection.hub.start().done(n.proxy(this.connectToHub,this)),setTimeout(n.proxy(this.pingHub,this),1e4)):setTimeout(n.proxy(this.getEventsFromServer,this),this.requestDelay))},loadedFromHub:function(n){n=JSON.parse(n);var t={LastLoaded:n.notification.Date,Events:[n.notification]};this.eventsLoadedFromServer(t)},connectToHub:function(){this.hub.server.connect(this.userId)},pingHub:function(){this.pingSuccess=!1;try{this.hub.server.ping();setTimeout(n.proxy(function(){this.pingSuccess==!1&&this.connectToHub()},this),5e3);setTimeout(n.proxy(this.pingHub,this),3e5)}catch(t){n.connection.hub.start().done(n.proxy(this.connectToHub,this));setTimeout(n.proxy(this.pingHub,this),1e4)}},notify:function(){var i=this.eventsData.Events,t;for(this.eventsData={LastLoaded:this.eventsData.LastLoaded,Events:[]},t=0;t<i.length;t++)n(document).trigger(this.eventsTrackerEventReceivedActionName,i[t])},getEventsFromServer:function(){n.customAjax({url:this.url,type:"post",data:{Offset:this.eventsData.LastLoaded},success:n.proxy(this.eventsLoadedFromServer,this)})},eventsLoadedFromServer:function(t){var i=t||{LastLoaded:this.eventsData.LastLoaded,Events:[]};n.utils.localStorage.set(this.localStorageEventKey,i);this.hub&&this.userId||this.load()},getFromStorage:function(){this.eventsData=n.utils.localStorage.get(this.localStorageEventKey);this.notify()},updateMode:function(){this.mode=this.modeTypeActive;this.load()},setupBinders:function(){n(document).on("storage-"+this.localStorageEventKey,n.proxy(this.getFromStorage,this));n(document).one(n.singleTabTracker.singleTabTrackerActivated,n.proxy(this.updateMode,this))}}}(jQuery),function(n){n.customerAccount=function(n){this.servicesSettings=n;this.init()};n.customerAccount.prototype={servicesSettings:null,services:null,init:function(){n.singleTabTracker!=undefined&&n.singleTabTracker.active==undefined&&(this.services=[],this.registerServices(),n.singleTabTracker.start(this.services))},registerServices:function(){var n=this,t,i;for(t in n)typeof n[t]=="function"&&t.indexOf("initService")===0&&(i=n[t].call(n),i!==null&&n.services.push(i))},initServiceEventsTracker:function(){return n.eventsTracker?{service:n.eventsTracker,start:n.eventsTracker.start,params:this.servicesSettings.EventsServiceSettings,name:"eventsTracker"}:null},initServiceWebNotification:function(){return n.utils.webNotification?{service:n.utils.webNotification,start:n.utils.webNotification.init,params:this.servicesSettings.WebNotificationServiceSettings,name:"webNotification"}:null}}}(jQuery),function(n,t,i){function w(t,i){var u,f;if(n.isArray(t)){for(u=t.length-1;u>=0;u--)f=t[u],n.type(f)==="string"&&r.transports[f]||(i.log("Invalid transport: "+f+", removing it from the transports list."),t.splice(u,1));t.length===0&&(i.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||t==="auto"){if(t==="auto"&&r._.ieVersion<=8)return["longPolling"]}else i.log("Invalid transport: "+t.toString()+"."),t=null;return t}function b(n){return n==="http:"?80:n==="https:"?443:void 0}function a(n,t){return t.match(/:\d+$/)?t:t+":"+b(n)}function k(t,i){var u=this,r=[];u.tryBuffer=function(i){return t.state===n.signalR.connectionState.connecting?(r.push(i),!0):!1};u.drain=function(){if(t.state===n.signalR.connectionState.connected)while(r.length>0)i(r.shift())};u.clear=function(){r=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if(typeof n!="function")throw new Error(f.nojQuery);var r,h,s=t.document.readyState==="complete",e=n(t),c="__Negotiate Aborted__",u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},v=function(n,i){if(i!==!1){var r;typeof t.console!="undefined"&&(r="["+(new Date).toTimeString()+"] SignalR: "+n,t.console.debug?t.console.debug(r):t.console.log&&t.console.log(r))}},o=function(t,i,r){return i===t.state?(t.state=r,n(t).triggerHandler(u.onStateChanged,[{oldState:i,newState:r}]),!0):!1},y=function(n){return n.state===r.connectionState.disconnected},l=function(n){return n._.keepAliveData.activated&&n.transport.supportsKeepAlive(n)},p=function(i){var f,e;i._.configuredStopReconnectingTimeout||(e=function(t){var i=r._.format(r.resources.reconnectTimeout,t.disconnectTimeout);t.log(i);n(t).triggerHandler(u.onError,[r._.error(i,"TimeoutException")]);t.stop(!1,!1)},i.reconnecting(function(){var n=this;n.state===r.connectionState.reconnecting&&(f=t.setTimeout(function(){e(n)},n.disconnectTimeout))}),i.stateChanged(function(n){n.oldState===r.connectionState.reconnecting&&t.clearTimeout(f)}),i._.configuredStopReconnectingTimeout=!0)};r=function(n,t,i){return new r.fn.init(n,t,i)};r._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:function(){var i,n;return t.navigator.appName==="Microsoft Internet Explorer"&&(n=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent),n&&(i=t.parseFloat(n[1]))),i}(),error:function(n,t,i){var r=new Error(n);return r.source=t,typeof i!="undefined"&&(r.context=i),r},transportError:function(n,t,r,u){var f=this.error(n,r,u);return f.transport=t?t.name:i,f},format:function(){for(var t=arguments[0],n=0;n<arguments.length-1;n++)t=t.replace("{"+n+"}",arguments[n+1]);return t},firefoxMajorVersion:function(n){var t=n.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(i){var f=i._.config,e=function(t){n(i).triggerHandler(u.onError,[t])};f&&!i._.pingIntervalId&&f.pingInterval&&(i._.pingIntervalId=t.setInterval(function(){r.transports._logic.pingServer(i).fail(e)},f.pingInterval))}};r.events=u;r.resources=f;r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1};r.changeState=o;r.isDisconnecting=y;r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4};r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.");}};e.load(function(){s=!0});r.fn=r.prototype={init:function(t,i,r){var f=n(this);this.url=t;this.qs=i;this.lastError=null;this._={keepAliveData:{},connectingMessageBuffer:new k(this,function(n){f.triggerHandler(u.onReceived,[n])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0};typeof r=="boolean"&&(this.logging=r)},_parseResponse:function(n){var t=this;return n?typeof n=="string"?t.json.parse(n):n:n},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(i,r){var u;return(i=n.trim(i),r=r||t.location,i.indexOf("http")!==0)?!1:(u=t.document.createElement("a"),u.href=i,u.protocol+a(u.protocol,u.host)!==r.protocol+a(r.protocol,r.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(i,h){var a=this,v={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},d,y=a._deferral||n.Deferred(),b=t.document.createElement("a"),k,g;if(a.lastError=null,a._deferral=y,!a.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if(n.type(i)==="function"?h=i:n.type(i)==="object"&&(n.extend(v,i),n.type(v.callback)==="function"&&(h=v.callback)),v.transport=w(v.transport,a),!v.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return(a._.config=v,!s&&v.waitForPageLoad===!0)?(a._.deferredStartHandler=function(){a.start(i,h)},e.bind("load",a._.deferredStartHandler),y.promise()):a.state===r.connectionState.connecting?y.promise():o(a,r.connectionState.disconnected,r.connectionState.connecting)===!1?(y.resolve(a),y.promise()):(p(a),b.href=a.url,b.protocol&&b.protocol!==":"?(a.protocol=b.protocol,a.host=b.host):(a.protocol=t.document.location.protocol,a.host=b.host||t.document.location.host),a.baseUrl=a.protocol+"//"+a.host,a.wsProtocol=a.protocol==="https:"?"wss://":"ws://",v.transport==="auto"&&v.jsonp===!0&&(v.transport="longPolling"),a.url.indexOf("//")===0&&(a.url=t.location.protocol+a.url,a.log("Protocol relative URL detected, normalizing it to '"+a.url+"'.")),this.isCrossDomain(a.url)&&(a.log("Auto detected cross domain url."),v.transport==="auto"&&(v.transport=["webSockets","serverSentEvents","longPolling"]),typeof v.withCredentials=="undefined"&&(v.withCredentials=!0),v.jsonp||(v.jsonp=!n.support.cors,v.jsonp&&a.log("Using jsonp because this browser doesn't support CORS.")),a.contentType=r._.defaultContentType),a.withCredentials=v.withCredentials,a.ajaxDataType=v.jsonp?"jsonp":"text",n(a).bind(u.onStart,function(){n.type(h)==="function"&&h.call(a);y.resolve(a)}),a._.initHandler=r.transports._logic.initHandler(a),d=function(i,s){var c=r._.error(f.noTransportOnInit);if(s=s||0,s>=i.length){s===0?a.log("No transports supported by the server were selected."):s===1?a.log("No fallback transports were selected."):a.log("Fallback transports exhausted.");n(a).triggerHandler(u.onError,[c]);y.reject(c);a.stop();return}if(a.state!==r.connectionState.disconnected){var p=i[s],h=r.transports[p],v=function(){d(i,s+1)};a.transport=h;try{a._.initHandler.start(h,function(){var i=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,f=!!a.withCredentials&&i;a.log("The start request succeeded. Transitioning to the connected state.");l(a)&&r.transports._logic.monitorKeepAlive(a);r.transports._logic.startHeartbeat(a);r._.configurePingInterval(a);o(a,r.connectionState.connecting,r.connectionState.connected)||a.log("WARNING! The connection was not in the connecting state.");a._.connectingMessageBuffer.drain();n(a).triggerHandler(u.onStart);e.bind("unload",function(){a.log("Window unloading, stopping the connection.");a.stop(f)});i&&e.bind("beforeunload",function(){t.setTimeout(function(){a.stop(f)},0)})},v)}catch(w){a.log(h.name+" transport threw '"+w.message+"' when attempting to start.");v()}}},k=a.url+"/negotiate",g=function(t,i){var e=r._.error(f.errorOnNegotiate,t,i._.negotiateRequest);n(i).triggerHandler(u.onError,e);y.reject(e);i.stop()},n(a).triggerHandler(u.onStarting),k=r.transports._logic.prepareQueryString(a,k),a.log("Negotiating with '"+k+"'."),a._.negotiateRequest=r.transports._logic.ajax(a,{url:k,error:function(n,t){t!==c?g(n,a):y.reject(r._.error(f.stoppedWhileNegotiating,null,a._.negotiateRequest))},success:function(t){var i,e,h,o=[],s=[];try{i=a._parseResponse(t)}catch(c){g(r._.error(f.errorParsingNegotiateResponse,c),a);return}if(e=a._.keepAliveData,a.appRelativeUrl=i.Url,a.id=i.ConnectionId,a.token=i.ConnectionToken,a.webSocketServerUrl=i.WebSocketServerUrl,a._.pollTimeout=i.ConnectionTimeout*1e3+1e4,a.disconnectTimeout=i.DisconnectTimeout*1e3,a._.totalTransportConnectTimeout=a.transportConnectTimeout+i.TransportConnectTimeout*1e3,i.KeepAliveTimeout?(e.activated=!0,e.timeout=i.KeepAliveTimeout*1e3,e.timeoutWarning=e.timeout*a.keepAliveWarnAt,a._.beatInterval=(e.timeout-e.timeoutWarning)/3):e.activated=!1,a.reconnectWindow=a.disconnectTimeout+(e.timeout||0),!i.ProtocolVersion||i.ProtocolVersion!==a.clientProtocol){h=r._.error(r._.format(f.protocolIncompatible,a.clientProtocol,i.ProtocolVersion));n(a).triggerHandler(u.onError,[h]);y.reject(h);return}n.each(r.transports,function(n){if(n.indexOf("_")===0||n==="webSockets"&&!i.TryWebSockets)return!0;s.push(n)});n.isArray(v.transport)?n.each(v.transport,function(t,i){n.inArray(i,s)>=0&&o.push(i)}):v.transport==="auto"?o=s:n.inArray(v.transport,s)>=0&&o.push(v.transport);d(o)}}),y.promise())},starting:function(t){var i=this;return n(i).bind(u.onStarting,function(){t.call(i)}),i},send:function(n){var t=this;if(t.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,n),t},received:function(t){var i=this;return n(i).bind(u.onReceived,function(n,r){t.call(i,r)}),i},stateChanged:function(t){var i=this;return n(i).bind(u.onStateChanged,function(n,r){t.call(i,r)}),i},error:function(t){var i=this;return n(i).bind(u.onError,function(n,r,u){i.lastError=r;t.call(i,r,u)}),i},disconnected:function(t){var i=this;return n(i).bind(u.onDisconnect,function(){t.call(i)}),i},connectionSlow:function(t){var i=this;return n(i).bind(u.onConnectionSlow,function(){t.call(i)}),i},reconnecting:function(t){var i=this;return n(i).bind(u.onReconnecting,function(){t.call(i)}),i},reconnected:function(t){var i=this;return n(i).bind(u.onReconnect,function(){t.call(i)}),i},stop:function(i,h){var a=this,v=a._deferral;if(a._.deferredStartHandler&&e.unbind("load",a._.deferredStartHandler),delete a._.config,delete a._.deferredStartHandler,!s&&(!a._.config||a._.config.waitForPageLoad===!0)){a.log("Stopping connection prior to negotiate.");v&&v.reject(r._.error(f.stoppedWhileLoading));return}if(a.state!==r.connectionState.disconnected)return a.log("Stopping connection."),o(a,a.state,r.connectionState.disconnected),t.clearTimeout(a._.beatHandle),t.clearInterval(a._.pingIntervalId),a.transport&&(a.transport.stop(a),h!==!1&&a.transport.abort(a,i),l(a)&&r.transports._logic.stopMonitoringKeepAlive(a),a.transport=null),a._.negotiateRequest&&(a._.negotiateRequest.abort(c),delete a._.negotiateRequest),a._.initHandler&&a._.initHandler.stop(),n(a).triggerHandler(u.onDisconnect),delete a._deferral,delete a.messageId,delete a.groupsToken,delete a.id,delete a._.pingIntervalId,delete a._.lastMessageAt,delete a._.lastActiveAt,a._.connectingMessageBuffer.clear(),a},log:function(n){v(n,this.logging)}};r.fn.init.prototype=r.fn;r.noConflict=function(){return n.connection===r&&(n.connection=h),r};n.connection&&(h=n.connection);n.connection=n.signalR=r}(window.jQuery,window),function(n,t,i){function s(n){n._.keepAliveData.monitoring&&l(n);u.markActive(n)&&(n._.beatHandle=t.setTimeout(function(){s(n)},n._.beatInterval))}function l(t){var i=t._.keepAliveData,u;t.state===r.connectionState.connected&&(u=(new Date).getTime()-t._.lastMessageAt,u>=i.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):u>=i.timeoutWarning?i.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),n(t).triggerHandler(f.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}function e(n,t){var i=n.url+t;return n.transport&&(i+="?transport="+n.transport.name),u.prepareQueryString(n,i)}function h(n){this.connection=n;this.startRequested=!1;this.startCompleted=!1;this.connectionStopped=!1}var r=n.signalR,f=n.signalR.events,c=n.signalR.changeState,o="__Start Aborted__",u;r.transports={};h.prototype={start:function(n,r,u){var f=this,e=f.connection,o=!1;if(f.startRequested||f.connectionStopped){e.log("WARNING! "+n.name+" transport cannot be started. Initialization ongoing or completed.");return}e.log(n.name+" transport starting.");f.transportTimeoutHandle=t.setTimeout(function(){o||(o=!0,e.log(n.name+" transport timed out when trying to connect."),f.transportFailed(n,i,u))},e._.totalTransportConnectTimeout);n.start(e,function(){o||f.initReceived(n,r)},function(t){return o||(o=!0,f.transportFailed(n,t,u)),!f.startCompleted||f.connectionStopped})},stop:function(){this.connectionStopped=!0;t.clearTimeout(this.transportTimeoutHandle);r.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(n,i){var u=this,f=u.connection;if(u.startRequested){f.log("WARNING! The client received multiple init messages.");return}u.connectionStopped||(u.startRequested=!0,t.clearTimeout(u.transportTimeoutHandle),f.log(n.name+" transport connected. Initiating start request."),r.transports._logic.ajaxStart(f,function(){u.startCompleted=!0;i()}))},transportFailed:function(i,u,e){var o=this.connection,h=o._deferral,s;this.connectionStopped||(t.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(s=r._.error(r.resources.errorDuringStartRequest,u),o.log(i.name+" transport failed during the start request. Stopping the connection."),n(o).triggerHandler(f.onError,[s]),h&&h.reject(s),o.stop()):(i.stop(o),o.log(i.name+" transport failed to connect. Attempting to fall back."),e()))}};u=r.transports._logic={ajax:function(t,i){return n.ajax(n.extend(!0,{},n.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},i))},pingServer:function(t){var e,f,i=n.Deferred();return t.transport?(e=t.url+"/ping",e=u.addQs(e,t.qs),f=u.ajax(t,{url:e,success:function(n){var u;try{u=t._parseResponse(n)}catch(e){i.reject(r._.transportError(r.resources.pingServerFailedParse,t.transport,e,f));t.stop();return}u.Response==="pong"?i.resolve():i.reject(r._.transportError(r._.format(r.resources.pingServerFailedInvalidResponse,n),t.transport,null,f))},error:function(n){n.status===401||n.status===403?(i.reject(r._.transportError(r._.format(r.resources.pingServerFailedStatusCode,n.status),t.transport,n,f)),t.stop()):i.reject(r._.transportError(r.resources.pingServerFailed,t.transport,n,f))}})):i.reject(r._.transportError(r.resources.noConnectionTransport,t.transport)),i.promise()},prepareQueryString:function(n,i){var r;return r=u.addQs(i,"clientProtocol="+n.clientProtocol),r=u.addQs(r,n.qs),n.token&&(r+="&connectionToken="+t.encodeURIComponent(n.token)),n.data&&(r+="&connectionData="+t.encodeURIComponent(n.data)),r},addQs:function(t,i){var r=t.indexOf("?")!==-1?"&":"?",u;if(!i)return t;if(typeof i=="object")return t+r+n.param(i);if(typeof i=="string")return u=i.charAt(0),(u==="?"||u==="&")&&(r=""),t+r+i;throw new Error("Query string property must be either a string or object.");},getUrl:function(n,i,r,f,e){var h=i==="webSockets"?"":n.baseUrl,o=h+n.appRelativeUrl,s="transport="+i;return!e&&n.groupsToken&&(s+="&groupsToken="+t.encodeURIComponent(n.groupsToken)),r?(o+=f?"/poll":"/reconnect",!e&&n.messageId&&(s+="&messageId="+t.encodeURIComponent(n.messageId))):o+="/connect",o+="?"+s,o=u.prepareQueryString(n,o),e||(o+="&tid="+Math.floor(Math.random()*11)),o},maximizePersistentResponse:function(n){return{MessageId:n.C,Messages:n.M,Initialized:typeof n.S!="undefined"?!0:!1,ShouldReconnect:typeof n.T!="undefined"?!0:!1,LongPollDelay:n.L,GroupsToken:n.G}},updateGroups:function(n,t){t&&(n.groupsToken=t)},stringifySend:function(n,t){return typeof t=="string"||typeof t=="undefined"||t===null?t:n.json.stringify(t)},ajaxSend:function(t,i){var h=u.stringifySend(t,i),c=e(t,"/send"),o,s=function(t,u){n(u).triggerHandler(f.onError,[r._.transportError(r.resources.sendFailed,u.transport,t,o),i])};return o=u.ajax(t,{url:c,type:t.ajaxDataType==="jsonp"?"GET":"POST",contentType:r._.defaultContentType,data:{data:h},success:function(n){var i;if(n){try{i=t._parseResponse(n)}catch(r){s(r,t);t.stop();return}u.triggerReceived(t,i)}},error:function(n,i){i!=="abort"&&i!=="parsererror"&&s(n,t)}})},ajaxAbort:function(n,t){if(typeof n.transport!="undefined"){t=typeof t=="undefined"?!0:t;var i=e(n,"/abort");u.ajax(n,{url:i,async:t,timeout:1e3,type:"POST"});n.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,i){var h=function(n){var i=t._deferral;i&&i.reject(n)},s=function(i){t.log("The start request failed. Stopping the connection.");n(t).triggerHandler(f.onError,[i]);h(i);t.stop()};t._.startRequest=u.ajax(t,{url:e(t,"/start"),success:function(n,u,f){var e;try{e=t._parseResponse(n)}catch(o){s(r._.error(r._.format(r.resources.errorParsingStartResponse,n),o,f));return}e.Response==="started"?i():s(r._.error(r._.format(r.resources.invalidStartResponse,n),null,f))},error:function(n,i,u){i!==o?s(r._.error(r.resources.errorDuringStartRequest,u,n)):(t.log("The start request aborted because connection.stop() was called."),h(r._.error(r.resources.stoppedDuringStartRequest,null,n)))}})},tryAbortStartRequest:function(n){n._.startRequest&&(n._.startRequest.abort(o),delete n._.startRequest)},tryInitialize:function(n,t){n.Initialized&&t()},triggerReceived:function(t,i){t._.connectingMessageBuffer.tryBuffer(i)||n(t).triggerHandler(f.onReceived,[i])},processMessages:function(t,i,r){var f;u.markLastMessage(t);i&&(f=u.maximizePersistentResponse(i),u.updateGroups(t,f.GroupsToken),f.MessageId&&(t.messageId=f.MessageId),f.Messages&&(n.each(f.Messages,function(n,i){u.triggerReceived(t,i)}),u.tryInitialize(f,r)))},monitorKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(i.monitoring=!0,u.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){u.markLastMessage(t)},n(t).bind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+i.timeoutWarning+", keep alive timeout of "+i.timeout+" and disconnecting timeout of "+t.disconnectTimeout))},stopMonitoringKeepAlive:function(t){var i=t._.keepAliveData;i.monitoring&&(i.monitoring=!1,n(t).unbind(f.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(n){n._.lastActiveAt=(new Date).getTime();s(n)},markLastMessage:function(n){n._.lastMessageAt=(new Date).getTime()},markActive:function(n){return u.verifyLastActive(n)?(n._.lastActiveAt=(new Date).getTime(),!0):!1},isConnectedOrReconnecting:function(n){return n.state===r.connectionState.connected||n.state===r.connectionState.reconnecting},ensureReconnectingState:function(t){return c(t,r.connectionState.connected,r.connectionState.reconnecting)===!0&&n(t).triggerHandler(f.onReconnecting),t.state===r.connectionState.reconnecting},clearReconnectTimeout:function(n){n&&n._.reconnectTimeout&&(t.clearTimeout(n._.reconnectTimeout),delete n._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var i=r._.format(r.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(i),n(t).triggerHandler(f.onError,[r._.error(i,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(n,i){var f=r.transports[i];if(u.isConnectedOrReconnecting(n)&&!n._.reconnectTimeout){if(!u.verifyLastActive(n))return;n._.reconnectTimeout=t.setTimeout(function(){u.verifyLastActive(n)&&(f.stop(n),u.ensureReconnectingState(n)&&(n.log(i+" reconnecting."),f.start(n)))},n.reconnectDelay)}},handleParseFailure:function(t,i,u,e,o){var s=r._.transportError(r._.format(r.resources.parseFailed,i),t.transport,u,o);e&&e(s)?t.log("Failed to parse server response while attempting to connect."):(n(t).triggerHandler(f.onError,[s]),t.stop())},initHandler:function(n){return new h(n)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(n,t){var r=n.signalR,u=n.signalR.events,f=n.signalR.changeState,i=r.transports._logic;r.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,f){var e=i.stringifySend(t,f);try{t.socket.send(e)}catch(o){n(t).triggerHandler(u.onError,[r._.transportError(r.resources.webSocketsInvalidState,t.transport,o,t.socket),f])}},start:function(e,o,s){var h,c=!1,l=this,a=!o,v=n(e);if(!t.WebSocket){s();return}e.socket||(h=e.webSocketServerUrl?e.webSocketServerUrl:e.wsProtocol+e.host,h+=i.getUrl(e,this.name,a),e.log("Connecting to websocket endpoint '"+h+"'."),e.socket=new t.WebSocket(h),e.socket.onopen=function(){c=!0;e.log("Websocket opened.");i.clearReconnectTimeout(e);f(e,r.connectionState.reconnecting,r.connectionState.connected)===!0&&v.triggerHandler(u.onReconnect)},e.socket.onclose=function(t){var i;this===e.socket&&(c&&typeof t.wasClean!="undefined"&&t.wasClean===!1?(i=r._.transportError(r.resources.webSocketClosed,e.transport,t),e.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):e.log("Websocket closed."),s&&s(i)||(i&&n(e).triggerHandler(u.onError,[i]),l.reconnect(e)))},e.socket.onmessage=function(t){var r;try{r=e._parseResponse(t.data)}catch(u){i.handleParseFailure(e,t.data,u,s,t);return}r&&(n.isEmptyObject(r)||r.M?i.processMessages(e,r,o):i.triggerReceived(e,r))})},reconnect:function(n){i.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},stop:function(n){i.clearReconnectTimeout(n);n.socket&&(n.log("Closing the Websocket."),n.socket.close(),n.socket=null)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var i=n.signalR,u=n.signalR.events,e=n.signalR.changeState,r=i.transports._logic,f=function(n){t.clearTimeout(n._.reconnectAttemptTimeoutHandle);delete n._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(o,s,h){var c=this,l=!1,a=n(o),v=!s,y;if(o.eventSource&&(o.log("The connection already has an event source. Stopping it."),o.stop()),!t.EventSource){h&&(o.log("This browser doesn't support SSE."),h());return}y=r.getUrl(o,this.name,v);try{o.log("Attempting to connect to SSE endpoint '"+y+"'.");o.eventSource=new t.EventSource(y,{withCredentials:o.withCredentials})}catch(p){o.log("EventSource failed trying to connect with error "+p.Message+".");h?h():(a.triggerHandler(u.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,o.transport,p)]),v&&c.reconnect(o));return}v&&(o._.reconnectAttemptTimeoutHandle=t.setTimeout(function(){l===!1&&o.eventSource.readyState!==t.EventSource.OPEN&&c.reconnect(o)},c.timeOut));o.eventSource.addEventListener("open",function(){o.log("EventSource connected.");f(o);r.clearReconnectTimeout(o);l===!1&&(l=!0,e(o,i.connectionState.reconnecting,i.connectionState.connected)===!0&&a.triggerHandler(u.onReconnect))},!1);o.eventSource.addEventListener("message",function(n){var t;if(n.data!=="initialized"){try{t=o._parseResponse(n.data)}catch(i){r.handleParseFailure(o,n.data,i,h,n);return}r.processMessages(o,t,s)}},!1);o.eventSource.addEventListener("error",function(n){var r=i._.transportError(i.resources.eventSourceError,o.transport,n);this===o.eventSource&&(h&&h(r)||(o.log("EventSource readyState: "+o.eventSource.readyState+"."),n.eventPhase===t.EventSource.CLOSED?(o.log("EventSource reconnecting due to the server connection ending."),c.reconnect(o)):(o.log("EventSource error."),a.triggerHandler(u.onError,[r]))))},!1)},reconnect:function(n){r.reconnect(n,this.name)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){r.ajaxSend(n,t)},stop:function(n){f(n);r.clearReconnectTimeout(n);n&&n.eventSource&&(n.log("EventSource calling close()."),n.eventSource.close(),n.eventSource=null,delete n.eventSource)},abort:function(n,t){r.ajaxAbort(n,t)}}}(window.jQuery,window),function(n,t){var r=n.signalR,e=n.signalR.events,o=n.signalR.changeState,i=r.transports._logic,u=function(){var n=t.document.createElement("iframe");return n.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),n},f=function(){var i=null,f=1e3,n=0;return{prevent:function(){r._.ieVersion<=8&&(n===0&&(i=t.setInterval(function(){var n=u();t.document.body.appendChild(n);t.document.body.removeChild(n);n=null},f)),n++)},cancel:function(){n===1&&t.clearInterval(i);n>0&&n--}}}();r.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(n,r,e){var l=this,s=i.foreverFrame.count+=1,h,o=u(),c=function(){n.log("Forever frame iframe finished loading and is no longer receiving messages.");e&&e()||l.reconnect(n)};if(t.EventSource){e&&(n.log("Forever Frame is not supported by SignalR on browsers with SSE support."),e());return}o.setAttribute("data-signalr-connection-id",n.id);f.prevent();h=i.getUrl(n,this.name);h+="&frameId="+s;t.document.documentElement.appendChild(o);n.log("Binding to iframe's load event.");o.addEventListener?o.addEventListener("load",c,!1):o.attachEvent&&o.attachEvent("onload",c);o.src=h;i.foreverFrame.connections[s]=n;n.frame=o;n.frameId=s;r&&(n.onSuccess=function(){n.log("Iframe transport started.");r()})},reconnect:function(n){var r=this;i.isConnectedOrReconnecting(n)&&i.verifyLastActive(n)&&t.setTimeout(function(){if(i.verifyLastActive(n)&&n.frame&&i.ensureReconnectingState(n)){var u=n.frame,t=i.getUrl(n,r.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'.");u.src=t}},n.reconnectDelay)},lostConnection:function(n){this.reconnect(n)},send:function(n,t){i.ajaxSend(n,t)},receive:function(t,u){var f,e,o;if(t.json!==t._originalJson&&(u=t._originalJson.stringify(u)),o=t._parseResponse(u),i.processMessages(t,o,t.onSuccess),t.state===n.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>r.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,f=t.frame.contentWindow||t.frame.contentDocument,f&&f.document&&f.document.body)))for(e=f.document.body;e.firstChild;)e.removeChild(e.firstChild)},stop:function(n){var r=null;if(f.cancel(),n.frame){if(n.frame.stop)n.frame.stop();else try{r=n.frame.contentWindow||n.frame.contentDocument;r.document&&r.document.execCommand&&r.document.execCommand("Stop")}catch(u){n.log("Error occured when stopping foreverFrame transport. Message = "+u.message+".")}n.frame.parentNode===t.document.body&&t.document.body.removeChild(n.frame);delete i.foreverFrame.connections[n.frameId];n.frame=null;n.frameId=null;delete n.frame;delete n.frameId;delete n.onSuccess;delete n.frameMessageCount;n.log("Stopping forever frame.")}},abort:function(n,t){i.ajaxAbort(n,t)},getConnection:function(n){return i.foreverFrame.connections[n]},started:function(t){o(t,r.connectionState.reconnecting,r.connectionState.connected)===!0&&n(t).triggerHandler(e.onReconnect)}}}(window.jQuery,window),function(n,t){var r=n.signalR,u=n.signalR.events,e=n.signalR.changeState,f=n.signalR.isDisconnecting,i=r.transports._logic;r.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(o,s,h){var a=this,v=function(){v=n.noop;o.log("LongPolling connected.");s()},y=function(n){return h(n)?(o.log("LongPolling failed to connect."),!0):!1},c=o._,l=0,p=function(i){t.clearTimeout(c.reconnectTimeoutId);c.reconnectTimeoutId=null;e(i,r.connectionState.reconnecting,r.connectionState.connected)===!0&&(i.log("Raising the reconnect event"),n(i).triggerHandler(u.onReconnect))},w=36e5;o.pollXhr&&(o.log("Polling xhr requests already exists, aborting."),o.stop());o.messageId=null;c.reconnectTimeoutId=null;c.pollTimeoutId=t.setTimeout(function(){(function e(s,h){var g=s.messageId,nt=g===null,k=!nt,tt=!h,d=i.getUrl(s,a.name,k,tt,!0),b={};(s.messageId&&(b.messageId=s.messageId),s.groupsToken&&(b.groupsToken=s.groupsToken),f(s)!==!0)&&(o.log("Opening long polling request to '"+d+"'."),s.pollXhr=i.ajax(o,{xhrFields:{onprogress:function(){i.markLastMessage(o)}},url:d,type:"POST",contentType:r._.defaultContentType,data:b,timeout:o._.pollTimeout,success:function(r){var h,w=0,u,a;o.log("Long poll complete.");l=0;try{h=o._parseResponse(r)}catch(b){i.handleParseFailure(s,r,b,y,s.pollXhr);return}(c.reconnectTimeoutId!==null&&p(s),h&&(u=i.maximizePersistentResponse(h)),i.processMessages(s,h,v),u&&n.type(u.LongPollDelay)==="number"&&(w=u.LongPollDelay),f(s)!==!0)&&(a=u&&u.ShouldReconnect,!a||i.ensureReconnectingState(s))&&(w>0?c.pollTimeoutId=t.setTimeout(function(){e(s,a)},w):e(s,a))},error:function(f,h){var v=r._.transportError(r.resources.longPollFailed,o.transport,f,s.pollXhr);if(t.clearTimeout(c.reconnectTimeoutId),c.reconnectTimeoutId=null,h==="abort"){o.log("Aborted xhr request.");return}if(!y(v)){if(l++,o.state!==r.connectionState.reconnecting&&(o.log("An error occurred using longPolling. Status = "+h+".  Response = "+f.responseText+"."),n(s).triggerHandler(u.onError,[v])),(o.state===r.connectionState.connected||o.state===r.connectionState.reconnecting)&&!i.verifyLastActive(o))return;if(!i.ensureReconnectingState(s))return;c.pollTimeoutId=t.setTimeout(function(){e(s,!0)},a.reconnectDelay)}}}),k&&h===!0&&(c.reconnectTimeoutId=t.setTimeout(function(){p(s)},Math.min(1e3*(Math.pow(2,l)-1),w))))})(o)},250)},lostConnection:function(n){n.pollXhr&&n.pollXhr.abort("lostConnection")},send:function(n,t){i.ajaxSend(n,t)},stop:function(n){t.clearTimeout(n._.pollTimeoutId);t.clearTimeout(n._.reconnectTimeoutId);delete n._.pollTimeoutId;delete n._.reconnectTimeoutId;n.pollXhr&&(n.pollXhr.abort(),n.pollXhr=null,delete n.pollXhr)},abort:function(n,t){i.ajaxAbort(n,t)}}}(window.jQuery,window),function(n){function r(n){return n+e}function s(n,t,i){for(var f=n.length,u=[],r=0;r<f;r+=1)n.hasOwnProperty(r)&&(u[r]=t.call(i,n[r],r,n));return u}function h(t){return n.isFunction(t)?null:n.type(t)==="undefined"?null:t}function u(n){for(var t in n)if(n.hasOwnProperty(t))return!0;return!1}function f(n,t){var i=n._.invocationCallbacks,r,f;u(i)&&n.log("Clearing hub invocation callbacks with error: "+t+".");n._.invocationCallbackId=0;delete n._.invocationCallbacks;n._.invocationCallbacks={};for(f in i)r=i[f],r.method.call(r.scope,{E:t})}function i(n,t){return new i.fn.init(n,t)}function t(i,r){var u={qs:null,logging:!1,useDefaultPath:!0};return n.extend(u,r),(!i||u.useDefaultPath)&&(i=(i||"")+"/signalr"),new t.fn.init(i,u)}var e=".hubProxy",o=n.signalR;i.fn=i.prototype={init:function(n,t){this.state={};this.connection=n;this.hubName=t;this._={callbackMap:{}}},constructor:i,hasSubscriptions:function(){return u(this._.callbackMap)},on:function(t,i){var u=this,f=u._.callbackMap;return t=t.toLowerCase(),f[t]||(f[t]={}),f[t][i]=function(n,t){i.apply(u,t)},n(u).bind(r(t),f[t][i]),u},off:function(t,i){var e=this,o=e._.callbackMap,f;return t=t.toLowerCase(),f=o[t],f&&(f[i]?(n(e).unbind(r(t),f[i]),delete f[i],u(f)||delete o[t]):i||(n(e).unbind(r(t)),delete o[t])),e},invoke:function(t){var i=this,r=i.connection,e=n.makeArray(arguments).slice(1),c=s(e,h),f={H:i.hubName,M:t,A:c,I:r._.invocationCallbackId},u=n.Deferred(),l=function(f){var e=i._maximizeHubResponse(f),h,s;n.extend(i.state,e.State);e.Progress?u.notifyWith?u.notifyWith(i,[e.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+n.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):e.Error?(e.StackTrace&&r.log(e.Error+"\n"+e.StackTrace+"."),h=e.IsHubException?"HubException":"Exception",s=o._.error(e.Error,h),s.data=e.ErrorData,r.log(i.hubName+"."+t+" failed to execute. Error: "+s.message),u.rejectWith(i,[s])):(r.log("Invoked "+i.hubName+"."+t),u.resolveWith(i,[e.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:i,method:l},r._.invocationCallbackId+=1,n.isEmptyObject(i.state)||(f.S=i.state),r.log("Invoking "+i.hubName+"."+t),r.send(f),u.promise()},_maximizeHubResponse:function(n){return{State:n.S,Result:n.R,Progress:n.P?{Id:n.P.I,Data:n.P.D}:null,Id:n.I,IsHubException:n.H,Error:n.E,StackTrace:n.T,ErrorData:n.D}}};i.fn.init.prototype=i.fn;t.fn=t.prototype=n.connection();t.fn.init=function(t,i){var e={qs:null,logging:!1,useDefaultPath:!0},u=this;n.extend(e,i);n.signalR.fn.init.call(u,t,e.qs,e.logging);u.proxies={};u._.invocationCallbackId=0;u._.invocationCallbacks={};u.received(function(t){var f,o,e,i,s,h;t&&(typeof t.P!="undefined"?(e=t.P.I.toString(),i=u._.invocationCallbacks[e],i&&i.method.call(i.scope,t)):typeof t.I!="undefined"?(e=t.I.toString(),i=u._.invocationCallbacks[e],i&&(u._.invocationCallbacks[e]=null,delete u._.invocationCallbacks[e],i.method.call(i.scope,t))):(f=this._maximizeClientHubInvocation(t),u.log("Triggering client hub event '"+f.Method+"' on hub '"+f.Hub+"'."),s=f.Hub.toLowerCase(),h=f.Method.toLowerCase(),o=this.proxies[s],n.extend(o.state,f.State),n(o).triggerHandler(r(h),[f.Args])))});u.error(function(n,t){var i,r;t&&(i=t.I,r=u._.invocationCallbacks[i],r&&(u._.invocationCallbacks[i]=null,delete u._.invocationCallbacks[i],r.method.call(r.scope,{E:n})))});u.reconnecting(function(){u.transport&&u.transport.name==="webSockets"&&f(u,"Connection started reconnecting before invocation result was received.")});u.disconnected(function(){f(u,"Connection was disconnected before invocation result was received.")})};t.fn._maximizeClientHubInvocation=function(n){return{Hub:n.H,Method:n.M,Args:n.A,State:n.S}};t.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting(function(){var i=[];n.each(t.proxies,function(n){this.hasSubscriptions()&&(i.push({name:n}),t.log("Client subscribed to hub '"+n+"'."))});i.length===0&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.");t.data=t.json.stringify(i)}))};t.fn.createHubProxy=function(n){n=n.toLowerCase();var t=this.proxies[n];return t||(t=i(this,n),this.proxies[n]=t),this._registerSubscribedHubs(),t};t.fn.init.prototype=t.fn;n.hubConnection=t}(window.jQuery,window),function(n){n.signalR.version="2.2.0"}(window.jQuery),function(n){n.utils.viewScript("areas.root.customerCare.form.form",{o:null,$root:null,init:function(){this.$root=n(".v-customer-care");this.initForm();this.initRating();n(".order-number input",self.$root).on("keypress",this.fixAutocompleteZIndex);n(".type select").on("change",n.proxy(this.toggleRatingStars,this))},initForm:function(){n("form",this.$root).customAjaxForm({success:function(){n(document).trigger("close-popup");n(".care-link").qtip({content:{text:"Спасибо, Ваше обращение принято, Вам обязательно ответят."},style:{classes:"qtip-customer-account"},position:{my:"top center",at:"bottom center"},show:{ready:!0}})}})},fixAutocompleteZIndex:function(){var t=this,i=n(".order-number input",t.$root).attr("ac-id").replace(/\D/g,"");n(".ac-results").each(function(){n(this).attr("ac-id").replace(/\D/g,"")==i&&n(this).css("z-index",50)})},toggleRatingStars:function(t){n(t.currentTarget).val()==this.o.careTypeComment?n(".rating",this.$root).slideDown(200):n(".rating",this.$root).slideUp(200)},initRating:function(){var t=this;n(".stars span",t.$root).on("click",function(){var i=n(this).data("rating");n(".rating input[type=hidden]",t.$root).val(i);t.refreshStars(this)})},refreshStars:function(t){var i=n(t).data("rating");n(".stars span",self.$root).each(function(){n(this).data("rating")>i?n(this).removeClass("selected"):n(this).addClass("selected")})}})}(jQuery),function(n){n.utils.viewScript("areas.root.customerReactivation.customerReactivationForm",{o:null,$root:null,init:function(){this.$root=n(document.querySelector(".b-customer-reactivation-form"));n("#MyOwnOption",this.$root).on("change",n.proxy(this.onMyOwnOptionChange,this));this.initValidation()},onMyOwnOptionChange:function(t){var i=n(t.target),r=i.parent().find("#MyOwnOptionText");r.prop("disabled",function(){return!i.prop("checked")})},initValidation:function(){n.validator.unobtrusive.parse(this.$root);this.createValidationRules();this.applyValidationRules()},createValidationRules:function(){n.validator.addMethod("myOwnOptionRule",n.proxy(function(){return n("#MyOwnOption",this.$root).prop("checked")&&n("#MyOwnOptionText",this.$root).val()},this),"Введите, пожалуйста, комментарий");n.validator.addMethod("notMoreThanThreeOptions",n.proxy(function(){return n('input[type="checkbox"]:checked',this.$root).length<=3},this),"Вы можете отметить не более 3-х вариантов");n.validator.addMethod("zeroOptions",n.proxy(function(){return n('input[type="checkbox"]:checked',this.$root).length!==0},this),"Вы должны отметить хотя бы один вариант")},applyValidationRules:function(){n("#MyOwnOptionText",this.$root).rules("add","myOwnOptionRule");n('input[type="checkbox"]',this.$root).rules("add","notMoreThanThreeOptions");n('input[type="checkbox"]',this.$root).rules("add","zeroOptions")}})}(jQuery),function(n){n.utils.viewScript("areas.root.dashboard.root",{o:null,$root:null,init:function(){if(this.$root=n(".v-dashboard"),n.eventsTracker)n(document).on(n.eventsTracker.eventsTrackerEventReceivedActionName,n.proxy(this.addEvent,this))},addEvent:function(t,i){var r=n(n(".item",this.$root)[0]).clone();r.data("offset",i.Date);n(".icon",r).attr("class","icon type"+i.EventType);n(".date",r).text(i.DisplayDate);n(".content",r).html(i.Html);n(".b-items",this.$root).prepend(r);r.fadeOut(1,n.proxy(function(){r.fadeIn(500)},this))}})}(jQuery),function(n){n.utils.viewScript("areas.root.faq.root",{o:null,$root:null,init:function(){this.$root=n(".v-faq .b-faq-sections");var t=this.$root.find(".content-area .item");t.each(function(){var t="<p>"+n(this).html()+"<\/p>";t=t.replace(/\r\n/g,"<\/p><p>").replace(/\n/g,"<\/p><p>");n(this).html(t)})}})}(jQuery),function(n){n.utils.viewScript("areas.root.finance.payout",{o:null,$root:null,init:function(){this.$root=n("form",".v-payout");n(document).trigger("ajax-content-loaded",this.$root);this.$payObject=this.$root.makePayoutOrder({changeFormAnimation:n.proxy(this.changeForm,this),amountAvailable:this.o.amountAvailable});this.initPaymentTypeSelect()},initPaymentTypeSelect:function(){n("#Type",this.$root).change(n.proxy(this.updateType,this))},updateType:function(t){this.$payObject.setType(n(t.target).val())},changeForm:function(t){var i=n(".payout-data",this.$root),r=n(".js-subform",i);r.slideUp();t.slideUp();r.remove();i.append(t);n(document).trigger("ajax-content-loaded",t);t.slideDown()}})}(jQuery),function(n){n.utils.viewScript("areas.root.finance.popUpPayout",{o:null,$root:null,init:function(){this.$root=n(".v-payout");n(document).trigger("ajax-content-loaded",this.$root)}})}(jQuery),function(n){n.utils.registerNamespace("areas.root.login.unsubscribe");n.areas.root.login.unsubscribe=function(n){this.o=n;this.init();this.initialized=!0};n.areas.root.login.unsubscribe.prototype={o:null,initialized:!1,init:function(){n(".js-unsubscribe-link").click(function(t){return n.post(n(t.target).attr("href"),function(t){t.Error?n(".js-result").html(t.Error):n(".js-result").html("Вы успешно отписаны!")}),!1})}}}(jQuery),function(n){n.utils.viewScript("areas.root.messages.customerForm",{o:null,$root:null,$list:null,init:function(){this.$root=n(".message-form."+this.o.dialog+" form");this.submitOnCtrlEnter();this.$root.customAjaxForm(n.proxy(function(){this.$root.resetForm()},this))},submitOnCtrlEnter:function(){n(document).on("keydown","#Text",n.proxy(this.trySendByKeyBoard,this))},trySendByKeyBoard:function(n){(n.keyCode==10||n.keyCode==13)&&n.ctrlKey&&this.$root.parent().is(":visible")&&this.$root.submit()}})}(jQuery),function(n){n.utils.viewScript("areas.root.messages.list",{o:null,$root:null,init:function(){this.$root=n(".v-order-messages-root."+this.o.dialog+" .messages-list");this.o.dialog==="CustomerAuthor"?this.$root[0].customerAuthor||(n(document).bind("employeeauthorcustomermessage-created",n.proxy(this.getNewMessage,this)),this.$root[0].customerAuthor="binded"):this.$root[0].employeeCustomerMessage||(n(document).bind("employeecustomermessage-created",n.proxy(this.getNewMessage,this)),this.$root[0].employeeCustomerMessage="binded")},getNewMessage:function(t,i){n.customAjax({url:this.o.handlers.getNewMessage,type:"get",data:{id:i.id},success:n.proxy(this.onMessageLoaded,this)})},onMessageLoaded:function(t){var i=n(t);this.$root.show();i.hide();this.$root.append(i);i.slideDown();this.$root.animate({scrollTop:this.$root.prop("scrollHeight")},500)}})}(jQuery),function(n){n.utils.viewScript("areas.root.messages.messageFormPopup",{o:null,$root:null,init:function(){this.$root=n(".v-order-message-popup");n(document).bind("employeecustomermessage-created",n.proxy(this.close,this))},close:function(){n(document).trigger("close-popup")}})}(jQuery),function(n){n.utils.viewScript("areas.root.messages.root",{o:null,$root:null,$list:null,init:function(){this.$root=n(".v-order-messages-root."+this.o.dialog);this.$list=n(".messages-list",this.$root);n.trim(this.$list.html()).length||this.$list.hide();this.$list.scrolloader({area:this.$list,preserveHeader:!1,direction:"up",url:this.o.handlers.loadMoreMessages});n(document).bind("ajax-content-loaded",function(){n.proxy(this.initNotReadLine,this)});this.initNotReadLine();this.$list.scrollTop(this.$list[0].scrollHeight);this.setAsRead()},setAsRead:function(){var t="";n(".message",this.$list).each(function(i,r){t+=n(r).data("id")+","});t.indexOf(",")>0&&(t=t.substr(0,t.length-1));n.customAjax({url:this.o.handlers.setAsRead,type:"post",data:{Messages:t}})},initNotReadLine:function(){(n(".unread-line",this.$list).remove(),n(".message.unread",this.$list).length!=n(".message",this.$list).length)&&n(".message.unread:first",this.$list).prepend('<div class="unread-line"><\/div>')}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.askAboutQuality",{o:null,$root:null,init:function(){this.$root=n("#"+this.o.widgetId);n(this.$root).click(n.proxy(this.onClick,this))},onClick:function(){var t=this;n.customAjax({url:t.o.handlers.successPopup,type:"get",success:function(t){n(t).appendTo("body")}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.autoEstimateForm",{o:null,$root:null,index:0,$days:null,buttons:{},submitted:!1,init:function(){this.$root=n(".v-order-price-factor");this.$days=n(".days",this.$root);this.$needPractice=n("input.need-practice",this.$root);this.buttons={$up:n(".up",this.$root),$down:n(".down",this.$root),$submit:n(".submit",this.$root)};this.restoreIndex();this.changeButtonsActivity();this.initButtons();this.initContentChange()},restoreIndex:function(){this.index=this.o.factors.length-1;var n=this.$days.val();this.index=this.findFactorIndexByDay(n);this.index==-1&&(this.index=this.o.factors.length-1)},findFactorIndexByDay:function(n){for(var i=this.o.factors,t=0;t<i.length;t++)if(i[t].days==n)return t;return-1},changeButtonsActivity:function(){this.index==this.o.factors.length-1&&this.buttons.$up.addClass("disabled");this.index==0&&this.buttons.$down.addClass("disabled")},initButtons:function(){var t=this;this.buttons.$up.click(function(){n(this).hasClass("disabled")||t.nextDay()});this.buttons.$down.click(function(){n(this).hasClass("disabled")||t.prevDay()});this.buttons.$submit.click(function(){t.submitted=!0});n(window).on("unload",n.proxy(t.standardEstimate,this));n(document).on("estimation-popup-closed",n.proxy(t.standardEstimate,this))},nextDay:function(){this.index>=this.o.factors.length-1||(this.index++,this.checkArrowButtons(),this.updateValues())},prevDay:function(){this.index!=0&&(this.index--,this.checkArrowButtons(),this.updateValues())},checkArrowButtons:function(){this.buttons.$up.removeClass("disabled");this.buttons.$down.removeClass("disabled");this.index==0&&this.buttons.$down.addClass("disabled");this.index>=this.o.factors.length-1&&this.buttons.$up.addClass("disabled")},initContentChange:function(){this.$needPractice.change(n.proxy(function(){this.updateValues()},this))},updateValues:function(){this.$days.val(this.o.factors[this.index].days);var r=this.o.factors[this.index].factor,t=this.getPrice()*r,u=t*(1-this.o.discount),f=Math.ceil(t),e=Math.ceil(u),i=n(".final-price .rouble").clone();n(".old-price",this.$root).text(f).append(i.clone());n(".final-price",this.$root).text(e).append(i.clone())},getPrice:function(){return this.$needPractice.length==0||!this.$needPractice.is(":checked")?this.o.prices.normal:this.o.prices.practice},standardEstimate:function(){this.submitted||n.customAjax({url:this.o.handlers.standardEstimate,type:"post",data:{NeedPractice:this.$needPractice.length!==0&&this.$needPractice.is(":checked")},success:function(){}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.autoEstimateNewForm",{o:null,$root:null,index:0,$days:null,buttons:{},submitted:!1,variations:[],init:function(){this.$root=n(".v-order-price-factor-new");this.$days=n(".term-info-value-days",this.$root);this.$needPractice=n("input.need-practice",this.$root);this.buttons={$submit:n(".submit",this.$root)};this.restoreIndex();this.initButtons();this.initContentChange();this.initVariations();this.chooseVariation()},restoreIndex:function(){this.index=this.o.factors.length-1;var n=this.$days.val();this.index=this.findFactorIndexByDay(n);this.index==-1&&(this.index=this.o.factors.length-1)},findFactorIndexByDay:function(n){for(var i=this.o.factors,t=0;t<i.length;t++)if(i[t].days==n)return t;return-1},initButtons:function(){var t=this;this.buttons.$submit.click(function(){t.submitted=!0;t.$root.submit()});n(window).on("unload",n.proxy(t.standardEstimate,this));n(document).on("popup-closed",n.proxy(t.standardEstimate,this))},initContentChange:function(){this.$needPractice.change(n.proxy(function(){this.updateValues()},this));this.$days.on("blur",n.proxy(function(){this.index=parseInt(this.$days.val())-1;this.updateValues()},this))},updateValues:function(){var u=this.$days.val(),t=this.getMinFactor();u<=t.days?this.$days.val(t.days):t=this.getFactorOrLast(this.$days.val());var f=t.factor,i=this.getPrice()*f,e=i*(1-this.o.discount),o=Math.ceil(i),s=Math.ceil(e),r=n(".total-price .rouble").clone();n(".old-price",this.$root).html(this.formatPrice(o)).append(r.clone());n(".total-price",this.$root).html(this.formatPrice(s)).append(r.clone())},getFactorOrLast:function(n){for(var t=0;t<this.o.factors.length;t++)if(this.o.factors[t].days>=n)return this.o.factors[t];return this.o.factors[this.o.factors.length-1]},getMinFactor:function(){for(var t=Math.pow(2,53)-1,i=0,n=0;n<this.o.factors.length;n++)this.o.factors[n].days<t&&(t=this.o.factors[n].days,i=n);return this.o.factors[i]},getPrice:function(){return this.$needPractice.length==0||!this.$needPractice.is(":checked")?this.o.prices.normal:this.o.prices.practice},standardEstimate:function(){this.submitted||n.customAjax({url:this.o.handlers.standardEstimate,type:"post",data:{NeedPractice:this.$needPractice.length!==0&&this.$needPractice.is(":checked")},success:function(){}})},initVariations:function(){this.variations=[function(){},n.proxy(function(){this.$root.removeClass("var1").addClass("var2");n(".submit",this.$root).text("Запустить в работу")},this),n.proxy(function(){this.$root.removeClass("var1").addClass("var3")},this),n.proxy(function(){this.$root.removeClass("var1").addClass("var4");n(".submit",this.$root).text("Запустить в работу")},this)]},chooseVariation:function(){n.getScript("//www.google-analytics.com/cx/api.js?experiment="+this.o.experimentId,n.proxy(function(){var n=cxApi.chooseVariation();this.variations[n]();this.startGA()},this))},startGA:function(){if(!window.ga){var n=document.createEvent("Event");n.initEvent("start-GA",!0,!0);document.dispatchEvent(n)}},formatPrice:function(n){if(n<=999)return n;var t=n+"",i=t.length-3;return t.substr(0,i)+"&nbsp;"+t.substr(i)}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.details",{0:null,$root:null,init:function(){this.$root=n(".v-order-details-root");this.initToggleDescription();this.initHideMarkLink();this.initBottomScroll();n.utils.processHash("popupmark",this.$root);this.updateShowPopUpCookie()},initToggleDescription:function(){n(".expand-description",this.$root).click(function(){var t=n(this);return t.toggleClass("expanded"),n(".b-description",t.closest(".b-details")).slideToggle(),!1})},initHideMarkLink:function(){var t=this;n(document).on("orderringup-changed",function(){n(".show-estimate-window",t.$root).remove()})},initBottomScroll:function(){for(var i=this.$root[0],r=i.querySelectorAll("ul a"),t=0;t<r.length;t++)r[t].addEventListener("click",function(){for(var r=i.querySelectorAll(".messages-list"),t=0;t<r.length;t++)n(r[t]).scrollTop(r[t].scrollHeight)})},updateShowPopUpCookie:function(){this.o.coursePopUp.shouldSetUp&&n.cookie(this.o.coursePopUp.key,!0,{expires:1e3,path:"/"})}})}(jQuery),function(n){n.utils.registerNamespace("areas.root.orders.files ");n.areas.root.orders.files=function(){this.$root=n(".v-order-files-root");this.init()};n.areas.root.orders.files.prototype={init:function(){var t=this;n(".js-send-file-to-email",this.$root).click(t.sendFileToEmail);n(".sent-file-tooltip",this.$root).qtip({content:{text:"Файл отправлен на почту"},position:{my:"center center",at:"center center",target:this.$root},events:{show:function(){var t=n(this);setTimeout(function(){t.qtip("hide")},2e3)}}})},sendFileToEmail:function(t){var i=n(t.currentTarget),r=i.data("url");n.customAjax({url:r,type:"POST",async:!1,success:function(n){n.Ok&&i.next().qtip("show")}})}}}(jQuery),function(n){n.utils.viewScript("areas.root.orders.gALoader",{o:null,variations:[],init:function(){this.initVariations();this.onLoad()},onLoad:function(){n.proxy(n.chooseVariation,this,this.o.experimentId,this.variations)()},initVariations:function(){n.ajaxLoad=function(t){n(".order-price-area").each(function(){var i=n(this);n.customAjax({url:t.replace(/1/g,i.children("#orderId").val()),type:"get",success:function(t){i.fillWithAjaxContent(n(t))}})})};this.variations=[n.proxy(function(){n.proxy(n.ajaxLoad,this,this.o.handlers.orderPriceWidget1)()},this),n.proxy(function(){n.proxy(n.ajaxLoad,this,this.o.handlers.orderPriceWidget2)()},this),n.proxy(function(){n.proxy(n.ajaxLoad,this,this.o.handlers.orderPriceWidget3)()},this),n.proxy(function(){n.proxy(n.ajaxLoad,this,this.o.handlers.orderPriceWidget4)()},this)]}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.newMessagesMenuWidget",{o:null,$root:null,init:function(){this.$root=n(".v-orders-menu-item");this.initTooltip()},initTooltip:function(){var t=n(".count-spot",this.$root);t.length!=0&&t.qtip({content:{text:n(".w-orders-new-messages")},style:{classes:"qtip-menu-event"},position:{my:"top left",at:"bottom right",viewport:n(window)},show:{effect:function(){n(this).fadeTo(400,1)}},hide:{fixed:!0,delay:200}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.orderPriceWidget",{o:null,$root:null,accountAmount:0,init:function(){this.$root=n(".w-order-price[data-id="+this.o.uniqueId+"]");n(document).on("order-changed",n.proxy(this.update,this))},update:function(t,i){if(i.id==this.o.orderId){var r=this;n.each(i.changes,function(t,i){if(i.name.toLowerCase()==="price"){n.customAjax({url:r.o.handlers.update,success:n.proxy(function(t){var i=n(t);r.$root.replaceWith(i);r.$root=i;n(document).trigger("ajax-content-loaded",i)},r)});return}})}}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.orderPriceWidget2",{o:null,$root:null,accountAmount:0,init:function(){this.$root=n(".w-order-price2[data-id="+this.o.uniqueId+"]");n(document).on("order-changed",n.proxy(this.update,this))},update:function(t,i){if(i.id==this.o.orderId){var r=this;n.each(i.changes,function(t,i){if(i.name.toLowerCase()==="price"){n.customAjax({url:r.o.handlers.update,success:n.proxy(function(t){var i=n(t);r.$root.replaceWith(i);r.$root=i;n(document).trigger("ajax-content-loaded",i)},r)});return}})}}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.orderPriceWidget3",{o:null,$root:null,accountAmount:0,init:function(){this.$root=n(".w-order-price3[data-id="+this.o.uniqueId+"]");n(document).on("order-changed",n.proxy(this.update,this))},update:function(t,i){if(i.id==this.o.orderId){var r=this;n.each(i.changes,function(t,i){if(i.name.toLowerCase()==="price"){n.customAjax({url:r.o.handlers.update,success:n.proxy(function(t){var i=n(t);r.$root.replaceWith(i);r.$root=i;n(document).trigger("ajax-content-loaded",i)},r)});return}})}}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.orderPriceWidget4",{o:null,$root:null,accountAmount:0,init:function(){this.$root=n(".w-order-price4[data-id="+this.o.uniqueId+"]");n(document).on("order-changed",n.proxy(this.update,this))},update:function(t,i){if(i.id==this.o.orderId){var r=this;n.each(i.changes,function(t,i){if(i.name.toLowerCase()==="price"){n.customAjax({url:r.o.handlers.update,success:n.proxy(function(t){var i=n(t);r.$root.replaceWith(i);r.$root=i;n(document).trigger("ajax-content-loaded",i)},r)});return}})}}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.pay",{o:null,$root:null,$hideFor5000:null,accountAmount:0,init:function(){this.$root=n(".v-order-pay-root");this.$hideFor5000=n(".hideFor5000",this.$root);this.initFormToOpenInNewTab();this.initPaymentSystemChange();this.initPaymentTypeSelect();this.accountAmount=parseInt(n("#AccountAmount",this.$root).val());this.initPay();this.initNextStep();n(document).on("paymentmonetarytransaction-created",n.proxy(this.showOkPopup,this));n.marketingUtils.raiseGTMVirtualPageview("/customer/orders/"+this.o.orderId+"/pay","Форма оплаты заказа "+this.o.orderNumber);this.showPaymentSystems(!1);this.paymentTypeChange();this.recalculatePosition()},recalculatePosition:function(){var t=n("#simple-popup"),i=n(window).scrollTop()+50;t.css({top:i})},initFormToOpenInNewTab:function(){var t=n("form",this.$root);t.attr("target","new-tab");t.submit(function(){n(this).valid()&&window.open("","new-tab")})},showPaymentSystems:function(t){var i=t?this.o.maxAmount:this.o.minAmount;i>5e3?(n(".hideFor5000 input").is(":checked")&&n(n('input[Name="PaymentType"]')[0]).prop("checked",!0),this.$hideFor5000.hide()):this.$hideFor5000.show()},initPaymentTypeSelect:function(){var t=this;n("#Amount",this.$root).change(function(){var i=n(this);t.showPaymentSystems(i.val()==="Full")})},initPay:function(){var t=this;n(".pay",this.$root).click(function(){return n(this).closest("form").submit(function(){return n.marketingUtils.raiseGTMVirtualPageview("/customer/orders/"+t.o.orderId+"/to-payment-aggregator","Переход к платёжной системе для оплаты заказа "+t.o.orderNumber),!0}),n(this).closest("form").submit(),!1})},initNextStep:function(){n(".next-step",this.$root).click(function(){n("#FirstStep").hide();n("#StepNumber").text("Шаг 2");n("#SecondStep").show();n(document).trigger("simple-popup-recalculate-position")})},showOkPopup:function(){n(".cancel",this.$root).click();n.customAjax({url:this.o.handlers.success,success:n.proxy(function(t){var i=n(t);n("body").append(i)},this)})},initPaymentSystemChange:function(){n('.payment-system-list input[type="radio"]',this.$root).on("change",n.proxy(this.onPaymentSystemChanged,this))},onPaymentSystemChanged:function(t){var u=n(t.target).val(),i=n(".payment-alert.reciept",this.$root),r=n(".payment-alert.commission",this.$root);u=="SberBankInvoice"?(r.is(":visible")&&r.slideUp("fast"),i.is(":not(:visible)")&&i.slideDown("fast")):(i.is(":visible")&&i.slideUp("fast"),r.is(":not(:visible)")&&r.slideDown("fast"))},paymentTypeChange:function(){n('.part-of-payment input[type="radio"]',this.$root).on("change",n.proxy(this.onPaymentTypeChanged,this));var t=n('.selected input[type="radio"]',this.$root);if(!t.exists()){n(".bonus-section",this.$root).show();return}t.trigger("change")},onPaymentTypeChanged:function(t){n(t.target.parentElement).after(n(".bonus-section"));n(".part-of-payment .editor-bordered-line").removeClass("selected");n(t.target.parentElement).addClass("selected");n(".bonus-section").hide().show(300);var i=n(t.target).val();this.showPaymentSystems(i==="Full")}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.placedOrderForPopup",{o:null,$root:null,variations:[],init:function(){this.$root=n(document.querySelector(".v-placed-order-for-popup"));this.initVariations()},initVariations:function(){this.variations=[function(){},n.proxy(function(){this.$root.addClass("wait-var1")},this)]},choseVariation:function(){n.getScript("//www.google-analytics.com/cx/api.js?experiment="+this.o.experimentId,n.proxy(function(){var n=cxApi.chooseVariation();this.variations[n]();this.startGA()},this))},startGA:function(){if(!window.ga){var n=document.createEvent("Event");n.initEvent("start-GA",!0,!0);document.dispatchEvent(n)}}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.popupEstimate",{o:null,$root:null,init:function(){n(".btn-close").click(function(){n(document).trigger("estimation-popup-closed");n(".w-popup-overlay, .w-popup-root").remove()})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.qualityPopup",{o:null,init:function(){try{window.ga&&ga("send","event","guarantee","open")}finally{n("#simple-popup").css("margin-bottom","30px");this.recalculatePosition()}},recalculatePosition:function(){var t=n("#simple-popup"),i=n(window).scrollTop()+50;t.css({top:i})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.updateCustomerAndOrderPopup",{o:null,$root:null,init:function(){this.$root=n(".v-update-customer-and-order");this.onLoadContentStepOne();n(document).on("popup-closed",function(){window.location=window.location.href.replace(window.location.search,"")})},onLoadContentStepOne:function(){n.customAjax({url:this.o.handlers.updatingForm,type:"GET",success:n.proxy(function(t){var i=n(t);this.$root.popup();this.$root.closest(".simple-popup").addClass("v-update-customer-and-order-simple-popup");this.$root.children(".wrapper").children(".step-1").html(i);n(document).trigger("ajax-content-loaded",i.find("form"));n(document).trigger("simple-popup-recalculate-position")},this)})}})}(jQuery),function(n){n.utils.viewScript("areas.root.orders.updatingForm",{o:null,$root:null,$form:null,$containerPopup:null,$containerStepTwo:null,init:function(){this.$root=n(".v-updating-form");this.$form=n("form",this.$root);this.$containerPopup=this.$root.closest(".v-update-customer-and-order");this.$stepTwo=this.$containerPopup.children(".wrapper").children(".step-2");this.$containerStepTwo=this.$stepTwo.children(".container");this.initHandlers()},initHandlers:function(){n(".label",".editor-entry",this.$root).on("click",n.proxy(this.onAdditionalInfoClick,this));this.$form.submit(n.proxy(this.onFormSubmit,this));this.$form.customAjaxForm({success:n.proxy(function(t){window.location.hash="Placed=true";n(t).is(".v-order-price-factor-new")&&this.$stepTwo.addClass("step-2--buy");this.$containerPopup.addClass("view-step-2");this.$containerStepTwo.html(n(t));n(document).trigger("simple-popup-recalculate-position");this.onScrollToStepTwo();this.$root.closest(".disable-close").removeClass("disable-close");n("#simple-popup-overlay").one("click",function(){n(document).trigger("close-popup")})},this)})},onAdditionalInfoClick:function(t){var i=n(t.target),r=i.closest(".editor-entry");r.toggleClass("closed")},onScrollToStepTwo:function(){n("html, body").animate({scrollTop:this.$stepTwo.offset().top},2500)},onFormSubmit:function(){try{this.$form.valid()&&yaCounter16933297.reachGoal("ordertwostep")}catch(n){}}})}(jQuery),function(n){n.utils.viewScript("areas.root.partnership.root.root",{o:null,$root:null,init:function(){this.$root=n(".v-partnership-root");n(".to-tools",this.$root).on("click",function(){n("a.tools-tab").trigger("click")});n(".to-stats",this.$root).on("click",function(){n("a.stats-tab").trigger("click")})}})}(jQuery),function(n){n.utils.viewScript("areas.root.partnership.successStories",{o:null,$root:null,lastElementNumber:0,defaultAnimationDuration:400,init:function(){this.$root=n(".b-success-stories");this.lastElementNumber=n("li:last-child",".clients",this.$root).data("order");n("li",".clients",this.$root).click(n.proxy(this.getOtherReview,this));n("li",".selectors",this.$root).click(n.proxy(this.getOtherReview,this))},changeSelector:function(t){var i=n(".active",".selectors",this.$root),r=n('li[data-id="'+t+'"]',".selectors",this.$root);i.removeClass("active");r.addClass("active")},changeReview:function(t,i){var r=n(".active",".reviews",this.$root),u=n("li#"+t,".reviews",this.$root);r.removeClass("active");r.fadeOut(this.defaultAnimationDuration/2,n.proxy(function(){i(t);u.fadeIn(this.defaultAnimationDuration/2,function(){u.addClass("active")})},this))},changeAuthor:function(t){var i=n('li[data-id="'+t+'"]',".clients",this.$root),r=n(".active",".clients",this.$root),u=n('li[data-order="'+this.lastElementNumber+'"]',".clients",this.$root);if(r.length!=0&&!i.hasClass("active")){var e=parseInt(i.css("top")),f=i.attr("data-order"),o=parseInt(r.css("top")),s=u.attr("data-order"),h=parseInt(u.css("top"));r.removeClass("active");i.animate({top:o+"px"},{duration:this.defaultAnimationDuration,complete:n.proxy(function(){i.addClass("active");i.attr("data-order",1)},this)});f==2&&u.animate({top:e+"px"},{duration:this.defaultAnimationDuration,complete:function(){u.attr("data-order",f)}});r.animate({top:h+"px"},{duration:this.defaultAnimationDuration,complete:function(){r.attr("data-order",s)}})}},getOtherReview:function(t){var r=n(t.target),i=r.data("id");this.changeAuthor(i);this.changeReview(i,n.proxy(this.changeSelector,this))}})}(jQuery),function(n){n.utils.viewScript("areas.root.partnership.tools.tools",{o:null,$root:null,message:null,init:function(){this.$root=n(".v-partnership-tools");this.handleNotificationCreation();this.initForms();this.setPlaceHolders()},initForms:function(){n("form",this.$root).each(function(){n(this).customAjaxForm({success:function(t){t.Ok!=!0&&n.utils.showError(t.Error)}})})},setPlaceHolders:function(){n(".email input",this.$root).attr("placeholder","Эл. почта");n('input[name="Phone"]',this.$root).attr("placeholder","Телефон")},handleNotificationCreation:function(){var r=this,i=n(".sms button",this.$root),t;i.inputField=n(".phone-input",this.$root);t=n(".email button",this.$root);t.inputField=n("#Email",this.$root);i.on("click",function(){var t=n(".sms input[type=text]",this.$root).val();r.message="Сообщение отправлено на номер "+t});t.on("click",function(){var t=n(".email input[type=text]",this.$root).val();r.message="Сообщение отправлено на почтовый адрес "+t});n(document).on(this.o.smsTypeName+"-created",{$button:i},n.proxy(this.showMessageBox,this));n(document).on(this.o.emailTypeName+"-created",{$button:t},n.proxy(this.showMessageBox,this))},showMessageBox:function(n){n.data.$button.attr("disabled","disabled");n.data.$button.inputField.val("");n.data.$button.qtip({content:{title:this.message,text:"Делитесь ссылкой с большим количеством друзей! Это даст Вам возможность заработать больше!"},position:{my:"center left",at:"center right"},show:{ready:!0},hide:{event:!1}});setTimeout(function(){n.data.$button.qtip("hide");setTimeout(function(){n.data.$button.removeAttr("disabled");n.data.$button.qtip("destroy")},300)},4e3)}})}(jQuery),function(n){n.utils.viewScript("areas.root.profile.contacts.contacts",{o:null,$root:null,$form:null,init:function(){this.$root=n(".v-edit-contacts");this.handleEmailChange()},handleEmailChange:function(){var t=this;n(document).on("changeemailrequest-created",function(){n(".email-editor input",t.$root).qtip({content:{text:"На ваш новый и старый ящики отправлены сообщения с дальнейшими инструкциями по смене ящика."},position:{my:"top center",at:"bottom center"},show:{ready:!0}})})}})}(jQuery),function(n){n.utils.viewScript("areas.root.profile.mailingSettings.mailingSettings",{o:null,$root:null,init:function(){this.$root=n(".v-mailing-settings");this.initCheckboxes()},initCheckboxes:function(){var t=this.o.handlers.saveUrl;n(":checkbox",this.$root).on("change",function(){n.utils.updateEntityWithCheckBoxValue(t,n(this))})}})}(jQuery),function(n){n.utils.viewScript("areas.root.profile.root.root",{o:null,$root:null,$form:null,init:function(){this.$root=n(".v-profile-root");this.initForms()},initForms:function(){n("form",this.$root).each(function(){n(this).customAjaxForm({success:function(t){t.Ok==!0?(n("button[type=submit]",this.$root).text("Сохранено"),setTimeout(function(){n("button[type=submit]",this.$root).text("Сохранить")},5e3)):n.utils.showError(t.Error)}})})}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.balance",{o:null,$root:null,$calendar:null,data:null,init:function(){this.$root=n(".b-balance-root");this.initHandlers()},initHandlers:function(){n(".bonuses",this.$root).click(n.proxy(this.onBonusesClickHandler,this));n(document).on("click",n.proxy(this.onDocumentClickHandler,this))},onBonusesClickHandler:function(){n(".bonuses",this.$root).toggleClass("active");n(".bonuses-list-content",this.$root).toggleClass("active")},onDocumentClickHandler:function(t){var u=n(t.target),i,r;u.closest(".bonuses").length==0&&u.closest(".bonuses-list-content").length==0&&(i=n(".bonuses",this.$root),r=n(".bonuses-list-content",this.$root),i.hasClass("active")&&i.removeClass("active"),r.hasClass("active")&&r.removeClass("active"))}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.calendar",{o:null,$root:null,$calendar:null,data:null,init:function(){this.$root=n(".menu-date-picker");var t=this,i={timepicker:!1,lang:"ru",allowBlank:!0,validateOnBlur:!1,dayOfWeekStart:1,todayButton:!1,closeOnDateSelect:!1,onShow:function(){t.initTooltips()},onChangeMonth:function(){t.initTooltips()},onSelectDate:function(){t.initTooltips()}};this.$root.datetimepicker(i);this.$calendar=n(".xdsoft_datetimepicker");this.initTomorrowTooltip()},initTomorrowTooltip:function(){var t=n(".count-spot",this.$root);t.length!=0&&t.qtip({content:{text:n(".w-calendar-order-events.tomorrow")},style:{classes:"qtip-menu-event"},position:{my:"top right",at:"bottom left",viewport:n(window)},show:{effect:function(){n(this).fadeTo(400,1)}},hide:{fixed:!0,delay:200}})},initTooltips:function(){var t=this;setTimeout(function(){var r={style:{classes:"qtip-customer-account qtip-main-calendar"},position:{my:"bottom left",at:"top right",viewport:n(window)},show:{effect:function(){n(this).fadeTo(400,1)}},hide:{fixed:!0,delay:200}},i=n(".xdsoft_today",t.$calendar);n(".xdsoft_today:not(.xdsoft_order_event)",t.$calendar).qtip(n.extend({},{content:{text:"Сегодня "+i.data("date")+" "+["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][i.data("month")]+" "+i.data("year")}},r));n(".w-calendar-order-events.general .order-event").each(function(){var i=n(this).data("date").split("."),t=n('.xdsoft_date[data-date="'+i[0]+'"][data-month="'+(parseInt(i[1])-1)+'"][data-year="'+i[2]+'"]');t.hasClass("xdsoft_order_event")||t.addClass("xdsoft_order_event");n(".calendar-order-events",t).length==0&&t.append('<div class="calendar-order-events"><\/div>');n(".calendar-order-events",t).append(n(this).clone())});n(".xdsoft_order_event",t.$calendar).each(function(){n(this).qtip(n.extend({},{content:{text:n(".calendar-order-events",n(this))}},r))})},100)}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.discountWidget",{o:null,$root:null,position:null,init:function(){this.$root=n(".w-discount-widget-root");this.position=n(".reached",this.$root).length;this.calculateProgress();this.initPopup()},calculateProgress:function(){var t=n(".progress-column",this.$root),i=n(".cursor",this.$root);switch(this.position){case 1:t.css("height","51px");i.css("margin-top","-30px");break;case 2:t.css("height","111px");i.css("margin-top","-89px");break;case 3:t.css("height","172px");i.css("margin-top","-148px");break;case 4:t.css("height","207px");i.css("margin-top","-206px");break;default:t.css("height","0");i.css("margin-top","-41px")}},initPopup:function(){var t=n(".discount-popup-button",this.$root);t.qtip({content:{text:t.next("div")},style:{classes:"qtip-customer-account qtip-text"},position:{my:"bottom right",at:"top left",viewport:n(window)},show:{effect:function(){n(this).fadeTo(400,1)}},hide:{fixed:!0,delay:200}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.inlineBonusBanner",{o:null,$root:null,init:function(){this.$root=n(".b-inline-bonus-banner");this.initClosePopup()},initClosePopup:function(){var t=this;n(".close-button",t.$root).add(".ok-button",t.$root).on("click",function(){t.$root.hide().remove()})}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.liveTexAbTest",{o:null,variations:[],init:function(){this.initVariations();this.onLoad()},onLoad:function(){n.proxy(n.chooseVariation,this,this.o.experimentId,this.variations,this.o.needStartGA)()},initVariations:function(){n.ajaxLoad=function(t){n.customAjax({url:t,type:"get",success:function(t){n("head").append(t)}})};this.variations=[n.proxy(function(){n.proxy(n.ajaxLoad,this,this.o.handlers.show)()},this),n.proxy(function(){},this)]}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.orderNotificationCreate",{o:null,$root:null,lookup:{},init:function(){this.$root=n(".w-create-notification-root");this.prepareLookup();this.generateAppropriateMessage();this.initHandlers()},initHandlers:function(){var t=n("form",this.$root);t.customAjaxForm({success:n.proxy(this.formSuccessHandler,this)});n("a.submit",t).click(function(){return t.submit(),yaCounter16933297.reachGoal("ZakazatNapominanieLK"),!1});n("a.ok",t).click(n.proxy(this.closePopup,this));n("#WorkType",this.$root).on("change",n.proxy(this.generateAppropriateMessage,this))},formSuccessHandler:function(n){n.Ok&&this.$root.addClass("success")},closePopup:function(){this.$root.closest(".simple-popup").popup("close")},prepareLookup:function(){for(var t=JSON.parse(this.o.widgetData),n=0;n<t.length;n++)this.lookup[t[n].Id]={name:t[n].Name,period:t[n].Period}},generateAppropriateMessage:function(){var t=n("#WorkType",this.$root).val(),i=this.o.templateMessage,r=i.replace("{0}",this.lookup[t].name).replace("{1}",this.lookup[t].period.toLowerCase());n(".text",this.$root).text(r)}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.partnershipPopup",{o:null,$root:null,init:function(){this.$root=n(".v-partnership-popup-root");this.initPopup();n("a",this.$root).click(n.proxy(this.linkHandler,this))},initPopup:function(){this.$root.removeClass("hidden");this.$root.popup()},linkHandler:function(){n(".simple-popup").remove();n("#simple-popup-overlay").remove()}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.qualityPopup",{o:null,$root:null,init:function(){this.$root=n(".v-quality-popup-root");this.initPopup();n(".col1 .icon",this.$root).click(n.proxy(this.okClick,this));n(".col2 .icon",this.$root).click(n.proxy(this.badClick,this))},initPopup:function(){var n=this;n.$root.popup()},okClick:function(){self=this;n(document).trigger("close-popup");n.ajax({type:"POST",url:this.o.okUrl,success:function(){self.clearNotification()}})},badClick:function(){self=this;n(document).trigger("close-popup");n.ajax({type:"POST",url:this.o.needHelpUrl,success:function(){self.clearNotification()}})},clearNotification:function(){n(".w-ask-about-quality").remove()}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.search",{o:null,$root:null,init:function(){var t=this;this.$root=n(".v-global-search-root");n(".result-items",this.$root).scrolloader({filtersForm:".search-from",area:window,preserveHeader:!1,changeEvent:"filter-changed"});n("#Term",this.$root).attr("placeholder","Введите запрос...");n(".search-item",this.$root).click(function(){var t=n(this).data("url");n(this).hasClass("search-item")&&(window.location=t)});n(".search-item a",this.$root).click(function(n){n.stopPropagation()});n(".button",this.$root).click(function(){n(".search-from input",t.$root).trigger("filter-changed")});n(".search-from input",t.$root).on("filter-changed",n.proxy(this.getResultsCount,this));n(".search-from",t.$root).submit(function(){return n(".search-from input",t.$root).trigger("filter-changed"),!1})},getResultsCount:function(){var t=this;n.customAjax({url:this.o.handlers.getResultCount,type:"get",data:n(".search-from",t.$root).serialize(),success:function(i){n(".results-count",t.$root).text("("+i.Count+")")}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.spendYourBonus",{o:null,$root:null,init:function(){this.$root=n(".b-spend-bonus-banner");this.initClosePopup()},initClosePopup:function(){var t=this;n(t.$root).on("click",function(){t.$root.hide().remove()})}})}(jQuery),function(n){n.utils.viewScript("areas.root.root.welcomePopup",{o:null,$root:null,width:0,init:function(){this.$root=n(".v-welcome-popup");this.disableScroll();this.width=n(window).width();this.resize();this.initNavigation()},disableScroll:function(){n("body").addClass("disableScroll")},enableScroll:function(){n("body").removeClass("disableScroll")},resize:function(){n(".content, .buttons",this.$root).width(this.width);n(".content",this.$root).height(n(window).height());this.$root.width(this.width*3)},initNavigation:function(){n(".prev",this.$root).click(n.proxy(this.slideAnimate,this,this.width));n(".next, .content, .buttons",this.$root).click(n.proxy(function(t){this.slideAnimate(-this.width,t);n(t.target).closest(".slide").hasClass("last")&&(this.enableScroll(),this.$root.remove(),n.ajax({type:"POST",url:this.o.welcomePopWasWatcherUrl,success:function(){}}))},this));n(".prev",this.$root).click(n.proxy(this.slideAnimate,this,this.width))},slideAnimate:function(n,t){t.stopPropagation();this.$root.animate({left:this.$root.offset().left+n},700)}})}(jQuery),function(n){n.utils.registerNamespace("areas.root.views.shared.editorTemplates");n.areas.root.views.shared.editorTemplates.personContactsModel=function(t){this.o=t;this.$root=n(".PersonContactsModel-editor");this.init();this.initialized=!0};n.areas.root.views.shared.editorTemplates.personContactsModel.prototype={o:null,initialized:!1,$root:null,$lineTemplate:null,init:function(){n("form",this.$root).validate();this.loadLineTemplate();this.buildInitialList();n(".add-new-item-block img",this.$root).click(n.utils.proxy(this.onAddLineClicked,this))},loadLineTemplate:function(){this.$lineTemplate=n("li.line-template",this.$root).removeClass("line-template").detach()},buildInitialList:function(){for(var n=0;n<this.o.contacts.length;n++)this.addNewLine(this.o.contacts[n]);this.generateNamesForInputs()},makeDropdownForLine:function(t){var i=n("input:hidden",t).val(),r;n(".input-wrap",t).before(n("#contactsDropdownTemplate").clone().attr("id",""));i=i||1;this.setValue(t,i);r=this;n(".jquery-dropdown",t).dropdown({selectedValue:i,change:function(n){r.setValue(t,n)}});n("input[type=text]._value-element",t).rules("add",{required:!0,messages:{required:"Поле не может быть пустым"}})},setValue:function(t,i){n("input:hidden._type-element",t).val(i);i==1?n("input[type=text]._value-element",t).rules("add",{email:!0,messages:{email:"Введите корректный email"}}):n("input._value-element",t).rules("remove","email");i==2&&n("input[type=text]._value-element",t).val().length==10||i==2&&n("input[type=text]._value-element",t).val().length==0?n("input[type=text]._value-element",t).mask(" 7 ddd ddd dddd"):n("input._value-element",t).unmask()},generateNamesForInputs:function(){n("._type-element",this.$root).generateName(this.o.typeTemplateName);n("._value-element",this.$root).generateName(this.o.valueTemplateName);this.generateValidation()},generateValidation:function(){n("._value-element",this.$root).each(function(){var i=n(this).attr("name"),t;n(this).siblings("label").attr("for",i);t=n(this).closest("li").children("input:hidden").val();t==1?n(this).rules("add",{email:!0,messages:{email:"Введите корректный email"}}):n(this).rules("remove","email")})},onAddLineClicked:function(){this.addNewLine()},addNewLine:function(t){var i=this.$lineTemplate.clone();n(".add-new-item-block",this.$root).before(i);this.generateNamesForInputs();t!=null&&(n("._type-element",i).val(t.Type),n("._value-element",i).val(t.Value));this.makeDropdownForLine(i);i.find(".delete-button").click(n.utils.proxy(this.onRemoveLineClicked,this))},onRemoveLineClicked:function(t){var i=n(t).closest("li");i.remove();this.generateNamesForInputs()}}}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared.coursePopUp",{o:null,$root:null,init:function(){this.$root=n(".v-course-popup-root");this.markCustomerAsPopUpShowed();n("form",this.$root).customAjaxForm({success:n.proxy(this.closeForm,this)})},markCustomerAsPopUpShowed:function(){n.customAjax({type:"post",url:this.o.handlers.markAsPopUpShowed})},closeForm:function(){n(".close-popup",this.$root).click()}})}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared.logoLine",{o:null,$root:null,init:function(){var t,i;this.$root=n(".b-logo-line");t=this;n(".main-item",this.$root).click(function(){n(this).toggleClass("selected");n(".profile-menu ul",t.$root).toggleClass("visible")});i=n(".main-item, .profile-menu ul",this.$root);n(window).on("click.Bst",function(r){i.has(r.target).length!=0||i.is(r.target)||(n(".main-item",t.$root).removeClass("selected"),n(".profile-menu ul",t.$root).removeClass("visible"))});location.pathname=="/Customer/"&&n(".home-link",this.$root).addClass("selected")}})}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared.menuLine",{o:null,$root:null,init:function(){var t=this;this.$root=n(".b-menu-line.b-site-row");n(".search:not(.disabled)",this.$root).qtip({content:{text:n(".w-search",t.$root)},events:{visible:function(t,i){n("input[type=text]",i.get("content.text")).focus()}},position:{my:"top right",at:"bottom left",adjust:{x:15,y:9}},style:{classes:"qtip-light w-search-qtip",tip:{mimic:"center center",offset:25}},show:{event:"click",solo:!0},hide:{event:"unfocus"}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared.requestCall",{o:null,$root:null,init:function(){this.$root=n(".w-customer-request-call-form");var t=this;n("form",this.$root).customAjaxForm({success:function(i){i.Ok==!0?n(".success-link",t.$root).click():n.utils.showError(i.Error)}})}})}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared.webPushSubscribe",{o:null,$root:null,showed:null,init:function(){this.$root=n(".w-web-push-subscribe-popup");this.$root.slideUp(1,function(){n(this).css("z-index","100")});setTimeout(n.proxy(this.showPopup,this),1e4);n(".subscribe",this.$root).click(n.proxy(this.accept,this));n(".cancel",this.$root).click(n.proxy(this.postpone,this));n("body").click(n.proxy(this.postpone,this));this.$root.click(n.proxy(this.stopPropogation,this))},showPopup:function(){n("#simple-popup-overlay").filter(":visible").length>0||n.cookie("web-push-subscribe-popup")||(this.$root.slideDown(300),this.showed=!0)},accept:function(t){t.stopPropagation();this.$root.slideUp(300,n.proxy(function(){"serviceWorker"in navigator?(console.log("Service Worker is supported"),navigator.serviceWorker.register("/customer/common/scripts/web-push-service-worker.js").then(n.proxy(this.onServiceRegistred,this)).catch(n.proxy(this.fail,this))):this.fail();this.showed=!1;this.$root.remove()},this))},onServiceRegistred:function(t){setTimeout(n.proxy(function(){t.pushManager.subscribe({userVisibleOnly:!0}).then(n.proxy(this.onSubscribed,this))},this),100)},onSubscribed:function(t){n.customAjax({url:this.o.UpdateCustomerAccessUrl,type:"post",data:{DeviceId:t.endpoint,Access:Notification.permission},success:function(){}})},fail:function(){n.utils.webNotification?n.utils.localStorage.set(n.utils.webNotification.webPushSubscribedStorageKey,!0):n.cookie("web-push-subscribe-popup",!0,{expires:30,path:"/"})},postpone:function(){this.showed&&(n.cookie("web-push-subscribe-popup",!0,{expires:3,path:"/"}),this.$root.slideUp(300,n.proxy(function(){this.$root.remove();this.showed=!1},this)))},stopPropogation:function(n){return n.stopPropagation(),!1}})}(jQuery),function(n){n.utils.viewScript("areas.root.views.shared._PopupLayout",{o:null,$root:null,init:function(){this.$root=n(".w-popup-root");this.closeOnClick()},closeOnClick:function(){n(".btn-close").click(function(){n(".w-popup-overlay, .w-popup-root").remove()})}})}(jQuery)